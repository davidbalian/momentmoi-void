"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/vendors/[slug]/page",{

/***/ "(app-pages-browser)/./src/app/vendors/[slug]/VendorDetailClient.tsx":
/*!*******************************************************!*\
  !*** ./src/app/vendors/[slug]/VendorDetailClient.tsx ***!
  \*******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VendorDetailClient)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_Card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/Card */ \"(app-pages-browser)/./src/components/ui/Card.tsx\");\n/* harmony import */ var _components_ui_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/Button */ \"(app-pages-browser)/./src/components/ui/Button.tsx\");\n/* harmony import */ var _components_ui_Badge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/Badge */ \"(app-pages-browser)/./src/components/ui/Badge.tsx\");\n/* harmony import */ var _components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/Icon */ \"(app-pages-browser)/./src/components/ui/Icon.tsx\");\n/* harmony import */ var _components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/Skeleton */ \"(app-pages-browser)/./src/components/ui/Skeleton.tsx\");\n/* harmony import */ var _components_layout_Header__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/layout/Header */ \"(app-pages-browser)/./src/components/layout/Header.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/hooks */ \"(app-pages-browser)/./src/hooks/index.ts\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\nfunction VendorDetailClient(param) {\n    let { vendorSlug } = param;\n    _s();\n    const [vendor, setVendor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isFavorite, setIsFavorite] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [contactForm, setContactForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        eventType: \"\",\n        eventDate: \"\",\n        guestCount: \"\",\n        message: \"\"\n    });\n    const [submitting, setSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showGalleryUpload, setShowGalleryUpload] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_9__.useAuth)();\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_8__.createClientComponentClient)();\n    // Gallery hooks\n    const { images: galleryImages, refetch: refetchGallery } = (0,_hooks__WEBPACK_IMPORTED_MODULE_10__.useVendorGallery)({\n        vendorId: (vendor === null || vendor === void 0 ? void 0 : vendor.id) || \"\"\n    });\n    const { uploadImages } = (0,_hooks__WEBPACK_IMPORTED_MODULE_10__.useImageUpload)({\n        vendorId: (vendor === null || vendor === void 0 ? void 0 : vendor.id) || \"\"\n    });\n    // Check if current user can edit this vendor's gallery\n    const canEditGallery = user && vendor && user.id === vendor.id;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"VendorDetailClient.useEffect\": ()=>{\n            fetchVendorDetails();\n            checkFavoriteStatus();\n        }\n    }[\"VendorDetailClient.useEffect\"], [\n        vendorSlug,\n        user\n    ]);\n    const fetchVendorDetails = async ()=>{\n        try {\n            setLoading(true);\n            setError(null);\n            // Try to fetch by slug first, if that fails, try by ID for backward compatibility\n            let query = supabase.from(\"vendor_profiles\").select(\"\\n          *,\\n          vendor_services (\\n            id,\\n            name,\\n            description,\\n            pricing_model,\\n            event_types,\\n            is_active,\\n            category:service_categories (\\n              name,\\n              icon\\n            )\\n          ),\\n          vendor_locations (\\n            id,\\n            location\\n          ),\\n          vendor_contacts (\\n            id,\\n            contact_type,\\n            contact_value,\\n            is_primary\\n          ),\\n          vendor_gallery (\\n            id,\\n            image_url,\\n            caption,\\n            display_order,\\n            is_featured,\\n            created_at\\n          )\\n        \");\n            // If the slug looks like a UUID, try ID first, otherwise try slug\n            const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n            if (uuidRegex.test(vendorSlug)) {\n                query = query.eq(\"id\", vendorSlug);\n            } else {\n                query = query.eq(\"slug\", vendorSlug);\n            }\n            const { data, error } = await query.single();\n            if (error) {\n                if (error.code === \"PGRST116\") {\n                    (0,next_navigation__WEBPACK_IMPORTED_MODULE_12__.notFound)();\n                }\n                throw error;\n            }\n            // Filter to only show active services\n            const filteredVendor = {\n                ...data,\n                vendor_services: data.vendor_services.filter((service)=>service.is_active)\n            };\n            setVendor(filteredVendor);\n            // Increment profile views\n            await supabase.from(\"vendor_profiles\").update({\n                profile_views: (data.profile_views || 0) + 1\n            }).eq(\"id\", data.id);\n        } catch (err) {\n            console.error(\"Error fetching vendor details:\", err);\n            setError(\"Failed to load vendor details\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    const checkFavoriteStatus = ()=>{\n        if (!user || !vendor) return;\n        const storedFavorites = localStorage.getItem(\"favorites_\".concat(user.id));\n        if (storedFavorites) {\n            const favoriteIds = JSON.parse(storedFavorites);\n            setIsFavorite(favoriteIds.includes(vendor.id));\n        }\n    };\n    const toggleFavorite = ()=>{\n        if (!user || !vendor) {\n            // Redirect to login if not authenticated\n            window.location.href = \"/auth/login\";\n            return;\n        }\n        const storedFavorites = localStorage.getItem(\"favorites_\".concat(user.id));\n        let favoriteIds = storedFavorites ? JSON.parse(storedFavorites) : [];\n        if (isFavorite) {\n            favoriteIds = favoriteIds.filter((id)=>id !== vendor.id);\n        } else {\n            favoriteIds.push(vendor.id);\n        }\n        localStorage.setItem(\"favorites_\".concat(user.id), JSON.stringify(favoriteIds));\n        setIsFavorite(!isFavorite);\n    };\n    const handleContactSubmit = async (e)=>{\n        e.preventDefault();\n        if (!vendor) return;\n        try {\n            setSubmitting(true);\n            const { error } = await supabase.from(\"vendor_inquiries\").insert({\n                vendor_id: vendor.id,\n                client_name: contactForm.name,\n                client_email: contactForm.email,\n                client_phone: contactForm.phone || null,\n                event_type: contactForm.eventType,\n                event_date: contactForm.eventDate || null,\n                guest_count: contactForm.guestCount ? parseInt(contactForm.guestCount) : null,\n                location: null,\n                budget_range: null,\n                message: contactForm.message,\n                status: \"new\",\n                priority: \"medium\",\n                source: \"website\"\n            });\n            if (error) throw error;\n            // Reset form\n            setContactForm({\n                name: \"\",\n                email: \"\",\n                phone: \"\",\n                eventType: \"\",\n                eventDate: \"\",\n                guestCount: \"\",\n                message: \"\"\n            });\n            alert(\"Your inquiry has been sent successfully!\");\n        } catch (err) {\n            console.error(\"Error sending inquiry:\", err);\n            alert(\"Failed to send inquiry. Please try again.\");\n        } finally{\n            setSubmitting(false);\n        }\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-background\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_Header__WEBPACK_IMPORTED_MODULE_7__.Header, {}, void 0, false, {\n                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                    lineNumber: 274,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative w-full h-[40svh] bg-primary-100\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_6__.Skeleton, {\n                        className: \"w-full h-full\"\n                    }, void 0, false, {\n                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                        lineNumber: 278,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                    lineNumber: 277,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"container mx-auto px-4 py-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"max-w-4xl mx-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-start space-x-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_6__.Skeleton, {\n                                            className: \"w-24 h-24 rounded-lg\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 286,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1 space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_6__.Skeleton, {\n                                                    className: \"h-8 w-64\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 288,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_6__.Skeleton, {\n                                                    className: \"h-4 w-48\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 289,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_6__.Skeleton, {\n                                                    className: \"h-4 w-32\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 290,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 287,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                    lineNumber: 285,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_6__.Skeleton, {\n                                            className: \"h-6 w-32\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 296,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                                            children: [\n                                                1,\n                                                2,\n                                                3,\n                                                4\n                                            ].map((i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_6__.Skeleton, {\n                                                    className: \"h-32\"\n                                                }, i, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 299,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 297,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                    lineNumber: 295,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                            lineNumber: 283,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                        lineNumber: 282,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                    lineNumber: 281,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n            lineNumber: 273,\n            columnNumber: 7\n        }, this);\n    }\n    if (error || !vendor) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-background\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_Header__WEBPACK_IMPORTED_MODULE_7__.Header, {}, void 0, false, {\n                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                    lineNumber: 313,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-center min-h-[60vh]\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                name: \"AlertCircle\",\n                                size: \"lg\",\n                                className: \"text-red-500 mx-auto mb-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                lineNumber: 316,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-xl font-semibold text-text-primary mb-2\",\n                                children: \"Vendor Not Found\"\n                            }, void 0, false, {\n                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                lineNumber: 321,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-text-secondary mb-4\",\n                                children: \"The vendor you're looking for doesn't exist or has been removed.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                lineNumber: 324,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_11___default()), {\n                                href: \"/dashboard/client/vendors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    variant: \"outline\",\n                                    children: \"Browse Vendors\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                    lineNumber: 328,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                lineNumber: 327,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                        lineNumber: 315,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                    lineNumber: 314,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n            lineNumber: 312,\n            columnNumber: 7\n        }, this);\n    }\n    const primaryContact = vendor.vendor_contacts.find((contact)=>contact.is_primary);\n    const locationDisplay = vendor.vendor_locations.length > 0 ? vendor.vendor_locations[0].location.replace(/_/g, \" \").replace(/\\b\\w/g, (l)=>l.toUpperCase()) : \"Location not specified\";\n    // Determine which image to use for the hero section\n    const heroImageUrl = (vendor === null || vendor === void 0 ? void 0 : vendor.featured_image_url) || (vendor === null || vendor === void 0 ? void 0 : vendor.logo_url);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-background\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_Header__WEBPACK_IMPORTED_MODULE_7__.Header, {}, void 0, false, {\n                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                lineNumber: 352,\n                columnNumber: 7\n            }, this),\n            heroImageUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative w-full h-[40svh] overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: heroImageUrl,\n                        alt: vendor.business_name,\n                        className: \"w-full h-full object-cover\"\n                    }, void 0, false, {\n                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                        lineNumber: 357,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 bg-black/20\"\n                    }, void 0, false, {\n                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                        lineNumber: 363,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                lineNumber: 356,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto px-4 py-8\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-8xl mx-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                            className: \"mb-8\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ol\", {\n                                className: \"flex items-center space-x-2 text-sm text-text-secondary\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_11___default()), {\n                                            href: \"/\",\n                                            className: \"hover:text-primary-500\",\n                                            children: \"Home\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 373,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                        lineNumber: 372,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                            name: \"ChevronRight\",\n                                            size: \"sm\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 378,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                        lineNumber: 377,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_11___default()), {\n                                            href: \"/vendors\",\n                                            className: \"hover:text-primary-500\",\n                                            children: \"Vendors\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 381,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                        lineNumber: 380,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                            name: \"ChevronRight\",\n                                            size: \"sm\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 386,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                        lineNumber: 385,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"text-text-primary\",\n                                        children: vendor.business_name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                        lineNumber: 388,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                lineNumber: 371,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                            lineNumber: 370,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 lg:grid-cols-[2.5fr_1fr] gap-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-8\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center space-x-3\",\n                                                    children: [\n                                                        vendor.verified && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_4__.Badge, {\n                                                            variant: \"success\",\n                                                            size: \"sm\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                                                    name: \"CheckCircle\",\n                                                                    size: \"xs\",\n                                                                    className: \"mr-1\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 401,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                \"Verified\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 400,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center space-x-2 text-sm text-text-secondary\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                                                    name: \"MapPin\",\n                                                                    size: \"sm\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 406,\n                                                                    columnNumber: 21\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    children: locationDisplay\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 407,\n                                                                    columnNumber: 21\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 405,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 398,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                                className: \"text-3xl font-bold text-text-primary\",\n                                                                children: vendor.business_name\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                lineNumber: 414,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 413,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                            variant: isFavorite ? \"primary\" : \"outline\",\n                                                            size: \"sm\",\n                                                            onClick: toggleFavorite,\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                                                    name: isFavorite ? \"Heart\" : \"Heart\",\n                                                                    size: \"sm\",\n                                                                    className: \"mr-1 \".concat(isFavorite ? \"fill-current\" : \"\")\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 423,\n                                                                    columnNumber: 21\n                                                                }, this),\n                                                                isFavorite ? \"Saved\" : \"Save\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 418,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 412,\n                                                    columnNumber: 17\n                                                }, this),\n                                                vendor.event_types.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex flex-wrap gap-2 mt-2\",\n                                                    children: vendor.event_types.map((eventType)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_4__.Badge, {\n                                                            variant: \"primary\",\n                                                            size: \"sm\",\n                                                            children: eventType.replace(/_/g, \" \").replace(/\\b\\w/g, (l)=>l.toUpperCase())\n                                                        }, eventType, false, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 436,\n                                                            columnNumber: 23\n                                                        }, this))\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 434,\n                                                    columnNumber: 19\n                                                }, this),\n                                                vendor.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"!text-text-primary leading-relaxed text-lg\",\n                                                    children: vendor.description\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 447,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                                                    className: \"bg-surface border-border\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                                                        className: \"p-4\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-4\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center space-x-1\",\n                                                                        children: [\n                                                                            [\n                                                                                1,\n                                                                                2,\n                                                                                3,\n                                                                                4,\n                                                                                5\n                                                                            ].map((star)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                                                                    name: \"Star\",\n                                                                                    size: \"sm\",\n                                                                                    className: \"text-yellow-400 fill-current\"\n                                                                                }, star, false, {\n                                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                    lineNumber: 460,\n                                                                                    columnNumber: 29\n                                                                                }, this)),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-sm text-text-secondary ml-1\",\n                                                                                children: \"(4.8)\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                lineNumber: 467,\n                                                                                columnNumber: 27\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                        lineNumber: 458,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center space-x-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                                                                name: \"Tag\",\n                                                                                size: \"sm\",\n                                                                                className: \"text-primary-500\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                lineNumber: 474,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-sm text-text-primary capitalize\",\n                                                                                children: vendor.business_category\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                lineNumber: 479,\n                                                                                columnNumber: 27\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                        lineNumber: 473,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center space-x-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                                                                name: \"Eye\",\n                                                                                size: \"sm\",\n                                                                                className: \"text-text-secondary\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                lineNumber: 486,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-sm text-text-secondary\",\n                                                                                children: [\n                                                                                    vendor.profile_views,\n                                                                                    \" views\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                lineNumber: 491,\n                                                                                columnNumber: 27\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                        lineNumber: 485,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                lineNumber: 456,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 455,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                        lineNumber: 454,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 453,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 396,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.CardHeader, {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.CardTitle, {\n                                                        children: \"Services\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                        lineNumber: 504,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 503,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                                                    children: vendor.vendor_services.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-4\",\n                                                        children: vendor.vendor_services.map((service)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"border border-border rounded-lg p-4 hover:shadow-sm transition-shadow\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-start justify-between mb-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                                className: \"font-semibold text-text-primary\",\n                                                                                children: service.name\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                lineNumber: 515,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_4__.Badge, {\n                                                                                variant: \"outline\",\n                                                                                size: \"sm\",\n                                                                                children: service.pricing_model\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                lineNumber: 518,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                        lineNumber: 514,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    service.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm text-text-secondary mb-3\",\n                                                                        children: service.description\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                        lineNumber: 523,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center space-x-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_4__.Badge, {\n                                                                                variant: \"secondary\",\n                                                                                size: \"sm\",\n                                                                                children: service.category.name\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                lineNumber: 528,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            service.event_types.map((eventType)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_4__.Badge, {\n                                                                                    variant: \"outline\",\n                                                                                    size: \"sm\",\n                                                                                    children: eventType.replace(/_/g, \" \")\n                                                                                }, eventType, false, {\n                                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                    lineNumber: 532,\n                                                                                    columnNumber: 31\n                                                                                }, this))\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                        lineNumber: 527,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, service.id, true, {\n                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                lineNumber: 510,\n                                                                columnNumber: 25\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                        lineNumber: 508,\n                                                        columnNumber: 21\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-text-secondary text-center py-8\",\n                                                        children: \"No services available\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                        lineNumber: 545,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 506,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 502,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.CardHeader, {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.CardTitle, {\n                                                        children: \"Contact Information\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                        lineNumber: 555,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 554,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-3\",\n                                                        children: vendor.vendor_contacts.map((contact)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-3\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                                                        name: contact.contact_type === \"email\" ? \"Mail\" : \"Phone\",\n                                                                        size: \"sm\",\n                                                                        className: \"text-primary-500\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                        lineNumber: 564,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                className: \"text-sm font-medium text-text-primary\",\n                                                                                children: contact.contact_type === \"email\" ? \"Email\" : \"Phone\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                lineNumber: 572,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                                                href: contact.contact_type === \"email\" ? \"mailto:\".concat(contact.contact_value) : \"tel:\".concat(contact.contact_value),\n                                                                                className: \"text-sm text-primary-500 hover:underline\",\n                                                                                children: contact.contact_value\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                                lineNumber: 577,\n                                                                                columnNumber: 27\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                        lineNumber: 571,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    contact.is_primary && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_4__.Badge, {\n                                                                        variant: \"success\",\n                                                                        size: \"sm\",\n                                                                        children: \"Primary\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                        lineNumber: 589,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, contact.id, true, {\n                                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                lineNumber: 560,\n                                                                columnNumber: 23\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                        lineNumber: 558,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 557,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                            lineNumber: 553,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                    lineNumber: 394,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-6\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.CardHeader, {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.CardTitle, {\n                                                    children: \"Send Inquiry\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 605,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                lineNumber: 604,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                                    onSubmit: handleContactSubmit,\n                                                    className: \"space-y-4\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: \"block text-sm font-medium text-text-primary mb-1\",\n                                                                    children: \"Name *\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 610,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"text\",\n                                                                    required: true,\n                                                                    value: contactForm.name,\n                                                                    onChange: (e)=>setContactForm({\n                                                                            ...contactForm,\n                                                                            name: e.target.value\n                                                                        }),\n                                                                    className: \"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 613,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 609,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: \"block text-sm font-medium text-text-primary mb-1\",\n                                                                    children: \"Email *\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 628,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"email\",\n                                                                    required: true,\n                                                                    value: contactForm.email,\n                                                                    onChange: (e)=>setContactForm({\n                                                                            ...contactForm,\n                                                                            email: e.target.value\n                                                                        }),\n                                                                    className: \"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 631,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 627,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: \"block text-sm font-medium text-text-primary mb-1\",\n                                                                    children: \"Phone\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 646,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"tel\",\n                                                                    value: contactForm.phone,\n                                                                    onChange: (e)=>setContactForm({\n                                                                            ...contactForm,\n                                                                            phone: e.target.value\n                                                                        }),\n                                                                    className: \"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 649,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 645,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: \"block text-sm font-medium text-text-primary mb-1\",\n                                                                    children: \"Event Type\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 663,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                                    value: contactForm.eventType,\n                                                                    onChange: (e)=>setContactForm({\n                                                                            ...contactForm,\n                                                                            eventType: e.target.value\n                                                                        }),\n                                                                    className: \"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                            value: \"\",\n                                                                            children: \"Select event type\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                            lineNumber: 676,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                            value: \"wedding\",\n                                                                            children: \"Wedding\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                            lineNumber: 677,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                            value: \"christening\",\n                                                                            children: \"Christening\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                            lineNumber: 678,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                            value: \"party\",\n                                                                            children: \"Party\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                            lineNumber: 679,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                            value: \"kids_party\",\n                                                                            children: \"Kids Party\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                            lineNumber: 680,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 666,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 662,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: \"block text-sm font-medium text-text-primary mb-1\",\n                                                                    children: \"Event Date\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 685,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"date\",\n                                                                    value: contactForm.eventDate,\n                                                                    onChange: (e)=>setContactForm({\n                                                                            ...contactForm,\n                                                                            eventDate: e.target.value\n                                                                        }),\n                                                                    className: \"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 688,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 684,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: \"block text-sm font-medium text-text-primary mb-1\",\n                                                                    children: \"Guest Count\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 702,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"number\",\n                                                                    min: \"1\",\n                                                                    value: contactForm.guestCount,\n                                                                    onChange: (e)=>setContactForm({\n                                                                            ...contactForm,\n                                                                            guestCount: e.target.value\n                                                                        }),\n                                                                    className: \"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 705,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 701,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    className: \"block text-sm font-medium text-text-primary mb-1\",\n                                                                    children: \"Message *\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 720,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                                    required: true,\n                                                                    rows: 4,\n                                                                    value: contactForm.message,\n                                                                    onChange: (e)=>setContactForm({\n                                                                            ...contactForm,\n                                                                            message: e.target.value\n                                                                        }),\n                                                                    className: \"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n                                                                    placeholder: \"Tell us about your event and requirements...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                                    lineNumber: 723,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 719,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                            type: \"submit\",\n                                                            className: \"w-full\",\n                                                            loading: submitting,\n                                                            disabled: submitting,\n                                                            children: \"Send Inquiry\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                            lineNumber: 738,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                    lineNumber: 608,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                                lineNumber: 607,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                        lineNumber: 603,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                                    lineNumber: 601,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                            lineNumber: 392,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                    lineNumber: 368,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n                lineNumber: 367,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/davidbalian/Desktop/momentmoi-void/src/app/vendors/[slug]/VendorDetailClient.tsx\",\n        lineNumber: 351,\n        columnNumber: 5\n    }, this);\n}\n_s(VendorDetailClient, \"iDqCEC4v9WXGiWL4HRdNQgZZLNM=\", false, function() {\n    return [\n        _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_9__.useAuth,\n        _hooks__WEBPACK_IMPORTED_MODULE_10__.useVendorGallery,\n        _hooks__WEBPACK_IMPORTED_MODULE_10__.useImageUpload\n    ];\n});\n_c = VendorDetailClient;\nvar _c;\n$RefreshReg$(_c, \"VendorDetailClient\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvdmVuZG9ycy9bc2x1Z10vVmVuZG9yRGV0YWlsQ2xpZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbUQ7QUFDNkI7QUFDaEM7QUFDRjtBQUNGO0FBQ1E7QUFDQTtBQUNTO0FBQ1o7QUFDVTtBQUc5QjtBQUNjO0FBeUQ1QixTQUFTa0IsbUJBQW1CLEtBRWpCO1FBRmlCLEVBQ3pDQyxVQUFVLEVBQ2MsR0FGaUI7O0lBR3pDLE1BQU0sQ0FBQ0MsUUFBUUMsVUFBVSxHQUFHcEIsK0NBQVFBLENBQXVCO0lBQzNELE1BQU0sQ0FBQ3FCLFNBQVNDLFdBQVcsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ3VCLE9BQU9DLFNBQVMsR0FBR3hCLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUN5QixZQUFZQyxjQUFjLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUMyQixhQUFhQyxlQUFlLEdBQUc1QiwrQ0FBUUEsQ0FBQztRQUM3QzZCLE1BQU07UUFDTkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLFdBQVc7UUFDWEMsV0FBVztRQUNYQyxZQUFZO1FBQ1pDLFNBQVM7SUFDWDtJQUNBLE1BQU0sQ0FBQ0MsWUFBWUMsY0FBYyxHQUFHckMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDc0MsbUJBQW1CQyxxQkFBcUIsR0FBR3ZDLCtDQUFRQSxDQUFDO0lBRTNELE1BQU0sRUFBRXdDLElBQUksRUFBRSxHQUFHNUIsOERBQU9BO0lBQ3hCLE1BQU02QixXQUFXOUIsMEVBQTJCQTtJQUU1QyxnQkFBZ0I7SUFDaEIsTUFBTSxFQUFFK0IsUUFBUUMsYUFBYSxFQUFFQyxTQUFTQyxjQUFjLEVBQUUsR0FBR2hDLHlEQUFnQkEsQ0FBQztRQUMxRWlDLFVBQVUzQixDQUFBQSxtQkFBQUEsNkJBQUFBLE9BQVE0QixFQUFFLEtBQUk7SUFDMUI7SUFDQSxNQUFNLEVBQUVDLFlBQVks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Q0FBQ2pFLElBQ1R6RCxlQUFlOzRFQUNiLEdBQUdELFdBQVc7NEVBQ2RNLFdBQVdvRCxFQUFFa0UsTUFBTSxDQUFDRixLQUFLO3dFQUMzQjtvRUFFRi9DLFdBQVU7Ozs7Ozs7Ozs7OztzRUFJZCw4REFBQ0Q7OzhFQUNDLDhEQUFDNEM7b0VBQU0zQyxXQUFVOzhFQUFtRDs7Ozs7OzhFQUdwRSw4REFBQzRDO29FQUNDQyxNQUFLO29FQUNMTSxLQUFJO29FQUNKSixPQUFPMUgsWUFBWU8sVUFBVTtvRUFDN0JvSCxVQUFVLENBQUNqRSxJQUNUekQsZUFBZTs0RUFDYixHQUFHRCxXQUFXOzRFQUNkTyxZQUFZbUQsRUFBRWtFLE1BQU0sQ0FBQ0YsS0FBSzt3RUFDNUI7b0VBRUYvQyxXQUFVOzs7Ozs7Ozs7Ozs7c0VBSWQsOERBQUNEOzs4RUFDQyw4REFBQzRDO29FQUFNM0MsV0FBVTs4RUFBbUQ7Ozs7Ozs4RUFHcEUsOERBQUNvRDtvRUFDQ04sUUFBUTtvRUFDUk8sTUFBTTtvRUFDTk4sT0FBTzFILFlBQVlRLE9BQU87b0VBQzFCbUgsVUFBVSxDQUFDakUsSUFDVHpELGVBQWU7NEVBQ2IsR0FBR0QsV0FBVzs0RUFDZFEsU0FBU2tELEVBQUVrRSxNQUFNLENBQUNGLEtBQUs7d0VBQ3pCO29FQUVGL0MsV0FBVTtvRUFDVnNELGFBQVk7Ozs7Ozs7Ozs7OztzRUFJaEIsOERBQUN0Six5REFBTUE7NERBQ0w2SSxNQUFLOzREQUNMN0MsV0FBVTs0REFDVmpGLFNBQVNlOzREQUNUeUgsVUFBVXpIO3NFQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFZckI7R0ExcUJ3Qm5COztRQW1CTEwsMERBQU9BO1FBSW1DQyxxREFBZ0JBO1FBR2xEQyxtREFBY0E7OztLQTFCakJHIiwic291cmNlcyI6WyIvVXNlcnMvZGF2aWRiYWxpYW4vRGVza3RvcC9tb21lbnRtb2ktdm9pZC9zcmMvYXBwL3ZlbmRvcnMvW3NsdWddL1ZlbmRvckRldGFpbENsaWVudC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDYXJkLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUsIENhcmRDb250ZW50IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9DYXJkXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL0J1dHRvblwiO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL0JhZGdlXCI7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9JY29uXCI7XG5pbXBvcnQgeyBTa2VsZXRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvU2tlbGV0b25cIjtcbmltcG9ydCB7IEhlYWRlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvbGF5b3V0L0hlYWRlclwiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlXCI7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSBcIkAvY29udGV4dHMvQXV0aENvbnRleHRcIjtcbmltcG9ydCB7IHVzZVZlbmRvckdhbGxlcnksIHVzZUltYWdlVXBsb2FkIH0gZnJvbSBcIkAvaG9va3NcIjtcbmltcG9ydCBJbWFnZUdhbGxlcnkgZnJvbSBcIkAvY29tcG9uZW50cy9mZWF0dXJlcy92ZW5kb3JzL0ltYWdlR2FsbGVyeVwiO1xuaW1wb3J0IEltYWdlVXBsb2FkIGZyb20gXCJAL2NvbXBvbmVudHMvZmVhdHVyZXMvdmVuZG9ycy9JbWFnZVVwbG9hZFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IHsgbm90Rm91bmQgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5cbmludGVyZmFjZSBWZW5kb3JQcm9maWxlIHtcbiAgaWQ6IHN0cmluZztcbiAgYnVzaW5lc3NfbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgbG9nb191cmw6IHN0cmluZyB8IG51bGw7XG4gIGZlYXR1cmVkX2ltYWdlX3VybD86IHN0cmluZyB8IG51bGw7XG4gIHZlcmlmaWVkOiBib29sZWFuO1xuICBidXNpbmVzc19jYXRlZ29yeTogc3RyaW5nO1xuICBldmVudF90eXBlczogc3RyaW5nW107XG4gIHByb2ZpbGVfdmlld3M6IG51bWJlcjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICB2ZW5kb3Jfc2VydmljZXM6IFZlbmRvclNlcnZpY2VbXTtcbiAgdmVuZG9yX2xvY2F0aW9uczogVmVuZG9yTG9jYXRpb25bXTtcbiAgdmVuZG9yX2NvbnRhY3RzOiBWZW5kb3JDb250YWN0W107XG4gIHZlbmRvcl9nYWxsZXJ5OiBWZW5kb3JHYWxsZXJ5SW1hZ2VbXTtcbn1cblxuaW50ZXJmYWNlIFZlbmRvckdhbGxlcnlJbWFnZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGltYWdlX3VybDogc3RyaW5nO1xuICBjYXB0aW9uPzogc3RyaW5nO1xuICBkaXNwbGF5X29yZGVyOiBudW1iZXI7XG4gIGlzX2ZlYXR1cmVkOiBib29sZWFuO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBWZW5kb3JTZXJ2aWNlIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgcHJpY2luZ19tb2RlbDogc3RyaW5nO1xuICBldmVudF90eXBlczogc3RyaW5nW107XG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcbiAgY2F0ZWdvcnk6IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgaWNvbjogc3RyaW5nIHwgbnVsbDtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFZlbmRvckxvY2F0aW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgbG9jYXRpb246IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFZlbmRvckNvbnRhY3Qge1xuICBpZDogc3RyaW5nO1xuICBjb250YWN0X3R5cGU6IFwiZW1haWxcIiB8IFwicGhvbmVcIjtcbiAgY29udGFjdF92YWx1ZTogc3RyaW5nO1xuICBpc19wcmltYXJ5OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgVmVuZG9yRGV0YWlsQ2xpZW50UHJvcHMge1xuICB2ZW5kb3JTbHVnOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZlbmRvckRldGFpbENsaWVudCh7XG4gIHZlbmRvclNsdWcsXG59OiBWZW5kb3JEZXRhaWxDbGllbnRQcm9wcykge1xuICBjb25zdCBbdmVuZG9yLCBzZXRWZW5kb3JdID0gdXNlU3RhdGU8VmVuZG9yUHJvZmlsZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzRmF2b3JpdGUsIHNldElzRmF2b3JpdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29udGFjdEZvcm0sIHNldENvbnRhY3RGb3JtXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiBcIlwiLFxuICAgIGVtYWlsOiBcIlwiLFxuICAgIHBob25lOiBcIlwiLFxuICAgIGV2ZW50VHlwZTogXCJcIixcbiAgICBldmVudERhdGU6IFwiXCIsXG4gICAgZ3Vlc3RDb3VudDogXCJcIixcbiAgICBtZXNzYWdlOiBcIlwiLFxuICB9KTtcbiAgY29uc3QgW3N1Ym1pdHRpbmcsIHNldFN1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0dhbGxlcnlVcGxvYWQsIHNldFNob3dHYWxsZXJ5VXBsb2FkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQoKTtcblxuICAvLyBHYWxsZXJ5IGhvb2tzXG4gIGNvbnN0IHsgaW1hZ2VzOiBnYWxsZXJ5SW1hZ2VzLCByZWZldGNoOiByZWZldGNoR2FsbGVyeSB9ID0gdXNlVmVuZG9yR2FsbGVyeSh7XG4gICAgdmVuZG9ySWQ6IHZlbmRvcj8uaWQgfHwgXCJcIixcbiAgfSk7XG4gIGNvbnN0IHsgdXBsb2FkSW1hZ2VzIH0gPSB1c2VJbWFnZVVwbG9hZCh7XG4gICAgdmVuZG9ySWQ6IHZlbmRvcj8uaWQgfHwgXCJcIixcbiAgfSk7XG5cbiAgLy8gQ2hlY2sgaWYgY3VycmVudCB1c2VyIGNhbiBlZGl0IHRoaXMgdmVuZG9yJ3MgZ2FsbGVyeVxuICBjb25zdCBjYW5FZGl0R2FsbGVyeSA9IHVzZXIgJiYgdmVuZG9yICYmIHVzZXIuaWQgPT09IHZlbmRvci5pZDtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoVmVuZG9yRGV0YWlscygpO1xuICAgIGNoZWNrRmF2b3JpdGVTdGF0dXMoKTtcbiAgfSwgW3ZlbmRvclNsdWcsIHVzZXJdKTtcblxuICBjb25zdCBmZXRjaFZlbmRvckRldGFpbHMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgLy8gVHJ5IHRvIGZldGNoIGJ5IHNsdWcgZmlyc3QsIGlmIHRoYXQgZmFpbHMsIHRyeSBieSBJRCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2UuZnJvbShcInZlbmRvcl9wcm9maWxlc1wiKS5zZWxlY3QoXG4gICAgICAgIGBcbiAgICAgICAgICAqLFxuICAgICAgICAgIHZlbmRvcl9zZXJ2aWNlcyAoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHByaWNpbmdfbW9kZWwsXG4gICAgICAgICAgICBldmVudF90eXBlcyxcbiAgICAgICAgICAgIGlzX2FjdGl2ZSxcbiAgICAgICAgICAgIGNhdGVnb3J5OnNlcnZpY2VfY2F0ZWdvcmllcyAoXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIGljb25cbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIHZlbmRvcl9sb2NhdGlvbnMgKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBsb2NhdGlvblxuICAgICAgICAgICksXG4gICAgICAgICAgdmVuZG9yX2NvbnRhY3RzIChcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgY29udGFjdF90eXBlLFxuICAgICAgICAgICAgY29udGFjdF92YWx1ZSxcbiAgICAgICAgICAgIGlzX3ByaW1hcnlcbiAgICAgICAgICApLFxuICAgICAgICAgIHZlbmRvcl9nYWxsZXJ5IChcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgaW1hZ2VfdXJsLFxuICAgICAgICAgICAgY2FwdGlvbixcbiAgICAgICAgICAgIGRpc3BsYXlfb3JkZXIsXG4gICAgICAgICAgICBpc19mZWF0dXJlZCxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXRcbiAgICAgICAgICApXG4gICAgICAgIGBcbiAgICAgICk7XG5cbiAgICAgIC8vIElmIHRoZSBzbHVnIGxvb2tzIGxpa2UgYSBVVUlELCB0cnkgSUQgZmlyc3QsIG90aGVyd2lzZSB0cnkgc2x1Z1xuICAgICAgY29uc3QgdXVpZFJlZ2V4ID1cbiAgICAgICAgL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXsxMn0kL2k7XG4gICAgICBpZiAodXVpZFJlZ2V4LnRlc3QodmVuZG9yU2x1ZykpIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcShcImlkXCIsIHZlbmRvclNsdWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcShcInNsdWdcIiwgdmVuZG9yU2x1Zyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5LnNpbmdsZSgpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IFwiUEdSU1QxMTZcIikge1xuICAgICAgICAgIG5vdEZvdW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbHRlciB0byBvbmx5IHNob3cgYWN0aXZlIHNlcnZpY2VzXG4gICAgICBjb25zdCBmaWx0ZXJlZFZlbmRvciA9IHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgdmVuZG9yX3NlcnZpY2VzOiBkYXRhLnZlbmRvcl9zZXJ2aWNlcy5maWx0ZXIoXG4gICAgICAgICAgKHNlcnZpY2U6IFZlbmRvclNlcnZpY2UpID0+IHNlcnZpY2UuaXNfYWN0aXZlXG4gICAgICAgICksXG4gICAgICB9O1xuXG4gICAgICBzZXRWZW5kb3IoZmlsdGVyZWRWZW5kb3IpO1xuXG4gICAgICAvLyBJbmNyZW1lbnQgcHJvZmlsZSB2aWV3c1xuICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2ZW5kb3JfcHJvZmlsZXNcIilcbiAgICAgICAgLnVwZGF0ZSh7IHByb2ZpbGVfdmlld3M6IChkYXRhLnByb2ZpbGVfdmlld3MgfHwgMCkgKyAxIH0pXG4gICAgICAgIC5lcShcImlkXCIsIGRhdGEuaWQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHZlbmRvciBkZXRhaWxzOlwiLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoXCJGYWlsZWQgdG8gbG9hZCB2ZW5kb3IgZGV0YWlsc1wiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNoZWNrRmF2b3JpdGVTdGF0dXMgPSAoKSA9PiB7XG4gICAgaWYgKCF1c2VyIHx8ICF2ZW5kb3IpIHJldHVybjtcblxuICAgIGNvbnN0IHN0b3JlZEZhdm9yaXRlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGBmYXZvcml0ZXNfJHt1c2VyLmlkfWApO1xuICAgIGlmIChzdG9yZWRGYXZvcml0ZXMpIHtcbiAgICAgIGNvbnN0IGZhdm9yaXRlSWRzID0gSlNPTi5wYXJzZShzdG9yZWRGYXZvcml0ZXMpO1xuICAgICAgc2V0SXNGYXZvcml0ZShmYXZvcml0ZUlkcy5pbmNsdWRlcyh2ZW5kb3IuaWQpKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlRmF2b3JpdGUgPSAoKSA9PiB7XG4gICAgaWYgKCF1c2VyIHx8ICF2ZW5kb3IpIHtcbiAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIGlmIG5vdCBhdXRoZW50aWNhdGVkXG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2F1dGgvbG9naW5cIjtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdG9yZWRGYXZvcml0ZXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgZmF2b3JpdGVzXyR7dXNlci5pZH1gKTtcbiAgICBsZXQgZmF2b3JpdGVJZHMgPSBzdG9yZWRGYXZvcml0ZXMgPyBKU09OLnBhcnNlKHN0b3JlZEZhdm9yaXRlcykgOiBbXTtcblxuICAgIGlmIChpc0Zhdm9yaXRlKSB7XG4gICAgICBmYXZvcml0ZUlkcyA9IGZhdm9yaXRlSWRzLmZpbHRlcigoaWQ6IHN0cmluZykgPT4gaWQgIT09IHZlbmRvci5pZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZhdm9yaXRlSWRzLnB1c2godmVuZG9yLmlkKTtcbiAgICB9XG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgZmF2b3JpdGVzXyR7dXNlci5pZH1gLCBKU09OLnN0cmluZ2lmeShmYXZvcml0ZUlkcykpO1xuICAgIHNldElzRmF2b3JpdGUoIWlzRmF2b3JpdGUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvbnRhY3RTdWJtaXQgPSBhc3luYyAoZTogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghdmVuZG9yKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgc2V0U3VibWl0dGluZyh0cnVlKTtcblxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInZlbmRvcl9pbnF1aXJpZXNcIikuaW5zZXJ0KHtcbiAgICAgICAgdmVuZG9yX2lkOiB2ZW5kb3IuaWQsXG4gICAgICAgIGNsaWVudF9uYW1lOiBjb250YWN0Rm9ybS5uYW1lLFxuICAgICAgICBjbGllbnRfZW1haWw6IGNvbnRhY3RGb3JtLmVtYWlsLFxuICAgICAgICBjbGllbnRfcGhvbmU6IGNvbnRhY3RGb3JtLnBob25lIHx8IG51bGwsXG4gICAgICAgIGV2ZW50X3R5cGU6IGNvbnRhY3RGb3JtLmV2ZW50VHlwZSBhcyBhbnksXG4gICAgICAgIGV2ZW50X2RhdGU6IGNvbnRhY3RGb3JtLmV2ZW50RGF0ZSB8fCBudWxsLFxuICAgICAgICBndWVzdF9jb3VudDogY29udGFjdEZvcm0uZ3Vlc3RDb3VudFxuICAgICAgICAgID8gcGFyc2VJbnQoY29udGFjdEZvcm0uZ3Vlc3RDb3VudClcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAgIGxvY2F0aW9uOiBudWxsLFxuICAgICAgICBidWRnZXRfcmFuZ2U6IG51bGwsXG4gICAgICAgIG1lc3NhZ2U6IGNvbnRhY3RGb3JtLm1lc3NhZ2UsXG4gICAgICAgIHN0YXR1czogXCJuZXdcIixcbiAgICAgICAgcHJpb3JpdHk6IFwibWVkaXVtXCIsXG4gICAgICAgIHNvdXJjZTogXCJ3ZWJzaXRlXCIsXG4gICAgICB9KTtcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcblxuICAgICAgLy8gUmVzZXQgZm9ybVxuICAgICAgc2V0Q29udGFjdEZvcm0oe1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBlbWFpbDogXCJcIixcbiAgICAgICAgcGhvbmU6IFwiXCIsXG4gICAgICAgIGV2ZW50VHlwZTogXCJcIixcbiAgICAgICAgZXZlbnREYXRlOiBcIlwiLFxuICAgICAgICBndWVzdENvdW50OiBcIlwiLFxuICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgICAgfSk7XG5cbiAgICAgIGFsZXJ0KFwiWW91ciBpbnF1aXJ5IGhhcyBiZWVuIHNlbnQgc3VjY2Vzc2Z1bGx5IVwiKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzZW5kaW5nIGlucXVpcnk6XCIsIGVycik7XG4gICAgICBhbGVydChcIkZhaWxlZCB0byBzZW5kIGlucXVpcnkuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctYmFja2dyb3VuZFwiPlxuICAgICAgICA8SGVhZGVyIC8+XG5cbiAgICAgICAgey8qIEhlcm8gSW1hZ2UgU2tlbGV0b24gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGgtWzQwc3ZoXSBiZy1wcmltYXJ5LTEwMFwiPlxuICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsXCIgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweC00IHB5LThcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktOFwiPlxuICAgICAgICAgICAgICB7LyogSGVhZGVyIFNrZWxldG9uICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC02XCI+XG4gICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT1cInctMjQgaC0yNCByb3VuZGVkLWxnXCIgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9XCJoLTggdy02NFwiIC8+XG4gICAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPVwiaC00IHctNDhcIiAvPlxuICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT1cImgtNCB3LTMyXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIFNlcnZpY2VzIFNrZWxldG9uICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9XCJoLTYgdy0zMlwiIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICB7WzEsIDIsIDMsIDRdLm1hcCgoaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b24ga2V5PXtpfSBjbGFzc05hbWU9XCJoLTMyXCIgLz5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IgfHwgIXZlbmRvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1iYWNrZ3JvdW5kXCI+XG4gICAgICAgIDxIZWFkZXIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1bNjB2aF1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgICBuYW1lPVwiQWxlcnRDaXJjbGVcIlxuICAgICAgICAgICAgICBzaXplPVwibGdcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDAgbXgtYXV0byBtYi00XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5IG1iLTJcIj5cbiAgICAgICAgICAgICAgVmVuZG9yIE5vdCBGb3VuZFxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtdGV4dC1zZWNvbmRhcnkgbWItNFwiPlxuICAgICAgICAgICAgICBUaGUgdmVuZG9yIHlvdSdyZSBsb29raW5nIGZvciBkb2Vzbid0IGV4aXN0IG9yIGhhcyBiZWVuIHJlbW92ZWQuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL2Rhc2hib2FyZC9jbGllbnQvdmVuZG9yc1wiPlxuICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCI+QnJvd3NlIFZlbmRvcnM8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgcHJpbWFyeUNvbnRhY3QgPSB2ZW5kb3IudmVuZG9yX2NvbnRhY3RzLmZpbmQoXG4gICAgKGNvbnRhY3QpID0+IGNvbnRhY3QuaXNfcHJpbWFyeVxuICApO1xuXG4gIGNvbnN0IGxvY2F0aW9uRGlzcGxheSA9XG4gICAgdmVuZG9yLnZlbmRvcl9sb2NhdGlvbnMubGVuZ3RoID4gMFxuICAgICAgPyB2ZW5kb3IudmVuZG9yX2xvY2F0aW9uc1swXS5sb2NhdGlvblxuICAgICAgICAgIC5yZXBsYWNlKC9fL2csIFwiIFwiKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXGJcXHcvZywgKGwpID0+IGwudG9VcHBlckNhc2UoKSlcbiAgICAgIDogXCJMb2NhdGlvbiBub3Qgc3BlY2lmaWVkXCI7XG5cbiAgLy8gRGV0ZXJtaW5lIHdoaWNoIGltYWdlIHRvIHVzZSBmb3IgdGhlIGhlcm8gc2VjdGlvblxuICBjb25zdCBoZXJvSW1hZ2VVcmwgPSB2ZW5kb3I/LmZlYXR1cmVkX2ltYWdlX3VybCB8fCB2ZW5kb3I/LmxvZ29fdXJsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctYmFja2dyb3VuZFwiPlxuICAgICAgPEhlYWRlciAvPlxuXG4gICAgICB7LyogSGVybyBJbWFnZSBTZWN0aW9uICovfVxuICAgICAge2hlcm9JbWFnZVVybCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGgtWzQwc3ZoXSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBzcmM9e2hlcm9JbWFnZVVybH1cbiAgICAgICAgICAgIGFsdD17dmVuZG9yLmJ1c2luZXNzX25hbWV9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICB7LyogT3B0aW9uYWwgb3ZlcmxheSBmb3IgYmV0dGVyIHRleHQgcmVhZGFiaWxpdHkgaWYgbmVlZGVkIGluIGZ1dHVyZSAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctYmxhY2svMjBcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS04XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctOHhsIG14LWF1dG9cIj5cbiAgICAgICAgICB7LyogQnJlYWRjcnVtYiAqL31cbiAgICAgICAgICA8bmF2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgICAgIDxvbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgdGV4dC1zbSB0ZXh0LXRleHQtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL1wiIGNsYXNzTmFtZT1cImhvdmVyOnRleHQtcHJpbWFyeS01MDBcIj5cbiAgICAgICAgICAgICAgICAgIEhvbWVcbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiQ2hldnJvblJpZ2h0XCIgc2l6ZT1cInNtXCIgLz5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvdmVuZG9yc1wiIGNsYXNzTmFtZT1cImhvdmVyOnRleHQtcHJpbWFyeS01MDBcIj5cbiAgICAgICAgICAgICAgICAgIFZlbmRvcnNcbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiQ2hldnJvblJpZ2h0XCIgc2l6ZT1cInNtXCIgLz5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInRleHQtdGV4dC1wcmltYXJ5XCI+e3ZlbmRvci5idXNpbmVzc19uYW1lfTwvbGk+XG4gICAgICAgICAgICA8L29sPlxuICAgICAgICAgIDwvbmF2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy1bMi41ZnJfMWZyXSBnYXAtOFwiPlxuICAgICAgICAgICAgey8qIE1haW4gQ29udGVudCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XG4gICAgICAgICAgICAgIHsvKiBWZW5kb3IgSGVhZGVyICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgIHsvKiBWZXJpZmllZCBCYWRnZSBhbmQgTG9jYXRpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICAgIHt2ZW5kb3IudmVyaWZpZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD1cInN1Y2Nlc3NcIiBzaXplPVwic21cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiQ2hlY2tDaXJjbGVcIiBzaXplPVwieHNcIiBjbGFzc05hbWU9XCJtci0xXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBWZXJpZmllZFxuICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiTWFwUGluXCIgc2l6ZT1cInNtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2xvY2F0aW9uRGlzcGxheX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBWZW5kb3IgTmFtZSBhbmQgRmF2b3JpdGVzIEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXRleHQtcHJpbWFyeVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt2ZW5kb3IuYnVzaW5lc3NfbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PXtpc0Zhdm9yaXRlID8gXCJwcmltYXJ5XCIgOiBcIm91dGxpbmVcIn1cbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlRmF2b3JpdGV9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT17aXNGYXZvcml0ZSA/IFwiSGVhcnRcIiA6IFwiSGVhcnRcIn1cbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1yLTEgJHtpc0Zhdm9yaXRlID8gXCJmaWxsLWN1cnJlbnRcIiA6IFwiXCJ9YH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAge2lzRmF2b3JpdGUgPyBcIlNhdmVkXCIgOiBcIlNhdmVcIn1cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIEV2ZW50IFR5cGUgUGlsbHMgKi99XG4gICAgICAgICAgICAgICAge3ZlbmRvci5ldmVudF90eXBlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTIgbXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICB7dmVuZG9yLmV2ZW50X3R5cGVzLm1hcCgoZXZlbnRUeXBlKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIGtleT17ZXZlbnRUeXBlfSB2YXJpYW50PVwicHJpbWFyeVwiIHNpemU9XCJzbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2V2ZW50VHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXy9nLCBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcYlxcdy9nLCAobCkgPT4gbC50b1VwcGVyQ2FzZSgpKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7LyogVmVuZG9yIERlc2NyaXB0aW9uICovfVxuICAgICAgICAgICAgICAgIHt2ZW5kb3IuZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiIXRleHQtdGV4dC1wcmltYXJ5IGxlYWRpbmctcmVsYXhlZCB0ZXh0LWxnXCI+XG4gICAgICAgICAgICAgICAgICAgIHt2ZW5kb3IuZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHsvKiBTbWFsbCBDYXJkIHdpdGggUmV2aWV3IFN0YXJzLCBDYXRlZ29yeSwgYW5kIFZpZXdzICovfVxuICAgICAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cImJnLXN1cmZhY2UgYm9yZGVyLWJvcmRlclwiPlxuICAgICAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZXZpZXcgU3RhcnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7WzEsIDIsIDMsIDQsIDVdLm1hcCgoc3RhcikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3N0YXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiU3RhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNDAwIGZpbGwtY3VycmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0LXNlY29uZGFyeSBtbC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDQuOClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDYXRlZ29yeSB3aXRoIEljb24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJUYWdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1wcmltYXJ5LTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC10ZXh0LXByaW1hcnkgY2FwaXRhbGl6ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt2ZW5kb3IuYnVzaW5lc3NfY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogVmlld3Mgd2l0aCBJY29uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiRXllXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtdGV4dC1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtdGV4dC1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dmVuZG9yLnByb2ZpbGVfdmlld3N9IHZpZXdzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogU2VydmljZXMgKi99XG4gICAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZT5TZXJ2aWNlczwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICB7dmVuZG9yLnZlbmRvcl9zZXJ2aWNlcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt2ZW5kb3IudmVuZG9yX3NlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3NlcnZpY2UuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC00IGhvdmVyOnNoYWRvdy1zbSB0cmFuc2l0aW9uLXNoYWRvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtdGV4dC1wcmltYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VydmljZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJvdXRsaW5lXCIgc2l6ZT1cInNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VydmljZS5wcmljaW5nX21vZGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VydmljZS5kZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXRleHQtc2Vjb25kYXJ5IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZXJ2aWNlLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD1cInNlY29uZGFyeVwiIHNpemU9XCJzbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlcnZpY2UuY2F0ZWdvcnkubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZXJ2aWNlLmV2ZW50X3R5cGVzLm1hcCgoZXZlbnRUeXBlKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtldmVudFR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2V2ZW50VHlwZS5yZXBsYWNlKC9fL2csIFwiIFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSB0ZXh0LWNlbnRlciBweS04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgTm8gc2VydmljZXMgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgICAgIHsvKiBDb250YWN0IEluZm9ybWF0aW9uICovfVxuICAgICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGU+Q29udGFjdCBJbmZvcm1hdGlvbjwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICB7dmVuZG9yLnZlbmRvcl9jb250YWN0cy5tYXAoKGNvbnRhY3QpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbnRhY3QuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QuY29udGFjdF90eXBlID09PSBcImVtYWlsXCIgPyBcIk1haWxcIiA6IFwiUGhvbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC10ZXh0LXByaW1hcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29udGFjdC5jb250YWN0X3R5cGUgPT09IFwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJQaG9uZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0LmNvbnRhY3RfdHlwZSA9PT0gXCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYG1haWx0bzoke2NvbnRhY3QuY29udGFjdF92YWx1ZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYHRlbDoke2NvbnRhY3QuY29udGFjdF92YWx1ZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wcmltYXJ5LTUwMCBob3Zlcjp1bmRlcmxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbnRhY3QuY29udGFjdF92YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y29udGFjdC5pc19wcmltYXJ5ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJzdWNjZXNzXCIgc2l6ZT1cInNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJpbWFyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIFNpZGViYXIgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICB7LyogQ29udGFjdCBGb3JtICovfVxuICAgICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGU+U2VuZCBJbnF1aXJ5PC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVDb250YWN0U3VibWl0fSBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXRleHQtcHJpbWFyeSBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBOYW1lICpcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjb250YWN0Rm9ybS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDb250YWN0Rm9ybSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29udGFjdEZvcm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtdGV4dC1wcmltYXJ5IG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIEVtYWlsICpcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y29udGFjdEZvcm0uZW1haWx9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbnRhY3RGb3JtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jb250YWN0Rm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtdGV4dC1wcmltYXJ5IG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFBob25lXG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NvbnRhY3RGb3JtLnBob25lfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDb250YWN0Rm9ybSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29udGFjdEZvcm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnktNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXRleHQtcHJpbWFyeSBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudCBUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y29udGFjdEZvcm0uZXZlbnRUeXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDb250YWN0Rm9ybSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29udGFjdEZvcm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgZXZlbnQgdHlwZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIndlZGRpbmdcIj5XZWRkaW5nPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY2hyaXN0ZW5pbmdcIj5DaHJpc3RlbmluZzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInBhcnR5XCI+UGFydHk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJraWRzX3BhcnR5XCI+S2lkcyBQYXJ0eTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtdGV4dC1wcmltYXJ5IG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50IERhdGVcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NvbnRhY3RGb3JtLmV2ZW50RGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29udGFjdEZvcm0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbnRhY3RGb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50RGF0ZTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtdGV4dC1wcmltYXJ5IG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIEd1ZXN0IENvdW50XG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y29udGFjdEZvcm0uZ3Vlc3RDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29udGFjdEZvcm0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbnRhY3RGb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1ZXN0Q291bnQ6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnktNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXRleHQtcHJpbWFyeSBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlICpcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y29udGFjdEZvcm0ubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29udGFjdEZvcm0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbnRhY3RGb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnktNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRlbGwgdXMgYWJvdXQgeW91ciBldmVudCBhbmQgcmVxdWlyZW1lbnRzLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtzdWJtaXR0aW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzdWJtaXR0aW5nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgU2VuZCBJbnF1aXJ5XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJDYXJkIiwiQ2FyZEhlYWRlciIsIkNhcmRUaXRsZSIsIkNhcmRDb250ZW50IiwiQnV0dG9uIiwiQmFkZ2UiLCJJY29uIiwiU2tlbGV0b24iLCJIZWFkZXIiLCJjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQiLCJ1c2VBdXRoIiwidXNlVmVuZG9yR2FsbGVyeSIsInVzZUltYWdlVXBsb2FkIiwiTGluayIsIm5vdEZvdW5kIiwiVmVuZG9yRGV0YWlsQ2xpZW50IiwidmVuZG9yU2x1ZyIsInZlbmRvciIsInNldFZlbmRvciIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImlzRmF2b3JpdGUiLCJzZXRJc0Zhdm9yaXRlIiwiY29udGFjdEZvcm0iLCJzZXRDb250YWN0Rm9ybSIsIm5hbWUiLCJlbWFpbCIsInBob25lIiwiZXZlbnRUeXBlIiwiZXZlbnREYXRlIiwiZ3Vlc3RDb3VudCIsIm1lc3NhZ2UiLCJzdWJtaXR0aW5nIiwic2V0U3VibWl0dGluZyIsInNob3dHYWxsZXJ5VXBsb2FkIiwic2V0U2hvd0dhbGxlcnlVcGxvYWQiLCJ1c2VyIiwic3VwYWJhc2UiLCJpbWFnZXMiLCJnYWxsZXJ5SW1hZ2VzIiwicmVmZXRjaCIsInJlZmV0Y2hHYWxsZXJ5IiwidmVuZG9ySWQiLCJpZCIsInVwbG9hZEltYWdlcyIsImNhbkVkaXRHYWxsZXJ5IiwiZmV0Y2hWZW5kb3JEZXRhaWxzIiwiY2hlY2tGYXZvcml0ZVN0YXR1cyIsInF1ZXJ5IiwiZnJvbSIsInNlbGVjdCIsInV1aWRSZWdleCIsInRlc3QiLCJlcSIsImRhdGEiLCJzaW5nbGUiLCJjb2RlIiwiZmlsdGVyZWRWZW5kb3IiLCJ2ZW5kb3Jfc2VydmljZXMiLCJmaWx0ZXIiLCJzZXJ2aWNlIiwiaXNfYWN0aXZlIiwidXBkYXRlIiwicHJvZmlsZV92aWV3cyIsImVyciIsImNvbnNvbGUiLCJzdG9yZWRGYXZvcml0ZXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZmF2b3JpdGVJZHMiLCJKU09OIiwicGFyc2UiLCJpbmNsdWRlcyIsInRvZ2dsZUZhdm9yaXRlIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicHVzaCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJoYW5kbGVDb250YWN0U3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiaW5zZXJ0IiwidmVuZG9yX2lkIiwiY2xpZW50X25hbWUiLCJjbGllbnRfZW1haWwiLCJjbGllbnRfcGhvbmUiLCJldmVudF90eXBlIiwiZXZlbnRfZGF0ZSIsImd1ZXN0X2NvdW50IiwicGFyc2VJbnQiLCJidWRnZXRfcmFuZ2UiLCJzdGF0dXMiLCJwcmlvcml0eSIsInNvdXJjZSIsImFsZXJ0IiwiZGl2IiwiY2xhc3NOYW1lIiwibWFwIiwiaSIsInNpemUiLCJoMSIsInAiLCJ2YXJpYW50IiwicHJpbWFyeUNvbnRhY3QiLCJ2ZW5kb3JfY29udGFjdHMiLCJmaW5kIiwiY29udGFjdCIsImlzX3ByaW1hcnkiLCJsb2NhdGlvbkRpc3BsYXkiLCJ2ZW5kb3JfbG9jYXRpb25zIiwibGVuZ3RoIiwicmVwbGFjZSIsImwiLCJ0b1VwcGVyQ2FzZSIsImhlcm9JbWFnZVVybCIsImZlYXR1cmVkX2ltYWdlX3VybCIsImxvZ29fdXJsIiwiaW1nIiwic3JjIiwiYWx0IiwiYnVzaW5lc3NfbmFtZSIsIm5hdiIsIm9sIiwibGkiLCJ2ZXJpZmllZCIsInNwYW4iLCJvbkNsaWNrIiwiZXZlbnRfdHlwZXMiLCJkZXNjcmlwdGlvbiIsInN0YXIiLCJidXNpbmVzc19jYXRlZ29yeSIsImg0IiwicHJpY2luZ19tb2RlbCIsImNhdGVnb3J5IiwiY29udGFjdF90eXBlIiwiYSIsImNvbnRhY3RfdmFsdWUiLCJmb3JtIiwib25TdWJtaXQiLCJsYWJlbCIsImlucHV0IiwidHlwZSIsInJlcXVpcmVkIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsIm9wdGlvbiIsIm1pbiIsInRleHRhcmVhIiwicm93cyIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/vendors/[slug]/VendorDetailClient.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/index.ts":
/*!****************************!*\
  !*** ./src/hooks/index.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useBudget: () => (/* reexport safe */ _useBudget__WEBPACK_IMPORTED_MODULE_6__.useBudget),\n/* harmony export */   useChecklist: () => (/* reexport safe */ _useChecklist__WEBPACK_IMPORTED_MODULE_5__.useChecklist),\n/* harmony export */   useClientDashboard: () => (/* reexport safe */ _useClientDashboard__WEBPACK_IMPORTED_MODULE_1__.useClientDashboard),\n/* harmony export */   useDashboard: () => (/* reexport safe */ _useDashboard__WEBPACK_IMPORTED_MODULE_2__.useDashboard),\n/* harmony export */   useGuests: () => (/* reexport safe */ _useGuests__WEBPACK_IMPORTED_MODULE_4__.useGuests),\n/* harmony export */   useImageUpload: () => (/* reexport safe */ _useImageUpload__WEBPACK_IMPORTED_MODULE_8__.useImageUpload),\n/* harmony export */   useVendorDashboard: () => (/* reexport safe */ _useVendorDashboard__WEBPACK_IMPORTED_MODULE_0__.useVendorDashboard),\n/* harmony export */   useVendorGallery: () => (/* reexport safe */ _useVendorGallery__WEBPACK_IMPORTED_MODULE_7__.useVendorGallery),\n/* harmony export */   useVendorProfile: () => (/* reexport safe */ _useVendorProfile__WEBPACK_IMPORTED_MODULE_3__.useVendorProfile)\n/* harmony export */ });\n/* harmony import */ var _useVendorDashboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useVendorDashboard */ \"(app-pages-browser)/./src/hooks/useVendorDashboard.ts\");\n/* harmony import */ var _useClientDashboard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useClientDashboard */ \"(app-pages-browser)/./src/hooks/useClientDashboard.ts\");\n/* harmony import */ var _useDashboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useDashboard */ \"(app-pages-browser)/./src/hooks/useDashboard.ts\");\n/* harmony import */ var _useVendorProfile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useVendorProfile */ \"(app-pages-browser)/./src/hooks/useVendorProfile.ts\");\n/* harmony import */ var _useGuests__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useGuests */ \"(app-pages-browser)/./src/hooks/useGuests.ts\");\n/* harmony import */ var _useChecklist__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useChecklist */ \"(app-pages-browser)/./src/hooks/useChecklist.ts\");\n/* harmony import */ var _useBudget__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useBudget */ \"(app-pages-browser)/./src/hooks/useBudget.ts\");\n/* harmony import */ var _useVendorGallery__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useVendorGallery */ \"(app-pages-browser)/./src/hooks/useVendorGallery.ts\");\n/* harmony import */ var _useImageUpload__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useImageUpload */ \"(app-pages-browser)/./src/hooks/useImageUpload.ts\");\n\n\n\n\n\n\n\n\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDQTtBQUNaO0FBQ1E7QUFDZDtBQUNNO0FBQ047QUFDYztBQUNKIiwic291cmNlcyI6WyIvVXNlcnMvZGF2aWRiYWxpYW4vRGVza3RvcC9tb21lbnRtb2ktdm9pZC9zcmMvaG9va3MvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgdXNlVmVuZG9yRGFzaGJvYXJkIH0gZnJvbSBcIi4vdXNlVmVuZG9yRGFzaGJvYXJkXCI7XG5leHBvcnQgeyB1c2VDbGllbnREYXNoYm9hcmQgfSBmcm9tIFwiLi91c2VDbGllbnREYXNoYm9hcmRcIjtcbmV4cG9ydCB7IHVzZURhc2hib2FyZCB9IGZyb20gXCIuL3VzZURhc2hib2FyZFwiO1xuZXhwb3J0IHsgdXNlVmVuZG9yUHJvZmlsZSB9IGZyb20gXCIuL3VzZVZlbmRvclByb2ZpbGVcIjtcbmV4cG9ydCB7IHVzZUd1ZXN0cyB9IGZyb20gXCIuL3VzZUd1ZXN0c1wiO1xuZXhwb3J0IHsgdXNlQ2hlY2tsaXN0IH0gZnJvbSBcIi4vdXNlQ2hlY2tsaXN0XCI7XG5leHBvcnQgeyB1c2VCdWRnZXQgfSBmcm9tIFwiLi91c2VCdWRnZXRcIjtcbmV4cG9ydCB7IHVzZVZlbmRvckdhbGxlcnkgfSBmcm9tIFwiLi91c2VWZW5kb3JHYWxsZXJ5XCI7XG5leHBvcnQgeyB1c2VJbWFnZVVwbG9hZCB9IGZyb20gXCIuL3VzZUltYWdlVXBsb2FkXCI7XG4iXSwibmFtZXMiOlsidXNlVmVuZG9yRGFzaGJvYXJkIiwidXNlQ2xpZW50RGFzaGJvYXJkIiwidXNlRGFzaGJvYXJkIiwidXNlVmVuZG9yUHJvZmlsZSIsInVzZUd1ZXN0cyIsInVzZUNoZWNrbGlzdCIsInVzZUJ1ZGdldCIsInVzZVZlbmRvckdhbGxlcnkiLCJ1c2VJbWFnZVVwbG9hZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/index.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useBudget.ts":
/*!********************************!*\
  !*** ./src/hooks/useBudget.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useBudget: () => (/* binding */ useBudget)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* __next_internal_client_entry_do_not_use__ useBudget auto */ \n\nfunction useBudget(eventId) {\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [currentEventId, setCurrentEventId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.createClientComponentClient)();\n    // Fetch event ID if not provided\n    const fetchEventId = async ()=>{\n        try {\n            const { data: { user } } = await supabase.auth.getUser();\n            if (!user) return null;\n            const { data: event, error } = await supabase.from(\"events\").select(\"id\").eq(\"planner_id\", user.id).single();\n            if (error && error.code !== \"PGRST116\") {\n                throw error;\n            }\n            return (event === null || event === void 0 ? void 0 : event.id) || null;\n        } catch (err) {\n            console.error(\"Failed to fetch event ID:\", err);\n            return null;\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useBudget.useEffect\": ()=>{\n            const initialize = {\n                \"useBudget.useEffect.initialize\": async ()=>{\n                    let targetEventId = eventId;\n                    if (!targetEventId) {\n                        targetEventId = await fetchEventId();\n                        setCurrentEventId(targetEventId || null);\n                    } else {\n                        setCurrentEventId(targetEventId);\n                    }\n                    if (!targetEventId) {\n                        setLoading(false);\n                        return;\n                    }\n                    fetchBudgetItems(targetEventId);\n                    // Set up real-time subscription\n                    const channel = supabase.channel(\"budget-changes\").on(\"postgres_changes\", {\n                        event: \"*\",\n                        schema: \"public\",\n                        table: \"budget_items\",\n                        filter: \"event_id=eq.\".concat(targetEventId)\n                    }, {\n                        \"useBudget.useEffect.initialize.channel\": ()=>{\n                            fetchBudgetItems(targetEventId);\n                        }\n                    }[\"useBudget.useEffect.initialize.channel\"]).subscribe();\n                    return ({\n                        \"useBudget.useEffect.initialize\": ()=>{\n                            supabase.removeChannel(channel);\n                        }\n                    })[\"useBudget.useEffect.initialize\"];\n                }\n            }[\"useBudget.useEffect.initialize\"];\n            initialize();\n        }\n    }[\"useBudget.useEffect\"], [\n        eventId\n    ]);\n    const fetchBudgetItems = async (targetEventId)=>{\n        try {\n            setError(null);\n            const { data, error } = await supabase.from(\"budget_items\").select(\"*\").eq(\"event_id\", targetEventId).order(\"category\").order(\"name\");\n            if (error) throw error;\n            setItems(data || []);\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to fetch budget items\";\n            setError(errorMessage);\n            console.error(\"Failed to fetch budget items:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const addBudgetItem = async (data)=>{\n        if (!currentEventId) {\n            throw new Error(\"No event ID available\");\n        }\n        try {\n            const { data: newItem, error } = await supabase.from(\"budget_items\").insert({\n                event_id: currentEventId,\n                ...data\n            }).select().single();\n            if (error) throw error;\n            return newItem;\n        } catch (err) {\n            console.error(\"Failed to add budget item:\", err);\n            throw err;\n        }\n    };\n    const updateBudgetItem = async (id, data)=>{\n        try {\n            const { data: updatedItem, error } = await supabase.from(\"budget_items\").update(data).eq(\"id\", id).select().single();\n            if (error) throw error;\n            return updatedItem;\n        } catch (err) {\n            console.error(\"Failed to update budget item:\", err);\n            throw err;\n        }\n    };\n    const deleteBudgetItem = async (id)=>{\n        try {\n            const { error } = await supabase.from(\"budget_items\").delete().eq(\"id\", id);\n            if (error) throw error;\n        } catch (err) {\n            console.error(\"Failed to delete budget item:\", err);\n            throw err;\n        }\n    };\n    const getBudgetStats = ()=>{\n        const totalEstimated = items.reduce((sum, item)=>sum + (item.estimated_cost || 0), 0);\n        const totalActual = items.reduce((sum, item)=>sum + (item.actual_cost || 0), 0);\n        const totalSpent = totalActual;\n        const remainingBudget = totalEstimated - totalSpent;\n        const percentageSpent = totalEstimated > 0 ? totalSpent / totalEstimated * 100 : 0;\n        const categories = new Set(items.map((item)=>item.category));\n        const completedItems = items.filter((item)=>item.actual_cost !== null && item.actual_cost > 0).length;\n        return {\n            totalEstimated,\n            totalActual,\n            totalSpent,\n            remainingBudget,\n            percentageSpent,\n            categoriesCount: categories.size,\n            completedItems,\n            totalItems: items.length\n        };\n    };\n    const getFilteredItems = (filters)=>{\n        if (!filters) return items;\n        return items.filter((item)=>{\n            if (filters.category && item.category !== filters.category) {\n                return false;\n            }\n            if (filters.hasActualCost !== undefined) {\n                const hasActual = item.actual_cost !== null && item.actual_cost > 0;\n                if (filters.hasActualCost !== hasActual) {\n                    return false;\n                }\n            }\n            if (filters.search) {\n                const searchLower = filters.search.toLowerCase();\n                if (!item.name.toLowerCase().includes(searchLower) && !item.category.toLowerCase().includes(searchLower)) {\n                    return false;\n                }\n            }\n            return true;\n        });\n    };\n    const getItemsByCategory = (category)=>{\n        return items.filter((item)=>item.category === category);\n    };\n    const getCategoryStats = (category)=>{\n        const categoryItems = getItemsByCategory(category);\n        const estimated = categoryItems.reduce((sum, item)=>sum + (item.estimated_cost || 0), 0);\n        const actual = categoryItems.reduce((sum, item)=>sum + (item.actual_cost || 0), 0);\n        const remaining = estimated - actual;\n        return {\n            estimated,\n            actual,\n            remaining\n        };\n    };\n    return {\n        items,\n        loading,\n        error,\n        currentEventId,\n        addBudgetItem,\n        updateBudgetItem,\n        deleteBudgetItem,\n        getBudgetStats,\n        getFilteredItems,\n        getItemsByCategory,\n        getCategoryStats\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VCdWRnZXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OzsrREFFNEM7QUFDaUI7QUFHdEQsU0FBU0csVUFBVUMsT0FBZ0I7SUFDeEMsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdOLCtDQUFRQSxDQUFlLEVBQUU7SUFDbkQsTUFBTSxDQUFDTyxTQUFTQyxXQUFXLEdBQUdSLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1MsT0FBT0MsU0FBUyxHQUFHViwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDVyxnQkFBZ0JDLGtCQUFrQixHQUFHWiwrQ0FBUUEsQ0FBZ0I7SUFFcEUsTUFBTWEsV0FBV1gsMEVBQTJCQTtJQUU1QyxpQ0FBaUM7SUFDakMsTUFBTVksZUFBZTtRQUNuQixJQUFJO1lBQ0YsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLElBQUksRUFBRSxFQUFFLEdBQUcsTUFBTUgsU0FBU0ksSUFBSSxDQUFDQyxPQUFPO1lBQ3RELElBQUksQ0FBQ0YsTUFBTSxPQUFPO1lBRWxCLE1BQU0sRUFBRUQsTUFBTUksS0FBSyxFQUFFVixLQUFLLEVBQUUsR0FBRyxNQUFNSSxTQUNsQ08sSUFBSSxDQUFDLFVBQ0xDLE1BQU0sQ0FBQyxNQUNQQyxFQUFFLENBQUMsY0FBY04sS0FBS08sRUFBRSxFQUN4QkMsTUFBTTtZQUVULElBQUlmLFNBQVNBLE1BQU1nQixJQUFJLEtBQUssWUFBWTtnQkFDdEMsTUFBTWhCO1lBQ1I7WUFFQSxPQUFPVSxDQUFBQSxrQkFBQUEsNEJBQUFBLE1BQU9JLEVBQUUsS0FBSTtRQUN0QixFQUFFLE9BQU9HLEtBQUs7WUFDWkMsUUFBUWxCLEtBQUssQ0FBQyw2QkFBNkJpQjtZQUMzQyxPQUFPO1FBQ1Q7SUFDRjtJQUVBekIsZ0RBQVNBOytCQUFDO1lBQ1IsTUFBTTJCO2tEQUFhO29CQUNqQixJQUFJQyxnQkFBZ0J6QjtvQkFFcEIsSUFBSSxDQUFDeUIsZUFBZTt3QkFDbEJBLGdCQUFnQixN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LENBQUNILGNBQWM7b0JBQ3RELE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLE9BQU87UUFDVDtJQUNGO0lBRUEsTUFBTUkscUJBQXFCLENBQUNoQjtRQUMxQixPQUFPNUQsTUFBTThCLE1BQU0sQ0FBQ29CLENBQUFBLE9BQVFBLEtBQUtVLFFBQVEsS0FBS0E7SUFDaEQ7SUFFQSxNQUFNaUIsbUJBQW1CLENBQUNqQjtRQUN4QixNQUFNa0IsZ0JBQWdCRixtQkFBbUJoQjtRQUN6QyxNQUFNbUIsWUFBWUQsY0FBYzlCLE1BQU0sQ0FBQyxDQUFDQyxLQUFLQyxPQUFTRCxNQUFPQyxDQUFBQSxLQUFLQyxjQUFjLElBQUksSUFBSTtRQUN4RixNQUFNNkIsU0FBU0YsY0FBYzlCLE1BQU0sQ0FBQyxDQUFDQyxLQUFLQyxPQUFTRCxNQUFPQyxDQUFBQSxLQUFLRyxXQUFXLElBQUksSUFBSTtRQUNsRixNQUFNNEIsWUFBWUYsWUFBWUM7UUFFOUIsT0FBTztZQUFFRDtZQUFXQztZQUFRQztRQUFVO0lBQ3hDO0lBRUEsT0FBTztRQUNMakY7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQStCO1FBQ0FJO1FBQ0FHO1FBQ0FFO1FBQ0FvQjtRQUNBVTtRQUNBQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZGJhbGlhbi9EZXNrdG9wL21vbWVudG1vaS12b2lkL3NyYy9ob29rcy91c2VCdWRnZXQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZVwiO1xuaW1wb3J0IHsgQnVkZ2V0SXRlbSwgQnVkZ2V0U3RhdHMsIEJ1ZGdldEZpbHRlcnMsIEJ1ZGdldEZvcm1EYXRhLCBCdWRnZXRDYXRlZ29yeSB9IGZyb20gXCJAL3R5cGVzL2J1ZGdldFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlQnVkZ2V0KGV2ZW50SWQ/OiBzdHJpbmcpIHtcbiAgY29uc3QgW2l0ZW1zLCBzZXRJdGVtc10gPSB1c2VTdGF0ZTxCdWRnZXRJdGVtW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjdXJyZW50RXZlbnRJZCwgc2V0Q3VycmVudEV2ZW50SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQoKTtcblxuICAvLyBGZXRjaCBldmVudCBJRCBpZiBub3QgcHJvdmlkZWRcbiAgY29uc3QgZmV0Y2hFdmVudElkID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcbiAgICAgIGlmICghdXNlcikgcmV0dXJuIG51bGw7XG5cbiAgICAgIGNvbnN0IHsgZGF0YTogZXZlbnQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImV2ZW50c1wiKVxuICAgICAgICAuc2VsZWN0KFwiaWRcIilcbiAgICAgICAgLmVxKFwicGxhbm5lcl9pZFwiLCB1c2VyLmlkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvciAmJiBlcnJvci5jb2RlICE9PSBcIlBHUlNUMTE2XCIpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBldmVudD8uaWQgfHwgbnVsbDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggZXZlbnQgSUQ6XCIsIGVycik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplID0gYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHRhcmdldEV2ZW50SWQgPSBldmVudElkO1xuXG4gICAgICBpZiAoIXRhcmdldEV2ZW50SWQpIHtcbiAgICAgICAgdGFyZ2V0RXZlbnRJZCA9IGF3YWl0IGZldGNoRXZlbnRJZCgpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnRJZCh0YXJnZXRFdmVudElkIHx8IG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50SWQodGFyZ2V0RXZlbnRJZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGFyZ2V0RXZlbnRJZCkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmZXRjaEJ1ZGdldEl0ZW1zKHRhcmdldEV2ZW50SWQpO1xuXG4gICAgICAvLyBTZXQgdXAgcmVhbC10aW1lIHN1YnNjcmlwdGlvblxuICAgICAgY29uc3QgY2hhbm5lbCA9IHN1cGFiYXNlXG4gICAgICAgIC5jaGFubmVsKFwiYnVkZ2V0LWNoYW5nZXNcIilcbiAgICAgICAgLm9uKFxuICAgICAgICAgIFwicG9zdGdyZXNfY2hhbmdlc1wiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV2ZW50OiBcIipcIixcbiAgICAgICAgICAgIHNjaGVtYTogXCJwdWJsaWNcIixcbiAgICAgICAgICAgIHRhYmxlOiBcImJ1ZGdldF9pdGVtc1wiLFxuICAgICAgICAgICAgZmlsdGVyOiBgZXZlbnRfaWQ9ZXEuJHt0YXJnZXRFdmVudElkfWAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBmZXRjaEJ1ZGdldEl0ZW1zKHRhcmdldEV2ZW50SWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKCk7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHN1cGFiYXNlLnJlbW92ZUNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBpbml0aWFsaXplKCk7XG4gIH0sIFtldmVudElkXSk7XG5cbiAgY29uc3QgZmV0Y2hCdWRnZXRJdGVtcyA9IGFzeW5jICh0YXJnZXRFdmVudElkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImJ1ZGdldF9pdGVtc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAuZXEoXCJldmVudF9pZFwiLCB0YXJnZXRFdmVudElkKVxuICAgICAgICAub3JkZXIoXCJjYXRlZ29yeVwiKVxuICAgICAgICAub3JkZXIoXCJuYW1lXCIpO1xuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgc2V0SXRlbXMoZGF0YSB8fCBbXSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZmV0Y2ggYnVkZ2V0IGl0ZW1zXCI7XG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBidWRnZXQgaXRlbXM6XCIsIGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhZGRCdWRnZXRJdGVtID0gYXN5bmMgKGRhdGE6IEJ1ZGdldEZvcm1EYXRhKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50RXZlbnRJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZXZlbnQgSUQgYXZhaWxhYmxlXCIpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGE6IG5ld0l0ZW0sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImJ1ZGdldF9pdGVtc1wiKVxuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICBldmVudF9pZDogY3VycmVudEV2ZW50SWQsXG4gICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgfSlcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgIHJldHVybiBuZXdJdGVtO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBhZGQgYnVkZ2V0IGl0ZW06XCIsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZUJ1ZGdldEl0ZW0gPSBhc3luYyAoaWQ6IHN0cmluZywgZGF0YTogUGFydGlhbDxCdWRnZXRGb3JtRGF0YT4pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkSXRlbSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiYnVkZ2V0X2l0ZW1zXCIpXG4gICAgICAgIC51cGRhdGUoZGF0YSlcbiAgICAgICAgLmVxKFwiaWRcIiwgaWQpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICByZXR1cm4gdXBkYXRlZEl0ZW07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHVwZGF0ZSBidWRnZXQgaXRlbTpcIiwgZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGVsZXRlQnVkZ2V0SXRlbSA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiYnVkZ2V0X2l0ZW1zXCIpXG4gICAgICAgIC5kZWxldGUoKVxuICAgICAgICAuZXEoXCJpZFwiLCBpZCk7XG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGRlbGV0ZSBidWRnZXQgaXRlbTpcIiwgZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0QnVkZ2V0U3RhdHMgPSAoKTogQnVkZ2V0U3RhdHMgPT4ge1xuICAgIGNvbnN0IHRvdGFsRXN0aW1hdGVkID0gaXRlbXMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIChpdGVtLmVzdGltYXRlZF9jb3N0IHx8IDApLCAwKTtcbiAgICBjb25zdCB0b3RhbEFjdHVhbCA9IGl0ZW1zLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyAoaXRlbS5hY3R1YWxfY29zdCB8fCAwKSwgMCk7XG4gICAgY29uc3QgdG90YWxTcGVudCA9IHRvdGFsQWN0dWFsO1xuICAgIGNvbnN0IHJlbWFpbmluZ0J1ZGdldCA9IHRvdGFsRXN0aW1hdGVkIC0gdG90YWxTcGVudDtcbiAgICBjb25zdCBwZXJjZW50YWdlU3BlbnQgPSB0b3RhbEVzdGltYXRlZCA+IDAgPyAodG90YWxTcGVudCAvIHRvdGFsRXN0aW1hdGVkKSAqIDEwMCA6IDA7XG5cbiAgICBjb25zdCBjYXRlZ29yaWVzID0gbmV3IFNldChpdGVtcy5tYXAoaXRlbSA9PiBpdGVtLmNhdGVnb3J5KSk7XG4gICAgY29uc3QgY29tcGxldGVkSXRlbXMgPSBpdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmFjdHVhbF9jb3N0ICE9PSBudWxsICYmIGl0ZW0uYWN0dWFsX2Nvc3QgPiAwKS5sZW5ndGg7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxFc3RpbWF0ZWQsXG4gICAgICB0b3RhbEFjdHVhbCxcbiAgICAgIHRvdGFsU3BlbnQsXG4gICAgICByZW1haW5pbmdCdWRnZXQsXG4gICAgICBwZXJjZW50YWdlU3BlbnQsXG4gICAgICBjYXRlZ29yaWVzQ291bnQ6IGNhdGVnb3JpZXMuc2l6ZSxcbiAgICAgIGNvbXBsZXRlZEl0ZW1zLFxuICAgICAgdG90YWxJdGVtczogaXRlbXMubGVuZ3RoLFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgZ2V0RmlsdGVyZWRJdGVtcyA9IChmaWx0ZXJzPzogQnVkZ2V0RmlsdGVycyk6IEJ1ZGdldEl0ZW1bXSA9PiB7XG4gICAgaWYgKCFmaWx0ZXJzKSByZXR1cm4gaXRlbXM7XG5cbiAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgaWYgKGZpbHRlcnMuY2F0ZWdvcnkgJiYgaXRlbS5jYXRlZ29yeSAhPT0gZmlsdGVycy5jYXRlZ29yeSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChmaWx0ZXJzLmhhc0FjdHVhbENvc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBoYXNBY3R1YWwgPSBpdGVtLmFjdHVhbF9jb3N0ICE9PSBudWxsICYmIGl0ZW0uYWN0dWFsX2Nvc3QgPiAwO1xuICAgICAgICBpZiAoZmlsdGVycy5oYXNBY3R1YWxDb3N0ICE9PSBoYXNBY3R1YWwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbHRlcnMuc2VhcmNoKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaExvd2VyID0gZmlsdGVycy5zZWFyY2gudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCFpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikgJiZcbiAgICAgICAgICAgICFpdGVtLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGdldEl0ZW1zQnlDYXRlZ29yeSA9IChjYXRlZ29yeTogQnVkZ2V0Q2F0ZWdvcnkpOiBCdWRnZXRJdGVtW10gPT4ge1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmNhdGVnb3J5ID09PSBjYXRlZ29yeSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0Q2F0ZWdvcnlTdGF0cyA9IChjYXRlZ29yeTogQnVkZ2V0Q2F0ZWdvcnkpOiB7IGVzdGltYXRlZDogbnVtYmVyOyBhY3R1YWw6IG51bWJlcjsgcmVtYWluaW5nOiBudW1iZXIgfSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJdGVtcyA9IGdldEl0ZW1zQnlDYXRlZ29yeShjYXRlZ29yeSk7XG4gICAgY29uc3QgZXN0aW1hdGVkID0gY2F0ZWdvcnlJdGVtcy5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgKGl0ZW0uZXN0aW1hdGVkX2Nvc3QgfHwgMCksIDApO1xuICAgIGNvbnN0IGFjdHVhbCA9IGNhdGVnb3J5SXRlbXMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIChpdGVtLmFjdHVhbF9jb3N0IHx8IDApLCAwKTtcbiAgICBjb25zdCByZW1haW5pbmcgPSBlc3RpbWF0ZWQgLSBhY3R1YWw7XG5cbiAgICByZXR1cm4geyBlc3RpbWF0ZWQsIGFjdHVhbCwgcmVtYWluaW5nIH07XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpdGVtcyxcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIGN1cnJlbnRFdmVudElkLFxuICAgIGFkZEJ1ZGdldEl0ZW0sXG4gICAgdXBkYXRlQnVkZ2V0SXRlbSxcbiAgICBkZWxldGVCdWRnZXRJdGVtLFxuICAgIGdldEJ1ZGdldFN0YXRzLFxuICAgIGdldEZpbHRlcmVkSXRlbXMsXG4gICAgZ2V0SXRlbXNCeUNhdGVnb3J5LFxuICAgIGdldENhdGVnb3J5U3RhdHMsXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQiLCJ1c2VCdWRnZXQiLCJldmVudElkIiwiaXRlbXMiLCJzZXRJdGVtcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImN1cnJlbnRFdmVudElkIiwic2V0Q3VycmVudEV2ZW50SWQiLCJzdXBhYmFzZSIsImZldGNoRXZlbnRJZCIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsImdldFVzZXIiLCJldmVudCIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlkIiwic2luZ2xlIiwiY29kZSIsImVyciIsImNvbnNvbGUiLCJpbml0aWFsaXplIiwidGFyZ2V0RXZlbnRJZCIsImZldGNoQnVkZ2V0SXRlbXMiLCJjaGFubmVsIiwib24iLCJzY2hlbWEiLCJ0YWJsZSIsImZpbHRlciIsInN1YnNjcmliZSIsInJlbW92ZUNoYW5uZWwiLCJvcmRlciIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSIsImFkZEJ1ZGdldEl0ZW0iLCJuZXdJdGVtIiwiaW5zZXJ0IiwiZXZlbnRfaWQiLCJ1cGRhdGVCdWRnZXRJdGVtIiwidXBkYXRlZEl0ZW0iLCJ1cGRhdGUiLCJkZWxldGVCdWRnZXRJdGVtIiwiZGVsZXRlIiwiZ2V0QnVkZ2V0U3RhdHMiLCJ0b3RhbEVzdGltYXRlZCIsInJlZHVjZSIsInN1bSIsIml0ZW0iLCJlc3RpbWF0ZWRfY29zdCIsInRvdGFsQWN0dWFsIiwiYWN0dWFsX2Nvc3QiLCJ0b3RhbFNwZW50IiwicmVtYWluaW5nQnVkZ2V0IiwicGVyY2VudGFnZVNwZW50IiwiY2F0ZWdvcmllcyIsIlNldCIsIm1hcCIsImNhdGVnb3J5IiwiY29tcGxldGVkSXRlbXMiLCJsZW5ndGgiLCJjYXRlZ29yaWVzQ291bnQiLCJzaXplIiwidG90YWxJdGVtcyIsImdldEZpbHRlcmVkSXRlbXMiLCJmaWx0ZXJzIiwiaGFzQWN0dWFsQ29zdCIsInVuZGVmaW5lZCIsImhhc0FjdHVhbCIsInNlYXJjaCIsInNlYXJjaExvd2VyIiwidG9Mb3dlckNhc2UiLCJuYW1lIiwiaW5jbHVkZXMiLCJnZXRJdGVtc0J5Q2F0ZWdvcnkiLCJnZXRDYXRlZ29yeVN0YXRzIiwiY2F0ZWdvcnlJdGVtcyIsImVzdGltYXRlZCIsImFjdHVhbCIsInJlbWFpbmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useBudget.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useChecklist.ts":
/*!***********************************!*\
  !*** ./src/hooks/useChecklist.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useChecklist: () => (/* binding */ useChecklist)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* __next_internal_client_entry_do_not_use__ useChecklist auto */ \n\nfunction useChecklist(eventId) {\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [currentEventId, setCurrentEventId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.createClientComponentClient)();\n    // Fetch event ID if not provided\n    const fetchEventId = async ()=>{\n        try {\n            const { data: { user } } = await supabase.auth.getUser();\n            if (!user) return null;\n            const { data: event, error } = await supabase.from(\"events\").select(\"id\").eq(\"planner_id\", user.id).single();\n            if (error && error.code !== \"PGRST116\") {\n                throw error;\n            }\n            return (event === null || event === void 0 ? void 0 : event.id) || null;\n        } catch (err) {\n            console.error(\"Failed to fetch event ID:\", err);\n            return null;\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useChecklist.useEffect\": ()=>{\n            const initialize = {\n                \"useChecklist.useEffect.initialize\": async ()=>{\n                    let targetEventId = eventId;\n                    if (!targetEventId) {\n                        targetEventId = await fetchEventId();\n                        setCurrentEventId(targetEventId || null);\n                    } else {\n                        setCurrentEventId(targetEventId);\n                    }\n                    if (!targetEventId) {\n                        setLoading(false);\n                        return;\n                    }\n                    fetchChecklistItems(targetEventId);\n                    // Set up real-time subscription\n                    const channel = supabase.channel(\"checklist-changes\").on(\"postgres_changes\", {\n                        event: \"*\",\n                        schema: \"public\",\n                        table: \"checklist_items\",\n                        filter: \"event_id=eq.\".concat(targetEventId)\n                    }, {\n                        \"useChecklist.useEffect.initialize.channel\": ()=>{\n                            fetchChecklistItems(targetEventId);\n                        }\n                    }[\"useChecklist.useEffect.initialize.channel\"]).subscribe();\n                    return ({\n                        \"useChecklist.useEffect.initialize\": ()=>{\n                            supabase.removeChannel(channel);\n                        }\n                    })[\"useChecklist.useEffect.initialize\"];\n                }\n            }[\"useChecklist.useEffect.initialize\"];\n            initialize();\n        }\n    }[\"useChecklist.useEffect\"], [\n        eventId\n    ]);\n    const fetchChecklistItems = async (targetEventId)=>{\n        try {\n            setError(null);\n            const { data, error } = await supabase.from(\"checklist_items\").select(\"*\").eq(\"event_id\", targetEventId).order(\"due_date\", {\n                ascending: true,\n                nullsFirst: false\n            }).order(\"title\");\n            if (error) throw error;\n            setItems(data || []);\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to fetch checklist items\";\n            setError(errorMessage);\n            console.error(\"Failed to fetch checklist items:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const addChecklistItem = async (itemData)=>{\n        if (!currentEventId) throw new Error(\"No event ID available\");\n        try {\n            setError(null);\n            const { data, error } = await supabase.from(\"checklist_items\").insert({\n                ...itemData,\n                event_id: currentEventId\n            }).select().single();\n            if (error) throw error;\n            // Update local state\n            setItems((prev)=>[\n                    ...prev,\n                    data\n                ].sort((a, b)=>{\n                    // Sort by due date first (nulls last), then by title\n                    if (!a.due_date && !b.due_date) return a.title.localeCompare(b.title);\n                    if (!a.due_date) return 1;\n                    if (!b.due_date) return -1;\n                    return new Date(a.due_date).getTime() - new Date(b.due_date).getTime();\n                }));\n            return data;\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to add checklist item\";\n            setError(errorMessage);\n            throw err instanceof Error ? err : new Error(errorMessage);\n        }\n    };\n    const updateChecklistItem = async (itemId, updates)=>{\n        try {\n            setError(null);\n            const { data, error } = await supabase.from(\"checklist_items\").update(updates).eq(\"id\", itemId).select().single();\n            if (error) throw error;\n            // Update local state\n            setItems((prev)=>prev.map((item)=>item.id === itemId ? {\n                        ...item,\n                        ...data\n                    } : item).sort((a, b)=>{\n                    // Sort by due date first (nulls last), then by title\n                    if (!a.due_date && !b.due_date) return a.title.localeCompare(b.title);\n                    if (!a.due_date) return 1;\n                    if (!b.due_date) return -1;\n                    return new Date(a.due_date).getTime() - new Date(b.due_date).getTime();\n                }));\n            return data;\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to update checklist item\";\n            setError(errorMessage);\n            throw err instanceof Error ? err : new Error(errorMessage);\n        }\n    };\n    const deleteChecklistItem = async (itemId)=>{\n        try {\n            setError(null);\n            const { error } = await supabase.from(\"checklist_items\").delete().eq(\"id\", itemId);\n            if (error) throw error;\n            // Update local state\n            setItems((prev)=>prev.filter((item)=>item.id !== itemId));\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to delete checklist item\";\n            setError(errorMessage);\n            throw err instanceof Error ? err : new Error(errorMessage);\n        }\n    };\n    const toggleChecklistItem = async (itemId)=>{\n        const item = items.find((i)=>i.id === itemId);\n        if (!item) return;\n        return await updateChecklistItem(itemId, {\n            completed: !item.completed\n        });\n    };\n    const getChecklistStats = ()=>{\n        const now = new Date();\n        const total = items.length;\n        const completed = items.filter((item)=>item.completed).length;\n        const overdue = items.filter((item)=>!item.completed && item.due_date && new Date(item.due_date) < now).length;\n        const upcoming = items.filter((item)=>!item.completed && item.due_date && new Date(item.due_date) >= now).length;\n        return {\n            total,\n            completed,\n            overdue,\n            upcoming,\n            completionRate: total > 0 ? completed / total * 100 : 0\n        };\n    };\n    const filterChecklistItems = (filters)=>{\n        let filtered = [\n            ...items\n        ];\n        // Status filter\n        if (filters.status && filters.status !== 'all') {\n            const now = new Date();\n            switch(filters.status){\n                case 'completed':\n                    filtered = filtered.filter((item)=>item.completed);\n                    break;\n                case 'pending':\n                    filtered = filtered.filter((item)=>!item.completed);\n                    break;\n                case 'overdue':\n                    filtered = filtered.filter((item)=>!item.completed && item.due_date && new Date(item.due_date) < now);\n                    break;\n            }\n        }\n        // Search filter\n        if (filters.search) {\n            const searchTerm = filters.search.toLowerCase();\n            filtered = filtered.filter((item)=>item.title.toLowerCase().includes(searchTerm) || item.description && item.description.toLowerCase().includes(searchTerm));\n        }\n        // Sort\n        const sortBy = filters.sortBy || 'due_date';\n        const sortOrder = filters.sortOrder || 'asc';\n        filtered.sort((a, b)=>{\n            let comparison = 0;\n            switch(sortBy){\n                case 'title':\n                    comparison = a.title.localeCompare(b.title);\n                    break;\n                case 'created_at':\n                    comparison = new Date(a.created_at).getTime() - new Date(b.created_at).getTime();\n                    break;\n                case 'due_date':\n                default:\n                    if (!a.due_date && !b.due_date) comparison = 0;\n                    else if (!a.due_date) comparison = 1;\n                    else if (!b.due_date) comparison = -1;\n                    else comparison = new Date(a.due_date).getTime() - new Date(b.due_date).getTime();\n                    break;\n            }\n            return sortOrder === 'desc' ? -comparison : comparison;\n        });\n        return filtered;\n    };\n    return {\n        // State\n        items,\n        loading,\n        error,\n        eventId: currentEventId,\n        // Actions\n        addChecklistItem,\n        updateChecklistItem,\n        deleteChecklistItem,\n        toggleChecklistItem,\n        // Computed values\n        getChecklistStats,\n        filterChecklistItems,\n        // Utilities\n        refetch: ()=>currentEventId ? fetchChecklistItems(currentEventId) : Promise.resolve()\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VDaGVja2xpc3QudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztrRUFFNEM7QUFDaUI7QUFHdEQsU0FBU0csYUFBYUMsT0FBZ0I7SUFDM0MsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdOLCtDQUFRQSxDQUFrQixFQUFFO0lBQ3RELE1BQU0sQ0FBQ08sU0FBU0MsV0FBVyxHQUFHUiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNTLE9BQU9DLFNBQVMsR0FBR1YsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQ1csZ0JBQWdCQyxrQkFBa0IsR0FBR1osK0NBQVFBLENBQWdCO0lBRXBFLE1BQU1hLFdBQVdYLDBFQUEyQkE7SUFFNUMsaUNBQWlDO0lBQ2pDLE1BQU1ZLGVBQWU7UUFDbkIsSUFBSTtZQUNGLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU1ILFNBQVNJLElBQUksQ0FBQ0MsT0FBTztZQUN0RCxJQUFJLENBQUNGLE1BQU0sT0FBTztZQUVsQixNQUFNLEVBQUVELE1BQU1JLEtBQUssRUFBRVYsS0FBSyxFQUFFLEdBQUcsTUFBTUksU0FDbENPLElBQUksQ0FBQyxVQUNMQyxNQUFNLENBQUMsTUFDUEMsRUFBRSxDQUFDLGNBQWNOLEtBQUtPLEVBQUUsRUFDeEJDLE1BQU07WUFFVCxJQUFJZixTQUFTQSxNQUFNZ0IsSUFBSSxLQUFLLFlBQVk7Z0JBQ3RDLE1BQU1oQjtZQUNSO1lBRUEsT0FBT1UsQ0FBQUEsa0JBQUFBLDRCQUFBQSxNQUFPSSxFQUFFLEtBQUk7UUFDdEIsRUFBRSxPQUFPRyxLQUFLO1lBQ1pDLFFBQVFsQixLQUFLLENBQUMsNkJBQTZCaUI7WUFDM0MsT0FBTztRQUNUO0lBQ0Y7SUFFQXpCLGdEQUFTQTtrQ0FBQztZQUNSLE1BQU0yQjtxREFBYTtvQkFDakIsSUFBSUMsZ0JBQWdCekI7b0JBRXBCLElBQUksQ0FBQ3lCLGVBQWU7d0JBQ2xCQSxnQkFB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QUs7Z0JBQ0w7b0JBQ0UsSUFBSSxDQUFDTixFQUFFRSxRQUFRLElBQUksQ0FBQ0QsRUFBRUMsUUFBUSxFQUFFbUMsYUFBYTt5QkFDeEMsSUFBSSxDQUFDckMsRUFBRUUsUUFBUSxFQUFFbUMsYUFBYTt5QkFDOUIsSUFBSSxDQUFDcEMsRUFBRUMsUUFBUSxFQUFFbUMsYUFBYSxDQUFDO3lCQUMvQkEsYUFBYSxJQUFJaEMsS0FBS0wsRUFBRUUsUUFBUSxFQUFFSSxPQUFPLEtBQUssSUFBSUQsS0FBS0osRUFBRUMsUUFBUSxFQUFFSSxPQUFPO29CQUMvRTtZQUNKO1lBRUEsT0FBTzhCLGNBQWMsU0FBUyxDQUFDQyxhQUFhQTtRQUM5QztRQUVBLE9BQU9UO0lBQ1Q7SUFFQSxPQUFPO1FBQ0wsUUFBUTtRQUNSekU7UUFDQUU7UUFDQUU7UUFDQUwsU0FBU087UUFFVCxVQUFVO1FBQ1ZpQztRQUNBYTtRQUNBTTtRQUNBRTtRQUVBLGtCQUFrQjtRQUNsQkk7UUFDQU87UUFFQSxZQUFZO1FBQ1phLFNBQVMsSUFBTTlFLGlCQUFpQm1CLG9CQUFvQm5CLGtCQUFrQitFLFFBQVFDLE9BQU87SUFDdkY7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2RhdmlkYmFsaWFuL0Rlc2t0b3AvbW9tZW50bW9pLXZvaWQvc3JjL2hvb2tzL3VzZUNoZWNrbGlzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlXCI7XG5pbXBvcnQgeyBDaGVja2xpc3RJdGVtLCBDaGVja2xpc3RTdGF0cywgQ2hlY2tsaXN0RmlsdGVycyB9IGZyb20gXCJAL3R5cGVzL2NoZWNrbGlzdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2hlY2tsaXN0KGV2ZW50SWQ/OiBzdHJpbmcpIHtcbiAgY29uc3QgW2l0ZW1zLCBzZXRJdGVtc10gPSB1c2VTdGF0ZTxDaGVja2xpc3RJdGVtW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjdXJyZW50RXZlbnRJZCwgc2V0Q3VycmVudEV2ZW50SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQoKTtcblxuICAvLyBGZXRjaCBldmVudCBJRCBpZiBub3QgcHJvdmlkZWRcbiAgY29uc3QgZmV0Y2hFdmVudElkID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcbiAgICAgIGlmICghdXNlcikgcmV0dXJuIG51bGw7XG5cbiAgICAgIGNvbnN0IHsgZGF0YTogZXZlbnQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImV2ZW50c1wiKVxuICAgICAgICAuc2VsZWN0KFwiaWRcIilcbiAgICAgICAgLmVxKFwicGxhbm5lcl9pZFwiLCB1c2VyLmlkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvciAmJiBlcnJvci5jb2RlICE9PSBcIlBHUlNUMTE2XCIpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBldmVudD8uaWQgfHwgbnVsbDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggZXZlbnQgSUQ6XCIsIGVycik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplID0gYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHRhcmdldEV2ZW50SWQgPSBldmVudElkO1xuXG4gICAgICBpZiAoIXRhcmdldEV2ZW50SWQpIHtcbiAgICAgICAgdGFyZ2V0RXZlbnRJZCA9IGF3YWl0IGZldGNoRXZlbnRJZCgpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnRJZCh0YXJnZXRFdmVudElkIHx8IG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50SWQodGFyZ2V0RXZlbnRJZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGFyZ2V0RXZlbnRJZCkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmZXRjaENoZWNrbGlzdEl0ZW1zKHRhcmdldEV2ZW50SWQpO1xuXG4gICAgICAvLyBTZXQgdXAgcmVhbC10aW1lIHN1YnNjcmlwdGlvblxuICAgICAgY29uc3QgY2hhbm5lbCA9IHN1cGFiYXNlXG4gICAgICAgIC5jaGFubmVsKFwiY2hlY2tsaXN0LWNoYW5nZXNcIilcbiAgICAgICAgLm9uKFxuICAgICAgICAgIFwicG9zdGdyZXNfY2hhbmdlc1wiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV2ZW50OiBcIipcIixcbiAgICAgICAgICAgIHNjaGVtYTogXCJwdWJsaWNcIixcbiAgICAgICAgICAgIHRhYmxlOiBcImNoZWNrbGlzdF9pdGVtc1wiLFxuICAgICAgICAgICAgZmlsdGVyOiBgZXZlbnRfaWQ9ZXEuJHt0YXJnZXRFdmVudElkfWAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBmZXRjaENoZWNrbGlzdEl0ZW1zKHRhcmdldEV2ZW50SWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKCk7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHN1cGFiYXNlLnJlbW92ZUNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBpbml0aWFsaXplKCk7XG4gIH0sIFtldmVudElkXSk7XG5cbiAgY29uc3QgZmV0Y2hDaGVja2xpc3RJdGVtcyA9IGFzeW5jICh0YXJnZXRFdmVudElkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNoZWNrbGlzdF9pdGVtc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAuZXEoXCJldmVudF9pZFwiLCB0YXJnZXRFdmVudElkKVxuICAgICAgICAub3JkZXIoXCJkdWVfZGF0ZVwiLCB7IGFzY2VuZGluZzogdHJ1ZSwgbnVsbHNGaXJzdDogZmFsc2UgfSlcbiAgICAgICAgLm9yZGVyKFwidGl0bGVcIik7XG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICBzZXRJdGVtcyhkYXRhIHx8IFtdKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBmZXRjaCBjaGVja2xpc3QgaXRlbXNcIjtcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGNoZWNrbGlzdCBpdGVtczpcIiwgZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFkZENoZWNrbGlzdEl0ZW0gPSBhc3luYyAoaXRlbURhdGE6IE9taXQ8Q2hlY2tsaXN0SXRlbSwgXCJpZFwiIHwgXCJldmVudF9pZFwiIHwgXCJjcmVhdGVkX2F0XCIgfCBcInVwZGF0ZWRfYXRcIj4pID0+IHtcbiAgICBpZiAoIWN1cnJlbnRFdmVudElkKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBldmVudCBJRCBhdmFpbGFibGVcIik7XG5cbiAgICB0cnkge1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNoZWNrbGlzdF9pdGVtc1wiKVxuICAgICAgICAuaW5zZXJ0KHsgLi4uaXRlbURhdGEsIGV2ZW50X2lkOiBjdXJyZW50RXZlbnRJZCB9KVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgIHNldEl0ZW1zKHByZXYgPT4gWy4uLnByZXYsIGRhdGFdLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgLy8gU29ydCBieSBkdWUgZGF0ZSBmaXJzdCAobnVsbHMgbGFzdCksIHRoZW4gYnkgdGl0bGVcbiAgICAgICAgaWYgKCFhLmR1ZV9kYXRlICYmICFiLmR1ZV9kYXRlKSByZXR1cm4gYS50aXRsZS5sb2NhbGVDb21wYXJlKGIudGl0bGUpO1xuICAgICAgICBpZiAoIWEuZHVlX2RhdGUpIHJldHVybiAxO1xuICAgICAgICBpZiAoIWIuZHVlX2RhdGUpIHJldHVybiAtMTtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGEuZHVlX2RhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuZHVlX2RhdGUpLmdldFRpbWUoKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYWRkIGNoZWNrbGlzdCBpdGVtXCI7XG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgdGhyb3cgZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlQ2hlY2tsaXN0SXRlbSA9IGFzeW5jIChpdGVtSWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDaGVja2xpc3RJdGVtPikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY2hlY2tsaXN0X2l0ZW1zXCIpXG4gICAgICAgIC51cGRhdGUodXBkYXRlcylcbiAgICAgICAgLmVxKFwiaWRcIiwgaXRlbUlkKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgIHNldEl0ZW1zKHByZXYgPT4gcHJldi5tYXAoaXRlbSA9PlxuICAgICAgICBpdGVtLmlkID09PSBpdGVtSWQgPyB7IC4uLml0ZW0sIC4uLmRhdGEgfSA6IGl0ZW1cbiAgICAgICkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAvLyBTb3J0IGJ5IGR1ZSBkYXRlIGZpcnN0IChudWxscyBsYXN0KSwgdGhlbiBieSB0aXRsZVxuICAgICAgICBpZiAoIWEuZHVlX2RhdGUgJiYgIWIuZHVlX2RhdGUpIHJldHVybiBhLnRpdGxlLmxvY2FsZUNvbXBhcmUoYi50aXRsZSk7XG4gICAgICAgIGlmICghYS5kdWVfZGF0ZSkgcmV0dXJuIDE7XG4gICAgICAgIGlmICghYi5kdWVfZGF0ZSkgcmV0dXJuIC0xO1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5kdWVfZGF0ZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi5kdWVfZGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byB1cGRhdGUgY2hlY2tsaXN0IGl0ZW1cIjtcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB0aHJvdyBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkZWxldGVDaGVja2xpc3RJdGVtID0gYXN5bmMgKGl0ZW1JZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJjaGVja2xpc3RfaXRlbXNcIilcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcShcImlkXCIsIGl0ZW1JZCk7XG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cbiAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgc2V0SXRlbXMocHJldiA9PiBwcmV2LmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IGl0ZW1JZCkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGRlbGV0ZSBjaGVja2xpc3QgaXRlbVwiO1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIHRocm93IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdEl0ZW0gPSBhc3luYyAoaXRlbUlkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBpdGVtID0gaXRlbXMuZmluZChpID0+IGkuaWQgPT09IGl0ZW1JZCk7XG4gICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICByZXR1cm4gYXdhaXQgdXBkYXRlQ2hlY2tsaXN0SXRlbShpdGVtSWQsIHsgY29tcGxldGVkOiAhaXRlbS5jb21wbGV0ZWQgfSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0Q2hlY2tsaXN0U3RhdHMgPSAoKTogQ2hlY2tsaXN0U3RhdHMgPT4ge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgdG90YWwgPSBpdGVtcy5sZW5ndGg7XG4gICAgY29uc3QgY29tcGxldGVkID0gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jb21wbGV0ZWQpLmxlbmd0aDtcbiAgICBjb25zdCBvdmVyZHVlID0gaXRlbXMuZmlsdGVyKGl0ZW0gPT5cbiAgICAgICFpdGVtLmNvbXBsZXRlZCAmJlxuICAgICAgaXRlbS5kdWVfZGF0ZSAmJlxuICAgICAgbmV3IERhdGUoaXRlbS5kdWVfZGF0ZSkgPCBub3dcbiAgICApLmxlbmd0aDtcbiAgICBjb25zdCB1cGNvbWluZyA9IGl0ZW1zLmZpbHRlcihpdGVtID0+XG4gICAgICAhaXRlbS5jb21wbGV0ZWQgJiZcbiAgICAgIGl0ZW0uZHVlX2RhdGUgJiZcbiAgICAgIG5ldyBEYXRlKGl0ZW0uZHVlX2RhdGUpID49IG5vd1xuICAgICkubGVuZ3RoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsLFxuICAgICAgY29tcGxldGVkLFxuICAgICAgb3ZlcmR1ZSxcbiAgICAgIHVwY29taW5nLFxuICAgICAgY29tcGxldGlvblJhdGU6IHRvdGFsID4gMCA/IChjb21wbGV0ZWQgLyB0b3RhbCkgKiAxMDAgOiAwLFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgZmlsdGVyQ2hlY2tsaXN0SXRlbXMgPSAoZmlsdGVyczogUGFydGlhbDxDaGVja2xpc3RGaWx0ZXJzPikgPT4ge1xuICAgIGxldCBmaWx0ZXJlZCA9IFsuLi5pdGVtc107XG5cbiAgICAvLyBTdGF0dXMgZmlsdGVyXG4gICAgaWYgKGZpbHRlcnMuc3RhdHVzICYmIGZpbHRlcnMuc3RhdHVzICE9PSAnYWxsJykge1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIHN3aXRjaCAoZmlsdGVycy5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSAnY29tcGxldGVkJzpcbiAgICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihpdGVtID0+IGl0ZW0uY29tcGxldGVkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoaXRlbSA9PiAhaXRlbS5jb21wbGV0ZWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdvdmVyZHVlJzpcbiAgICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihpdGVtID0+XG4gICAgICAgICAgICAhaXRlbS5jb21wbGV0ZWQgJiZcbiAgICAgICAgICAgIGl0ZW0uZHVlX2RhdGUgJiZcbiAgICAgICAgICAgIG5ldyBEYXRlKGl0ZW0uZHVlX2RhdGUpIDwgbm93XG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZWFyY2ggZmlsdGVyXG4gICAgaWYgKGZpbHRlcnMuc2VhcmNoKSB7XG4gICAgICBjb25zdCBzZWFyY2hUZXJtID0gZmlsdGVycy5zZWFyY2gudG9Mb3dlckNhc2UoKTtcbiAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGl0ZW0gPT5cbiAgICAgICAgaXRlbS50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0pIHx8XG4gICAgICAgIChpdGVtLmRlc2NyaXB0aW9uICYmIGl0ZW0uZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU29ydFxuICAgIGNvbnN0IHNvcnRCeSA9IGZpbHRlcnMuc29ydEJ5IHx8ICdkdWVfZGF0ZSc7XG4gICAgY29uc3Qgc29ydE9yZGVyID0gZmlsdGVycy5zb3J0T3JkZXIgfHwgJ2FzYyc7XG5cbiAgICBmaWx0ZXJlZC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBsZXQgY29tcGFyaXNvbiA9IDA7XG5cbiAgICAgIHN3aXRjaCAoc29ydEJ5KSB7XG4gICAgICAgIGNhc2UgJ3RpdGxlJzpcbiAgICAgICAgICBjb21wYXJpc29uID0gYS50aXRsZS5sb2NhbGVDb21wYXJlKGIudGl0bGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjcmVhdGVkX2F0JzpcbiAgICAgICAgICBjb21wYXJpc29uID0gbmV3IERhdGUoYS5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmNyZWF0ZWRfYXQpLmdldFRpbWUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZHVlX2RhdGUnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYS5kdWVfZGF0ZSAmJiAhYi5kdWVfZGF0ZSkgY29tcGFyaXNvbiA9IDA7XG4gICAgICAgICAgZWxzZSBpZiAoIWEuZHVlX2RhdGUpIGNvbXBhcmlzb24gPSAxO1xuICAgICAgICAgIGVsc2UgaWYgKCFiLmR1ZV9kYXRlKSBjb21wYXJpc29uID0gLTE7XG4gICAgICAgICAgZWxzZSBjb21wYXJpc29uID0gbmV3IERhdGUoYS5kdWVfZGF0ZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi5kdWVfZGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc29ydE9yZGVyID09PSAnZGVzYycgPyAtY29tcGFyaXNvbiA6IGNvbXBhcmlzb247XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmlsdGVyZWQ7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBTdGF0ZVxuICAgIGl0ZW1zLFxuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgZXZlbnRJZDogY3VycmVudEV2ZW50SWQsXG5cbiAgICAvLyBBY3Rpb25zXG4gICAgYWRkQ2hlY2tsaXN0SXRlbSxcbiAgICB1cGRhdGVDaGVja2xpc3RJdGVtLFxuICAgIGRlbGV0ZUNoZWNrbGlzdEl0ZW0sXG4gICAgdG9nZ2xlQ2hlY2tsaXN0SXRlbSxcblxuICAgIC8vIENvbXB1dGVkIHZhbHVlc1xuICAgIGdldENoZWNrbGlzdFN0YXRzLFxuICAgIGZpbHRlckNoZWNrbGlzdEl0ZW1zLFxuXG4gICAgLy8gVXRpbGl0aWVzXG4gICAgcmVmZXRjaDogKCkgPT4gY3VycmVudEV2ZW50SWQgPyBmZXRjaENoZWNrbGlzdEl0ZW1zKGN1cnJlbnRFdmVudElkKSA6IFByb21pc2UucmVzb2x2ZSgpLFxuICB9O1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IiwidXNlQ2hlY2tsaXN0IiwiZXZlbnRJZCIsIml0ZW1zIiwic2V0SXRlbXMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJjdXJyZW50RXZlbnRJZCIsInNldEN1cnJlbnRFdmVudElkIiwic3VwYWJhc2UiLCJmZXRjaEV2ZW50SWQiLCJkYXRhIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwiZXZlbnQiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJpZCIsInNpbmdsZSIsImNvZGUiLCJlcnIiLCJjb25zb2xlIiwiaW5pdGlhbGl6ZSIsInRhcmdldEV2ZW50SWQiLCJmZXRjaENoZWNrbGlzdEl0ZW1zIiwiY2hhbm5lbCIsIm9uIiwic2NoZW1hIiwidGFibGUiLCJmaWx0ZXIiLCJzdWJzY3JpYmUiLCJyZW1vdmVDaGFubmVsIiwib3JkZXIiLCJhc2NlbmRpbmciLCJudWxsc0ZpcnN0IiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwiYWRkQ2hlY2tsaXN0SXRlbSIsIml0ZW1EYXRhIiwiaW5zZXJ0IiwiZXZlbnRfaWQiLCJwcmV2Iiwic29ydCIsImEiLCJiIiwiZHVlX2RhdGUiLCJ0aXRsZSIsImxvY2FsZUNvbXBhcmUiLCJEYXRlIiwiZ2V0VGltZSIsInVwZGF0ZUNoZWNrbGlzdEl0ZW0iLCJpdGVtSWQiLCJ1cGRhdGVzIiwidXBkYXRlIiwibWFwIiwiaXRlbSIsImRlbGV0ZUNoZWNrbGlzdEl0ZW0iLCJkZWxldGUiLCJ0b2dnbGVDaGVja2xpc3RJdGVtIiwiZmluZCIsImkiLCJjb21wbGV0ZWQiLCJnZXRDaGVja2xpc3RTdGF0cyIsIm5vdyIsInRvdGFsIiwibGVuZ3RoIiwib3ZlcmR1ZSIsInVwY29taW5nIiwiY29tcGxldGlvblJhdGUiLCJmaWx0ZXJDaGVja2xpc3RJdGVtcyIsImZpbHRlcnMiLCJmaWx0ZXJlZCIsInN0YXR1cyIsInNlYXJjaCIsInNlYXJjaFRlcm0iLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiZGVzY3JpcHRpb24iLCJzb3J0QnkiLCJzb3J0T3JkZXIiLCJjb21wYXJpc29uIiwiY3JlYXRlZF9hdCIsInJlZmV0Y2giLCJQcm9taXNlIiwicmVzb2x2ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useChecklist.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useClientDashboard.ts":
/*!*****************************************!*\
  !*** ./src/hooks/useClientDashboard.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useClientDashboard: () => (/* binding */ useClientDashboard)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./src/contexts/AuthContext.tsx\");\n/* __next_internal_client_entry_do_not_use__ useClientDashboard auto */ \n\n\nfunction useClientDashboard() {\n    const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__.useAuth)();\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.createClientComponentClient)();\n    const fetchDashboardData = async ()=>{\n        if (!user) {\n            setLoading(false);\n            return;\n        }\n        try {\n            setLoading(true);\n            setError(null);\n            // Fetch user's event\n            const { data: events, error: eventsError } = await supabase.from(\"events\").select(\"*\").eq(\"planner_id\", user.id).single();\n            if (eventsError && eventsError.code !== \"PGRST116\") {\n                throw eventsError;\n            }\n            const event = events || null;\n            // Fetch partner information if user has a couple profile\n            let partner = null;\n            if (event) {\n                const { data: coupleProfile, error: coupleError } = await supabase.from(\"couple_profiles\").select(\"partner_id\").eq(\"user_id\", user.id).single();\n                if (!coupleError && (coupleProfile === null || coupleProfile === void 0 ? void 0 : coupleProfile.partner_id)) {\n                    const { data: partnerData, error: partnerError } = await supabase.from(\"profiles\").select(\"id, email, full_name, avatar_url, user_type\").eq(\"id\", coupleProfile.partner_id).single();\n                    if (!partnerError) {\n                        partner = partnerData;\n                    }\n                }\n            }\n            // Fetch guests if event exists\n            let guests = [];\n            if (event) {\n                const { data: guestsData, error: guestsError } = await supabase.from(\"guests\").select(\"*\").eq(\"event_id\", event.id);\n                if (!guestsError) {\n                    guests = guestsData || [];\n                }\n            }\n            // Fetch checklist items if event exists\n            let checklistItems = [];\n            if (event) {\n                const { data: checklistData, error: checklistError } = await supabase.from(\"checklist_items\").select(\"*\").eq(\"event_id\", event.id);\n                if (!checklistError) {\n                    checklistItems = checklistData || [];\n                }\n            }\n            // Fetch budget items if event exists\n            let budgetItems = [];\n            if (event) {\n                const { data: budgetData, error: budgetError } = await supabase.from(\"budget_items\").select(\"*\").eq(\"event_id\", event.id);\n                if (!budgetError) {\n                    budgetItems = budgetData || [];\n                }\n            }\n            // Calculate stats\n            const stats = {\n                daysUntilEvent: (event === null || event === void 0 ? void 0 : event.event_date) ? Math.max(0, Math.ceil((new Date(event.event_date).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24))) : 0,\n                totalGuests: guests.length,\n                confirmedGuests: guests.filter((g)=>g.rsvp_status === \"confirmed\").length,\n                totalBudget: budgetItems.reduce((sum, item)=>sum + (item.estimated_cost || 0), 0),\n                spentBudget: budgetItems.reduce((sum, item)=>sum + (item.actual_cost || 0), 0),\n                completedTasks: checklistItems.filter((item)=>item.completed).length,\n                totalTasks: checklistItems.length\n            };\n            // Generate recent activity (simplified for now)\n            const recentActivity = [];\n            // Add recent guest additions\n            const recentGuests = guests.filter((g)=>new Date(g.created_at) > new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)).slice(0, 3);\n            recentGuests.forEach((guest)=>{\n                recentActivity.push({\n                    id: guest.id,\n                    type: \"guest_added\",\n                    message: \"Added \".concat(guest.name, \" to guest list\"),\n                    timestamp: guest.created_at\n                });\n            });\n            // Add recent task completions\n            const recentCompletedTasks = checklistItems.filter((item)=>item.completed && new Date(item.updated_at) > new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)).slice(0, 3);\n            recentCompletedTasks.forEach((task)=>{\n                recentActivity.push({\n                    id: task.id,\n                    type: \"task_completed\",\n                    message: \"Completed: \".concat(task.title),\n                    timestamp: task.updated_at\n                });\n            });\n            // Add recent budget updates\n            const recentBudgetUpdates = budgetItems.filter((item)=>new Date(item.updated_at) > new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)).slice(0, 3);\n            recentBudgetUpdates.forEach((item)=>{\n                const hasActualCost = item.actual_cost && item.actual_cost > 0;\n                recentActivity.push({\n                    id: item.id,\n                    type: \"budget_updated\",\n                    message: hasActualCost ? \"Paid \".concat(item.name, \": $\").concat(item.actual_cost) : \"Added budget item: \".concat(item.name),\n                    timestamp: item.updated_at\n                });\n            });\n            // Sort by timestamp\n            recentActivity.sort((a, b)=>new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n            // Get upcoming deadlines (tasks due in next 30 days)\n            const upcomingDeadlines = checklistItems.filter((item)=>item.due_date && !item.completed && new Date(item.due_date) > new Date() && new Date(item.due_date) <= new Date(Date.now() + 30 * 24 * 60 * 60 * 1000)).sort((a, b)=>new Date(a.due_date).getTime() - new Date(b.due_date).getTime()).slice(0, 5);\n            setData({\n                event,\n                partner,\n                stats,\n                recentActivity,\n                upcomingDeadlines\n            });\n        } catch (err) {\n            console.error(\"Error fetching client dashboard data:\", err);\n            setError(err instanceof Error ? err.message : \"Failed to fetch dashboard data\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useClientDashboard.useEffect\": ()=>{\n            fetchDashboardData();\n        }\n    }[\"useClientDashboard.useEffect\"], [\n        user\n    ]);\n    // Set up real-time subscriptions\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useClientDashboard.useEffect\": ()=>{\n            if (!user) return;\n            const channel = supabase.channel(\"client-dashboard-changes\").on(\"postgres_changes\", {\n                event: \"*\",\n                schema: \"public\",\n                table: \"events\",\n                filter: \"planner_id=eq.\".concat(user.id)\n            }, {\n                \"useClientDashboard.useEffect.channel\": ()=>fetchDashboardData()\n            }[\"useClientDashboard.useEffect.channel\"]).on(\"postgres_changes\", {\n                event: \"*\",\n                schema: \"public\",\n                table: \"guests\"\n            }, {\n                \"useClientDashboard.useEffect.channel\": ()=>fetchDashboardData()\n            }[\"useClientDashboard.useEffect.channel\"]).on(\"postgres_changes\", {\n                event: \"*\",\n                schema: \"public\",\n                table: \"checklist_items\"\n            }, {\n                \"useClientDashboard.useEffect.channel\": ()=>fetchDashboardData()\n            }[\"useClientDashboard.useEffect.channel\"]).on(\"postgres_changes\", {\n                event: \"*\",\n                schema: \"public\",\n                table: \"budget_items\"\n            }, {\n                \"useClientDashboard.useEffect.channel\": ()=>fetchDashboardData()\n            }[\"useClientDashboard.useEffect.channel\"]).subscribe();\n            return ({\n                \"useClientDashboard.useEffect\": ()=>{\n                    supabase.removeChannel(channel);\n                }\n            })[\"useClientDashboard.useEffect\"];\n        }\n    }[\"useClientDashboard.useEffect\"], [\n        user,\n        supabase\n    ]);\n    return {\n        data,\n        loading,\n        error,\n        refetch: fetchDashboardData\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VDbGllbnREYXNoYm9hcmQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7d0VBRTRDO0FBQ2lCO0FBQ1o7QUE0RjFDLFNBQVNJO0lBQ2QsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdOLCtDQUFRQSxDQUE2QjtJQUM3RCxNQUFNLENBQUNPLFNBQVNDLFdBQVcsR0FBR1IsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDUyxPQUFPQyxTQUFTLEdBQUdWLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLEVBQUVXLElBQUksRUFBRSxHQUFHUiw4REFBT0E7SUFDeEIsTUFBTVMsV0FBV1YsMEVBQTJCQTtJQUU1QyxNQUFNVyxxQkFBcUI7UUFDekIsSUFBSSxDQUFDRixNQUFNO1lBQ1RILFdBQVc7WUFDWDtRQUNGO1FBRUEsSUFBSTtZQUNGQSxXQUFXO1lBQ1hFLFNBQVM7WUFFVCxxQkFBcUI7WUFDckIsTUFBTSxFQUFFTCxNQUFNUyxNQUFNLEVBQUVMLE9BQU9NLFdBQVcsRUFBRSxHQUFHLE1BQU1ILFNBQ2hESSxJQUFJLENBQUMsVUFDTEMsTUFBTSxDQUFDLEtBQ1BDLEVBQUUsQ0FBQyxjQUFjUCxLQUFLUSxFQUFFLEVBQ3hCQyxNQUFNO1lBRVQsSUFBSUwsZUFBZUEsWUFBWU0sSUFBSSxLQUFLLFlBQVk7Z0JBQ2xELE1BQU1OO1lBQ1I7WUFFQSxNQUFNTyxRQUFRUixVQUFVO1lBRXhCLHlEQUF5RDtZQUN6RCxJQUFJUyxVQUEwQjtZQUM5QixJQUFJRCxPQUFPO2dCQUNULE1BQU0sRUFBRWpCLE1BQU1tQixhQUFhLEVBQUVmLE9BQU9nQixXQUFXLEVBQUUsR0FBRyxNQUFNYixTQUN2REksSUFBSSxDQUFDLG1CQUNMQyxNQUFNLENBQUMsY0FDUEMsRUFBRSxDQUFDLFdBQVdQLEtBQUtRLEVBQUUsRUFDckJDLE1BQU07Z0JBRVQsSUFBSSxDQUFDSyxnQkFBZUQsMEJBQUFBLG9DQUFBQSxjQUFlRSxVQUFVLEdBQUU7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T0FBUnRDLEtBQUtRLEVBQUU7WUFBRzt3REFDcEYsSUFBTU47dURBRVA0RSxFQUFFLENBQ0Qsb0JBQ0E7Z0JBQUVuRSxPQUFPO2dCQUFLb0UsUUFBUTtnQkFBVUMsT0FBTztZQUFTO3dEQUNoRCxJQUFNOUU7dURBRVA0RSxFQUFFLENBQ0Qsb0JBQ0E7Z0JBQUVuRSxPQUFPO2dCQUFLb0UsUUFBUTtnQkFBVUMsT0FBTztZQUFrQjt3REFDekQsSUFBTTlFO3VEQUVQNEUsRUFBRSxDQUNELG9CQUNBO2dCQUFFbkUsT0FBTztnQkFBS29FLFFBQVE7Z0JBQVVDLE9BQU87WUFBZTt3REFDdEQsSUFBTTlFO3VEQUVQK0UsU0FBUztZQUVaO2dEQUFPO29CQUNMaEYsU0FBU2lGLGFBQWEsQ0FBQ0w7Z0JBQ3pCOztRQUNGO3VDQUFHO1FBQUM3RTtRQUFNQztLQUFTO0lBRW5CLE9BQU87UUFDTFA7UUFDQUU7UUFDQUU7UUFDQXFGLFNBQVNqRjtJQUNYO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZGJhbGlhbi9EZXNrdG9wL21vbWVudG1vaS12b2lkL3NyYy9ob29rcy91c2VDbGllbnREYXNoYm9hcmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZVwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCJAL2NvbnRleHRzL0F1dGhDb250ZXh0XCI7XG5cbmludGVyZmFjZSBFdmVudCB7XG4gIGlkOiBzdHJpbmc7XG4gIHBsYW5uZXJfaWQ6IHN0cmluZztcbiAgZXZlbnRfdHlwZTogc3RyaW5nO1xuICBldmVudF9kYXRlOiBzdHJpbmcgfCBudWxsO1xuICBsb2NhdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgZ3Vlc3RfY291bnQ6IHN0cmluZyB8IG51bGw7XG4gIGV2ZW50X3N0eWxlOiBzdHJpbmcgfCBudWxsO1xuICBidWRnZXRfcmFuZ2U6IHN0cmluZyB8IG51bGw7XG4gIHBsYW5uaW5nX3N0YWdlOiBzdHJpbmcgfCBudWxsO1xuICBjZXJlbW9ueV92ZW51ZTogc3RyaW5nIHwgbnVsbDtcbiAgcmVjZXB0aW9uX3ZlbnVlOiBzdHJpbmcgfCBudWxsO1xuICBjZXJlbW9ueV90aW1lOiBzdHJpbmcgfCBudWxsO1xuICByZWNlcHRpb25fdGltZTogc3RyaW5nIHwgbnVsbDtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBQYXJ0bmVyIHtcbiAgaWQ6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgZnVsbF9uYW1lOiBzdHJpbmcgfCBudWxsO1xuICBhdmF0YXJfdXJsOiBzdHJpbmcgfCBudWxsO1xuICB1c2VyX3R5cGU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEd1ZXN0IHtcbiAgaWQ6IHN0cmluZztcbiAgZXZlbnRfaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nIHwgbnVsbDtcbiAgcGhvbmU6IHN0cmluZyB8IG51bGw7XG4gIHJzdnBfc3RhdHVzOiBzdHJpbmc7XG4gIGRpZXRhcnlfcmVzdHJpY3Rpb25zOiBzdHJpbmcgfCBudWxsO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIENoZWNrbGlzdEl0ZW0ge1xuICBpZDogc3RyaW5nO1xuICBldmVudF9pZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgZHVlX2RhdGU6IHN0cmluZyB8IG51bGw7XG4gIGNvbXBsZXRlZDogYm9vbGVhbjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBCdWRnZXRJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgZXZlbnRfaWQ6IHN0cmluZztcbiAgY2F0ZWdvcnk6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBlc3RpbWF0ZWRfY29zdDogbnVtYmVyIHwgbnVsbDtcbiAgYWN0dWFsX2Nvc3Q6IG51bWJlciB8IG51bGw7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQWN0aXZpdHlJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogXCJndWVzdF9hZGRlZFwiIHwgXCJ0YXNrX2NvbXBsZXRlZFwiIHwgXCJidWRnZXRfdXBkYXRlZFwiIHwgXCJ2ZW5kb3JfY29udGFjdGVkXCI7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBDbGllbnREYXNoYm9hcmREYXRhIHtcbiAgZXZlbnQ6IEV2ZW50IHwgbnVsbDtcbiAgcGFydG5lcjogUGFydG5lciB8IG51bGw7XG4gIHN0YXRzOiB7XG4gICAgZGF5c1VudGlsRXZlbnQ6IG51bWJlcjtcbiAgICB0b3RhbEd1ZXN0czogbnVtYmVyO1xuICAgIGNvbmZpcm1lZEd1ZXN0czogbnVtYmVyO1xuICAgIHRvdGFsQnVkZ2V0OiBudW1iZXI7XG4gICAgc3BlbnRCdWRnZXQ6IG51bWJlcjtcbiAgICBjb21wbGV0ZWRUYXNrczogbnVtYmVyO1xuICAgIHRvdGFsVGFza3M6IG51bWJlcjtcbiAgfTtcbiAgcmVjZW50QWN0aXZpdHk6IEFjdGl2aXR5SXRlbVtdO1xuICB1cGNvbWluZ0RlYWRsaW5lczogQ2hlY2tsaXN0SXRlbVtdO1xufVxuXG5pbnRlcmZhY2UgVXNlQ2xpZW50RGFzaGJvYXJkUmV0dXJuIHtcbiAgZGF0YTogQ2xpZW50RGFzaGJvYXJkRGF0YSB8IG51bGw7XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICByZWZldGNoOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2xpZW50RGFzaGJvYXJkKCk6IFVzZUNsaWVudERhc2hib2FyZFJldHVybiB7XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlPENsaWVudERhc2hib2FyZERhdGEgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCgpO1xuXG4gIGNvbnN0IGZldGNoRGFzaGJvYXJkRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgIC8vIEZldGNoIHVzZXIncyBldmVudFxuICAgICAgY29uc3QgeyBkYXRhOiBldmVudHMsIGVycm9yOiBldmVudHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJldmVudHNcIilcbiAgICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgICAgLmVxKFwicGxhbm5lcl9pZFwiLCB1c2VyLmlkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChldmVudHNFcnJvciAmJiBldmVudHNFcnJvci5jb2RlICE9PSBcIlBHUlNUMTE2XCIpIHtcbiAgICAgICAgdGhyb3cgZXZlbnRzRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRzIHx8IG51bGw7XG5cbiAgICAgIC8vIEZldGNoIHBhcnRuZXIgaW5mb3JtYXRpb24gaWYgdXNlciBoYXMgYSBjb3VwbGUgcHJvZmlsZVxuICAgICAgbGV0IHBhcnRuZXI6IFBhcnRuZXIgfCBudWxsID0gbnVsbDtcbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IGNvdXBsZVByb2ZpbGUsIGVycm9yOiBjb3VwbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcImNvdXBsZV9wcm9maWxlc1wiKVxuICAgICAgICAgIC5zZWxlY3QoXCJwYXJ0bmVyX2lkXCIpXG4gICAgICAgICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKVxuICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICBpZiAoIWNvdXBsZUVycm9yICYmIGNvdXBsZVByb2ZpbGU/LnBhcnRuZXJfaWQpIHtcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IHBhcnRuZXJEYXRhLCBlcnJvcjogcGFydG5lckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oXCJwcm9maWxlc1wiKVxuICAgICAgICAgICAgLnNlbGVjdChcImlkLCBlbWFpbCwgZnVsbF9uYW1lLCBhdmF0YXJfdXJsLCB1c2VyX3R5cGVcIilcbiAgICAgICAgICAgIC5lcShcImlkXCIsIGNvdXBsZVByb2ZpbGUucGFydG5lcl9pZClcbiAgICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICAgIGlmICghcGFydG5lckVycm9yKSB7XG4gICAgICAgICAgICBwYXJ0bmVyID0gcGFydG5lckRhdGE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEZldGNoIGd1ZXN0cyBpZiBldmVudCBleGlzdHNcbiAgICAgIGxldCBndWVzdHM6IEd1ZXN0W10gPSBbXTtcbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IGd1ZXN0c0RhdGEsIGVycm9yOiBndWVzdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcImd1ZXN0c1wiKVxuICAgICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgICAgLmVxKFwiZXZlbnRfaWRcIiwgZXZlbnQuaWQpO1xuXG4gICAgICAgIGlmICghZ3Vlc3RzRXJyb3IpIHtcbiAgICAgICAgICBndWVzdHMgPSBndWVzdHNEYXRhIHx8IFtdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEZldGNoIGNoZWNrbGlzdCBpdGVtcyBpZiBldmVudCBleGlzdHNcbiAgICAgIGxldCBjaGVja2xpc3RJdGVtczogQ2hlY2tsaXN0SXRlbVtdID0gW107XG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBjaGVja2xpc3REYXRhLCBlcnJvcjogY2hlY2tsaXN0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJjaGVja2xpc3RfaXRlbXNcIilcbiAgICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAgIC5lcShcImV2ZW50X2lkXCIsIGV2ZW50LmlkKTtcblxuICAgICAgICBpZiAoIWNoZWNrbGlzdEVycm9yKSB7XG4gICAgICAgICAgY2hlY2tsaXN0SXRlbXMgPSBjaGVja2xpc3REYXRhIHx8IFtdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEZldGNoIGJ1ZGdldCBpdGVtcyBpZiBldmVudCBleGlzdHNcbiAgICAgIGxldCBidWRnZXRJdGVtczogQnVkZ2V0SXRlbVtdID0gW107XG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBidWRnZXREYXRhLCBlcnJvcjogYnVkZ2V0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJidWRnZXRfaXRlbXNcIilcbiAgICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAgIC5lcShcImV2ZW50X2lkXCIsIGV2ZW50LmlkKTtcblxuICAgICAgICBpZiAoIWJ1ZGdldEVycm9yKSB7XG4gICAgICAgICAgYnVkZ2V0SXRlbXMgPSBidWRnZXREYXRhIHx8IFtdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBzdGF0c1xuICAgICAgY29uc3Qgc3RhdHMgPSB7XG4gICAgICAgIGRheXNVbnRpbEV2ZW50OiBldmVudD8uZXZlbnRfZGF0ZSBcbiAgICAgICAgICA/IE1hdGgubWF4KDAsIE1hdGguY2VpbCgobmV3IERhdGUoZXZlbnQuZXZlbnRfZGF0ZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoKS5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKSlcbiAgICAgICAgICA6IDAsXG4gICAgICAgIHRvdGFsR3Vlc3RzOiBndWVzdHMubGVuZ3RoLFxuICAgICAgICBjb25maXJtZWRHdWVzdHM6IGd1ZXN0cy5maWx0ZXIoZyA9PiBnLnJzdnBfc3RhdHVzID09PSBcImNvbmZpcm1lZFwiKS5sZW5ndGgsXG4gICAgICAgIHRvdGFsQnVkZ2V0OiBidWRnZXRJdGVtcy5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgKGl0ZW0uZXN0aW1hdGVkX2Nvc3QgfHwgMCksIDApLFxuICAgICAgICBzcGVudEJ1ZGdldDogYnVkZ2V0SXRlbXMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIChpdGVtLmFjdHVhbF9jb3N0IHx8IDApLCAwKSxcbiAgICAgICAgY29tcGxldGVkVGFza3M6IGNoZWNrbGlzdEl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uY29tcGxldGVkKS5sZW5ndGgsXG4gICAgICAgIHRvdGFsVGFza3M6IGNoZWNrbGlzdEl0ZW1zLmxlbmd0aCxcbiAgICAgIH07XG5cbiAgICAgIC8vIEdlbmVyYXRlIHJlY2VudCBhY3Rpdml0eSAoc2ltcGxpZmllZCBmb3Igbm93KVxuICAgICAgY29uc3QgcmVjZW50QWN0aXZpdHk6IEFjdGl2aXR5SXRlbVtdID0gW107XG4gICAgICBcbiAgICAgIC8vIEFkZCByZWNlbnQgZ3Vlc3QgYWRkaXRpb25zXG4gICAgICBjb25zdCByZWNlbnRHdWVzdHMgPSBndWVzdHNcbiAgICAgICAgLmZpbHRlcihnID0+IG5ldyBEYXRlKGcuY3JlYXRlZF9hdCkgPiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKVxuICAgICAgICAuc2xpY2UoMCwgMyk7XG4gICAgICBcbiAgICAgIHJlY2VudEd1ZXN0cy5mb3JFYWNoKGd1ZXN0ID0+IHtcbiAgICAgICAgcmVjZW50QWN0aXZpdHkucHVzaCh7XG4gICAgICAgICAgaWQ6IGd1ZXN0LmlkLFxuICAgICAgICAgIHR5cGU6IFwiZ3Vlc3RfYWRkZWRcIixcbiAgICAgICAgICBtZXNzYWdlOiBgQWRkZWQgJHtndWVzdC5uYW1lfSB0byBndWVzdCBsaXN0YCxcbiAgICAgICAgICB0aW1lc3RhbXA6IGd1ZXN0LmNyZWF0ZWRfYXQsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFkZCByZWNlbnQgdGFzayBjb21wbGV0aW9uc1xuICAgICAgY29uc3QgcmVjZW50Q29tcGxldGVkVGFza3MgPSBjaGVja2xpc3RJdGVtc1xuICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jb21wbGV0ZWQgJiYgbmV3IERhdGUoaXRlbS51cGRhdGVkX2F0KSA+IG5ldyBEYXRlKERhdGUubm93KCkgLSA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkpXG4gICAgICAgIC5zbGljZSgwLCAzKTtcblxuICAgICAgcmVjZW50Q29tcGxldGVkVGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgcmVjZW50QWN0aXZpdHkucHVzaCh7XG4gICAgICAgICAgaWQ6IHRhc2suaWQsXG4gICAgICAgICAgdHlwZTogXCJ0YXNrX2NvbXBsZXRlZFwiLFxuICAgICAgICAgIG1lc3NhZ2U6IGBDb21wbGV0ZWQ6ICR7dGFzay50aXRsZX1gLFxuICAgICAgICAgIHRpbWVzdGFtcDogdGFzay51cGRhdGVkX2F0LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZGQgcmVjZW50IGJ1ZGdldCB1cGRhdGVzXG4gICAgICBjb25zdCByZWNlbnRCdWRnZXRVcGRhdGVzID0gYnVkZ2V0SXRlbXNcbiAgICAgICAgLmZpbHRlcihpdGVtID0+IG5ldyBEYXRlKGl0ZW0udXBkYXRlZF9hdCkgPiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKVxuICAgICAgICAuc2xpY2UoMCwgMyk7XG5cbiAgICAgIHJlY2VudEJ1ZGdldFVwZGF0ZXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgY29uc3QgaGFzQWN0dWFsQ29zdCA9IGl0ZW0uYWN0dWFsX2Nvc3QgJiYgaXRlbS5hY3R1YWxfY29zdCA+IDA7XG4gICAgICAgIHJlY2VudEFjdGl2aXR5LnB1c2goe1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIHR5cGU6IFwiYnVkZ2V0X3VwZGF0ZWRcIixcbiAgICAgICAgICBtZXNzYWdlOiBoYXNBY3R1YWxDb3N0XG4gICAgICAgICAgICA/IGBQYWlkICR7aXRlbS5uYW1lfTogJCR7aXRlbS5hY3R1YWxfY29zdH1gXG4gICAgICAgICAgICA6IGBBZGRlZCBidWRnZXQgaXRlbTogJHtpdGVtLm5hbWV9YCxcbiAgICAgICAgICB0aW1lc3RhbXA6IGl0ZW0udXBkYXRlZF9hdCxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU29ydCBieSB0aW1lc3RhbXBcbiAgICAgIHJlY2VudEFjdGl2aXR5LnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIudGltZXN0YW1wKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLnRpbWVzdGFtcCkuZ2V0VGltZSgpKTtcblxuICAgICAgLy8gR2V0IHVwY29taW5nIGRlYWRsaW5lcyAodGFza3MgZHVlIGluIG5leHQgMzAgZGF5cylcbiAgICAgIGNvbnN0IHVwY29taW5nRGVhZGxpbmVzID0gY2hlY2tsaXN0SXRlbXNcbiAgICAgICAgLmZpbHRlcihpdGVtID0+IFxuICAgICAgICAgIGl0ZW0uZHVlX2RhdGUgJiYgXG4gICAgICAgICAgIWl0ZW0uY29tcGxldGVkICYmXG4gICAgICAgICAgbmV3IERhdGUoaXRlbS5kdWVfZGF0ZSkgPiBuZXcgRGF0ZSgpICYmXG4gICAgICAgICAgbmV3IERhdGUoaXRlbS5kdWVfZGF0ZSkgPD0gbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMClcbiAgICAgICAgKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYS5kdWVfZGF0ZSEpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuZHVlX2RhdGUhKS5nZXRUaW1lKCkpXG4gICAgICAgIC5zbGljZSgwLCA1KTtcblxuICAgICAgc2V0RGF0YSh7XG4gICAgICAgIGV2ZW50LFxuICAgICAgICBwYXJ0bmVyLFxuICAgICAgICBzdGF0cyxcbiAgICAgICAgcmVjZW50QWN0aXZpdHksXG4gICAgICAgIHVwY29taW5nRGVhZGxpbmVzLFxuICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBjbGllbnQgZGFzaGJvYXJkIGRhdGE6XCIsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZmV0Y2ggZGFzaGJvYXJkIGRhdGFcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoRGFzaGJvYXJkRGF0YSgpO1xuICB9LCBbdXNlcl0pO1xuXG4gIC8vIFNldCB1cCByZWFsLXRpbWUgc3Vic2NyaXB0aW9uc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdXNlcikgcmV0dXJuO1xuXG4gICAgY29uc3QgY2hhbm5lbCA9IHN1cGFiYXNlXG4gICAgICAuY2hhbm5lbChcImNsaWVudC1kYXNoYm9hcmQtY2hhbmdlc1wiKVxuICAgICAgLm9uKFxuICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAgeyBldmVudDogXCIqXCIsIHNjaGVtYTogXCJwdWJsaWNcIiwgdGFibGU6IFwiZXZlbnRzXCIsIGZpbHRlcjogYHBsYW5uZXJfaWQ9ZXEuJHt1c2VyLmlkfWAgfSxcbiAgICAgICAgKCkgPT4gZmV0Y2hEYXNoYm9hcmREYXRhKClcbiAgICAgIClcbiAgICAgIC5vbihcbiAgICAgICAgXCJwb3N0Z3Jlc19jaGFuZ2VzXCIsXG4gICAgICAgIHsgZXZlbnQ6IFwiKlwiLCBzY2hlbWE6IFwicHVibGljXCIsIHRhYmxlOiBcImd1ZXN0c1wiIH0sXG4gICAgICAgICgpID0+IGZldGNoRGFzaGJvYXJkRGF0YSgpXG4gICAgICApXG4gICAgICAub24oXG4gICAgICAgIFwicG9zdGdyZXNfY2hhbmdlc1wiLFxuICAgICAgICB7IGV2ZW50OiBcIipcIiwgc2NoZW1hOiBcInB1YmxpY1wiLCB0YWJsZTogXCJjaGVja2xpc3RfaXRlbXNcIiB9LFxuICAgICAgICAoKSA9PiBmZXRjaERhc2hib2FyZERhdGEoKVxuICAgICAgKVxuICAgICAgLm9uKFxuICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAgeyBldmVudDogXCIqXCIsIHNjaGVtYTogXCJwdWJsaWNcIiwgdGFibGU6IFwiYnVkZ2V0X2l0ZW1zXCIgfSxcbiAgICAgICAgKCkgPT4gZmV0Y2hEYXNoYm9hcmREYXRhKClcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKGNoYW5uZWwpO1xuICAgIH07XG4gIH0sIFt1c2VyLCBzdXBhYmFzZV0pO1xuXG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIHJlZmV0Y2g6IGZldGNoRGFzaGJvYXJkRGF0YSxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCIsInVzZUF1dGgiLCJ1c2VDbGllbnREYXNoYm9hcmQiLCJkYXRhIiwic2V0RGF0YSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInVzZXIiLCJzdXBhYmFzZSIsImZldGNoRGFzaGJvYXJkRGF0YSIsImV2ZW50cyIsImV2ZW50c0Vycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwiaWQiLCJzaW5nbGUiLCJjb2RlIiwiZXZlbnQiLCJwYXJ0bmVyIiwiY291cGxlUHJvZmlsZSIsImNvdXBsZUVycm9yIiwicGFydG5lcl9pZCIsInBhcnRuZXJEYXRhIiwicGFydG5lckVycm9yIiwiZ3Vlc3RzIiwiZ3Vlc3RzRGF0YSIsImd1ZXN0c0Vycm9yIiwiY2hlY2tsaXN0SXRlbXMiLCJjaGVja2xpc3REYXRhIiwiY2hlY2tsaXN0RXJyb3IiLCJidWRnZXRJdGVtcyIsImJ1ZGdldERhdGEiLCJidWRnZXRFcnJvciIsInN0YXRzIiwiZGF5c1VudGlsRXZlbnQiLCJldmVudF9kYXRlIiwiTWF0aCIsIm1heCIsImNlaWwiLCJEYXRlIiwiZ2V0VGltZSIsInRvdGFsR3Vlc3RzIiwibGVuZ3RoIiwiY29uZmlybWVkR3Vlc3RzIiwiZmlsdGVyIiwiZyIsInJzdnBfc3RhdHVzIiwidG90YWxCdWRnZXQiLCJyZWR1Y2UiLCJzdW0iLCJpdGVtIiwiZXN0aW1hdGVkX2Nvc3QiLCJzcGVudEJ1ZGdldCIsImFjdHVhbF9jb3N0IiwiY29tcGxldGVkVGFza3MiLCJjb21wbGV0ZWQiLCJ0b3RhbFRhc2tzIiwicmVjZW50QWN0aXZpdHkiLCJyZWNlbnRHdWVzdHMiLCJjcmVhdGVkX2F0Iiwibm93Iiwic2xpY2UiLCJmb3JFYWNoIiwiZ3Vlc3QiLCJwdXNoIiwidHlwZSIsIm1lc3NhZ2UiLCJuYW1lIiwidGltZXN0YW1wIiwicmVjZW50Q29tcGxldGVkVGFza3MiLCJ1cGRhdGVkX2F0IiwidGFzayIsInRpdGxlIiwicmVjZW50QnVkZ2V0VXBkYXRlcyIsImhhc0FjdHVhbENvc3QiLCJzb3J0IiwiYSIsImIiLCJ1cGNvbWluZ0RlYWRsaW5lcyIsImR1ZV9kYXRlIiwiZXJyIiwiY29uc29sZSIsIkVycm9yIiwiY2hhbm5lbCIsIm9uIiwic2NoZW1hIiwidGFibGUiLCJzdWJzY3JpYmUiLCJyZW1vdmVDaGFubmVsIiwicmVmZXRjaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useClientDashboard.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useDashboard.ts":
/*!***********************************!*\
  !*** ./src/hooks/useDashboard.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDashboard: () => (/* binding */ useDashboard)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _useVendorDashboard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useVendorDashboard */ \"(app-pages-browser)/./src/hooks/useVendorDashboard.ts\");\n/* harmony import */ var _useClientDashboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useClientDashboard */ \"(app-pages-browser)/./src/hooks/useClientDashboard.ts\");\n\n\n\n\n\nfunction useDashboard() {\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__.useAuth)();\n    const [userType, setUserType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.createClientComponentClient)();\n    // Always call both hooks to maintain hook order consistency\n    const vendorDashboard = (0,_useVendorDashboard__WEBPACK_IMPORTED_MODULE_3__.useVendorDashboard)();\n    const clientDashboard = (0,_useClientDashboard__WEBPACK_IMPORTED_MODULE_4__.useClientDashboard)();\n    // Get user type from profile\n    const getUserType = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDashboard.useCallback[getUserType]\": async ()=>{\n            if (!(user === null || user === void 0 ? void 0 : user.id)) return null;\n            try {\n                const { data: profile, error: profileError } = await supabase.from(\"profiles\").select(\"user_type\").eq(\"id\", user.id).single();\n                if (profileError) {\n                    console.error(\"Error getting user type:\", profileError);\n                    return null;\n                }\n                return profile === null || profile === void 0 ? void 0 : profile.user_type;\n            } catch (err) {\n                console.error(\"Error getting user type:\", err);\n                return null;\n            }\n        }\n    }[\"useDashboard.useCallback[getUserType]\"], [\n        user === null || user === void 0 ? void 0 : user.id,\n        supabase\n    ]);\n    // Initialize user type\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useDashboard.useEffect\": ()=>{\n            const initUserType = {\n                \"useDashboard.useEffect.initUserType\": async ()=>{\n                    if (user === null || user === void 0 ? void 0 : user.id) {\n                        const type = await getUserType();\n                        setUserType(type);\n                    }\n                }\n            }[\"useDashboard.useEffect.initUserType\"];\n            initUserType();\n        }\n    }[\"useDashboard.useEffect\"], [\n        user === null || user === void 0 ? void 0 : user.id,\n        getUserType\n    ]);\n    // Combine data based on user type\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useDashboard.useEffect\": ()=>{\n            if (!userType) return;\n            setLoading(true);\n            setError(null);\n            try {\n                let dashboardData = {\n                    userType\n                };\n                if (userType === \"vendor\") {\n                    var _vendorDashboard_vendorStats;\n                    // Use vendor dashboard data\n                    dashboardData = {\n                        ...dashboardData,\n                        vendorStats: vendorDashboard.vendorStats || undefined,\n                        recentInquiries: vendorDashboard.recentInquiries,\n                        upcomingEvents: vendorDashboard.upcomingEvents,\n                        profileCompletion: vendorDashboard.profileCompletion,\n                        monthlyGrowth: vendorDashboard.monthlyGrowth,\n                        businessName: (_vendorDashboard_vendorStats = vendorDashboard.vendorStats) === null || _vendorDashboard_vendorStats === void 0 ? void 0 : _vendorDashboard_vendorStats.businessName\n                    };\n                    setError(vendorDashboard.error);\n                } else if (userType === \"planner\") {\n                    var _clientDashboard_data_event, _clientDashboard_data;\n                    // Use client dashboard data for planners\n                    dashboardData = {\n                        ...dashboardData,\n                        eventData: clientDashboard.data || undefined,\n                        eventName: ((_clientDashboard_data = clientDashboard.data) === null || _clientDashboard_data === void 0 ? void 0 : (_clientDashboard_data_event = _clientDashboard_data.event) === null || _clientDashboard_data_event === void 0 ? void 0 : _clientDashboard_data_event.event_type) || \"Your Event\"\n                    };\n                    setError(clientDashboard.error);\n                } else if (userType === \"viewer\") {\n                    // Viewer dashboard - minimal data\n                    dashboardData = {\n                        ...dashboardData,\n                        viewerData: {\n                            savedVendors: [],\n                            recentSearches: []\n                        }\n                    };\n                }\n                setData(dashboardData);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"An error occurred\");\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useDashboard.useEffect\"], [\n        userType,\n        vendorDashboard.vendorStats,\n        vendorDashboard.recentInquiries,\n        vendorDashboard.upcomingEvents,\n        vendorDashboard.profileCompletion,\n        vendorDashboard.monthlyGrowth,\n        vendorDashboard.error,\n        clientDashboard.data,\n        clientDashboard.error\n    ]);\n    // Refetch function\n    const refetch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDashboard.useCallback[refetch]\": async ()=>{\n            if (userType === \"vendor\") {\n                await vendorDashboard.refetch();\n            } else if (userType === \"planner\") {\n                await clientDashboard.refetch();\n            }\n        }\n    }[\"useDashboard.useCallback[refetch]\"], [\n        userType,\n        vendorDashboard,\n        clientDashboard\n    ]);\n    return {\n        data,\n        loading: loading || (userType === \"vendor\" ? vendorDashboard.loading : false) || (userType === \"planner\" ? clientDashboard.loading : false),\n        error,\n        refetch,\n        userType\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VEYXNoYm9hcmQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF5RDtBQUNJO0FBQ1o7QUFDUztBQUNBO0FBdURuRCxTQUFTTztJQUNkLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEdBQUdKLDhEQUFPQTtJQUN4QixNQUFNLENBQUNLLFVBQVVDLFlBQVksR0FBR1YsK0NBQVFBLENBQXlDO0lBQ2pGLE1BQU0sQ0FBQ1csTUFBTUMsUUFBUSxHQUFHWiwrQ0FBUUEsQ0FBdUI7SUFDdkQsTUFBTSxDQUFDYSxTQUFTQyxXQUFXLEdBQUdkLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2UsT0FBT0MsU0FBUyxHQUFHaEIsK0NBQVFBLENBQWdCO0lBRWxELE1BQU1pQixXQUFXZCwwRUFBMkJBO0lBRTVDLDREQUE0RDtJQUM1RCxNQUFNZSxrQkFBa0JiLHVFQUFrQkE7SUFDMUMsTUFBTWMsa0JBQWtCYix1RUFBa0JBO0lBRTFDLDZCQUE2QjtJQUM3QixNQUFNYyxjQUFjbEIsa0RBQVdBO2lEQUFDO1lBQzlCLElBQUksRUFBQ00saUJBQUFBLDJCQUFBQSxLQUFNYSxFQUFFLEdBQUUsT0FBTztZQUV0QixJQUFJO2dCQUNGLE1BQU0sRUFBRVYsTUFBTVcsT0FBTyxFQUFFUCxPQUFPUSxZQUFZLEVBQUUsR0FBRyxNQUFNTixTQUNsRE8sSUFBSSxDQUFDLFlBQ0xDLE1BQU0sQ0FBQyxhQUNQQyxFQUFFLENBQUMsTUFBTWxCLEtBQUthLEVBQUUsRUFDaEJNLE1BQU07Z0JBRVQsSUFBSUosY0FBYztvQkFDaEJLLFFBQVFiLEtBQUssQ0FBQyw0QkFBNEJRO29CQUMxQyxPQUFPO2dCQUNUO2dCQUVBLE9BQU9ELG9CQUFBQSw4QkFBQUEsUUFBU08sU0FBUztZQUMzQixFQUFFLE9BQU9DLEtBQUs7Z0JBQ1pGLFFBQVFiLEtBQUssQ0FBQyw0QkFBNEJlO2dCQUMxQyxPQUFPO1lBQ1Q7UUFDRjtnREFBRztRQUFDdEIsaUJBQUFB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dG1vaS12b2lkL3NyYy9ob29rcy91c2VEYXNoYm9hcmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZVwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCJAL2NvbnRleHRzL0F1dGhDb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VWZW5kb3JEYXNoYm9hcmQgfSBmcm9tIFwiLi91c2VWZW5kb3JEYXNoYm9hcmRcIjtcbmltcG9ydCB7IHVzZUNsaWVudERhc2hib2FyZCB9IGZyb20gXCIuL3VzZUNsaWVudERhc2hib2FyZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhc2hib2FyZERhdGEge1xuICAvLyBDb21tb24gZGF0YSBmb3IgYWxsIHVzZXIgdHlwZXNcbiAgdXNlclR5cGU6IFwicGxhbm5lclwiIHwgXCJ2ZW5kb3JcIiB8IFwidmlld2VyXCI7XG4gIGJ1c2luZXNzTmFtZT86IHN0cmluZztcbiAgZXZlbnROYW1lPzogc3RyaW5nO1xuICBcbiAgLy8gVmVuZG9yLXNwZWNpZmljIGRhdGFcbiAgdmVuZG9yU3RhdHM/OiB7XG4gICAgdG90YWxJbnF1aXJpZXM6IG51bWJlcjtcbiAgICBwZW5kaW5nSW5xdWlyaWVzOiBudW1iZXI7XG4gICAgdG90YWxCb29raW5nczogbnVtYmVyO1xuICAgIHByb2ZpbGVWaWV3czogbnVtYmVyO1xuICAgIHJlc3BvbnNlUmF0ZTogbnVtYmVyO1xuICAgIGF2Z1Jlc3BvbnNlVGltZTogc3RyaW5nO1xuICAgIGJ1c2luZXNzTmFtZTogc3RyaW5nO1xuICB9O1xuICByZWNlbnRJbnF1aXJpZXM/OiBhbnlbXTtcbiAgdXBjb21pbmdFdmVudHM/OiBhbnlbXTtcbiAgcHJvZmlsZUNvbXBsZXRpb24/OiBudW1iZXI7XG4gIG1vbnRobHlHcm93dGg/OiBudW1iZXI7XG4gIFxuICAvLyBQbGFubmVyLXNwZWNpZmljIGRhdGFcbiAgZXZlbnREYXRhPzoge1xuICAgIGV2ZW50OiBhbnk7XG4gICAgcGFydG5lcjogYW55O1xuICAgIHN0YXRzOiB7XG4gICAgICBkYXlzVW50aWxFdmVudDogbnVtYmVyO1xuICAgICAgdG90YWxHdWVzdHM6IG51bWJlcjtcbiAgICAgIGNvbmZpcm1lZEd1ZXN0czogbnVtYmVyO1xuICAgICAgdG90YWxCdWRnZXQ6IG51bWJlcjtcbiAgICAgIHNwZW50QnVkZ2V0OiBudW1iZXI7XG4gICAgICBjb21wbGV0ZWRUYXNrczogbnVtYmVyO1xuICAgICAgdG90YWxUYXNrczogbnVtYmVyO1xuICAgIH07XG4gICAgcmVjZW50QWN0aXZpdHk6IGFueVtdO1xuICAgIHVwY29taW5nRGVhZGxpbmVzOiBhbnlbXTtcbiAgfTtcbiAgXG4gIC8vIFZpZXdlci1zcGVjaWZpYyBkYXRhXG4gIHZpZXdlckRhdGE/OiB7XG4gICAgc2F2ZWRWZW5kb3JzOiBhbnlbXTtcbiAgICByZWNlbnRTZWFyY2hlczogYW55W107XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlRGFzaGJvYXJkUmV0dXJuIHtcbiAgZGF0YTogRGFzaGJvYXJkRGF0YSB8IG51bGw7XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICByZWZldGNoOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB1c2VyVHlwZTogXCJwbGFubmVyXCIgfCBcInZlbmRvclwiIHwgXCJ2aWV3ZXJcIiB8IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VEYXNoYm9hcmQoKTogVXNlRGFzaGJvYXJkUmV0dXJuIHtcbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IFt1c2VyVHlwZSwgc2V0VXNlclR5cGVdID0gdXNlU3RhdGU8XCJwbGFubmVyXCIgfCBcInZlbmRvclwiIHwgXCJ2aWV3ZXJcIiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZTxEYXNoYm9hcmREYXRhIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQoKTtcblxuICAvLyBBbHdheXMgY2FsbCBib3RoIGhvb2tzIHRvIG1haW50YWluIGhvb2sgb3JkZXIgY29uc2lzdGVuY3lcbiAgY29uc3QgdmVuZG9yRGFzaGJvYXJkID0gdXNlVmVuZG9yRGFzaGJvYXJkKCk7XG4gIGNvbnN0IGNsaWVudERhc2hib2FyZCA9IHVzZUNsaWVudERhc2hib2FyZCgpO1xuXG4gIC8vIEdldCB1c2VyIHR5cGUgZnJvbSBwcm9maWxlXG4gIGNvbnN0IGdldFVzZXJUeXBlID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlcj8uaWQpIHJldHVybiBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YTogcHJvZmlsZSwgZXJyb3I6IHByb2ZpbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJwcm9maWxlc1wiKVxuICAgICAgICAuc2VsZWN0KFwidXNlcl90eXBlXCIpXG4gICAgICAgIC5lcShcImlkXCIsIHVzZXIuaWQpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKHByb2ZpbGVFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB1c2VyIHR5cGU6XCIsIHByb2ZpbGVFcnJvcik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvZmlsZT8udXNlcl90eXBlIGFzIFwicGxhbm5lclwiIHwgXCJ2ZW5kb3JcIiB8IFwidmlld2VyXCIgfCBudWxsO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgdXNlciB0eXBlOlwiLCBlcnIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCBbdXNlcj8uaWQsIHN1cGFiYXNlXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB1c2VyIHR5cGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0VXNlclR5cGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodXNlcj8uaWQpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGF3YWl0IGdldFVzZXJUeXBlKCk7XG4gICAgICAgIHNldFVzZXJUeXBlKHR5cGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpbml0VXNlclR5cGUoKTtcbiAgfSwgW3VzZXI/LmlkLCBnZXRVc2VyVHlwZV0pO1xuXG4gIC8vIENvbWJpbmUgZGF0YSBiYXNlZCBvbiB1c2VyIHR5cGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXVzZXJUeXBlKSByZXR1cm47XG5cbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXNoYm9hcmREYXRhOiBEYXNoYm9hcmREYXRhID0ge1xuICAgICAgICB1c2VyVHlwZSxcbiAgICAgIH07XG5cbiAgICAgIGlmICh1c2VyVHlwZSA9PT0gXCJ2ZW5kb3JcIikge1xuICAgICAgICAvLyBVc2UgdmVuZG9yIGRhc2hib2FyZCBkYXRhXG4gICAgICAgIGRhc2hib2FyZERhdGEgPSB7XG4gICAgICAgICAgLi4uZGFzaGJvYXJkRGF0YSxcbiAgICAgICAgICB2ZW5kb3JTdGF0czogdmVuZG9yRGFzaGJvYXJkLnZlbmRvclN0YXRzIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICByZWNlbnRJbnF1aXJpZXM6IHZlbmRvckRhc2hib2FyZC5yZWNlbnRJbnF1aXJpZXMsXG4gICAgICAgICAgdXBjb21pbmdFdmVudHM6IHZlbmRvckRhc2hib2FyZC51cGNvbWluZ0V2ZW50cyxcbiAgICAgICAgICBwcm9maWxlQ29tcGxldGlvbjogdmVuZG9yRGFzaGJvYXJkLnByb2ZpbGVDb21wbGV0aW9uLFxuICAgICAgICAgIG1vbnRobHlHcm93dGg6IHZlbmRvckRhc2hib2FyZC5tb250aGx5R3Jvd3RoLFxuICAgICAgICAgIGJ1c2luZXNzTmFtZTogdmVuZG9yRGFzaGJvYXJkLnZlbmRvclN0YXRzPy5idXNpbmVzc05hbWUsXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBzZXRFcnJvcih2ZW5kb3JEYXNoYm9hcmQuZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmICh1c2VyVHlwZSA9PT0gXCJwbGFubmVyXCIpIHtcbiAgICAgICAgLy8gVXNlIGNsaWVudCBkYXNoYm9hcmQgZGF0YSBmb3IgcGxhbm5lcnNcbiAgICAgICAgZGFzaGJvYXJkRGF0YSA9IHtcbiAgICAgICAgICAuLi5kYXNoYm9hcmREYXRhLFxuICAgICAgICAgIGV2ZW50RGF0YTogY2xpZW50RGFzaGJvYXJkLmRhdGEgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgIGV2ZW50TmFtZTogY2xpZW50RGFzaGJvYXJkLmRhdGE/LmV2ZW50Py5ldmVudF90eXBlIHx8IFwiWW91ciBFdmVudFwiLFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgc2V0RXJyb3IoY2xpZW50RGFzaGJvYXJkLmVycm9yKTtcbiAgICAgIH0gZWxzZSBpZiAodXNlclR5cGUgPT09IFwidmlld2VyXCIpIHtcbiAgICAgICAgLy8gVmlld2VyIGRhc2hib2FyZCAtIG1pbmltYWwgZGF0YVxuICAgICAgICBkYXNoYm9hcmREYXRhID0ge1xuICAgICAgICAgIC4uLmRhc2hib2FyZERhdGEsXG4gICAgICAgICAgdmlld2VyRGF0YToge1xuICAgICAgICAgICAgc2F2ZWRWZW5kb3JzOiBbXSxcbiAgICAgICAgICAgIHJlY2VudFNlYXJjaGVzOiBbXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBzZXREYXRhKGRhc2hib2FyZERhdGEpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW1xuICAgIHVzZXJUeXBlLCBcbiAgICB2ZW5kb3JEYXNoYm9hcmQudmVuZG9yU3RhdHMsXG4gICAgdmVuZG9yRGFzaGJvYXJkLnJlY2VudElucXVpcmllcyxcbiAgICB2ZW5kb3JEYXNoYm9hcmQudXBjb21pbmdFdmVudHMsXG4gICAgdmVuZG9yRGFzaGJvYXJkLnByb2ZpbGVDb21wbGV0aW9uLFxuICAgIHZlbmRvckRhc2hib2FyZC5tb250aGx5R3Jvd3RoLFxuICAgIHZlbmRvckRhc2hib2FyZC5lcnJvcixcbiAgICBjbGllbnREYXNoYm9hcmQuZGF0YSxcbiAgICBjbGllbnREYXNoYm9hcmQuZXJyb3JcbiAgXSk7XG5cbiAgLy8gUmVmZXRjaCBmdW5jdGlvblxuICBjb25zdCByZWZldGNoID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICh1c2VyVHlwZSA9PT0gXCJ2ZW5kb3JcIikge1xuICAgICAgYXdhaXQgdmVuZG9yRGFzaGJvYXJkLnJlZmV0Y2goKTtcbiAgICB9IGVsc2UgaWYgKHVzZXJUeXBlID09PSBcInBsYW5uZXJcIikge1xuICAgICAgYXdhaXQgY2xpZW50RGFzaGJvYXJkLnJlZmV0Y2goKTtcbiAgICB9XG4gIH0sIFt1c2VyVHlwZSwgdmVuZG9yRGFzaGJvYXJkLCBjbGllbnREYXNoYm9hcmRdKTtcblxuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgbG9hZGluZzogbG9hZGluZyB8fCAodXNlclR5cGUgPT09IFwidmVuZG9yXCIgPyB2ZW5kb3JEYXNoYm9hcmQubG9hZGluZyA6IGZhbHNlKSB8fCAodXNlclR5cGUgPT09IFwicGxhbm5lclwiID8gY2xpZW50RGFzaGJvYXJkLmxvYWRpbmcgOiBmYWxzZSksXG4gICAgZXJyb3IsXG4gICAgcmVmZXRjaCxcbiAgICB1c2VyVHlwZSxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IiwidXNlQXV0aCIsInVzZVZlbmRvckRhc2hib2FyZCIsInVzZUNsaWVudERhc2hib2FyZCIsInVzZURhc2hib2FyZCIsInVzZXIiLCJ1c2VyVHlwZSIsInNldFVzZXJUeXBlIiwiZGF0YSIsInNldERhdGEiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJzdXBhYmFzZSIsInZlbmRvckRhc2hib2FyZCIsImNsaWVudERhc2hib2FyZCIsImdldFVzZXJUeXBlIiwiaWQiLCJwcm9maWxlIiwicHJvZmlsZUVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiY29uc29sZSIsInVzZXJfdHlwZSIsImVyciIsImluaXRVc2VyVHlwZSIsInR5cGUiLCJkYXNoYm9hcmREYXRhIiwidmVuZG9yU3RhdHMiLCJ1bmRlZmluZWQiLCJyZWNlbnRJbnF1aXJpZXMiLCJ1cGNvbWluZ0V2ZW50cyIsInByb2ZpbGVDb21wbGV0aW9uIiwibW9udGhseUdyb3d0aCIsImJ1c2luZXNzTmFtZSIsImV2ZW50RGF0YSIsImV2ZW50TmFtZSIsImV2ZW50IiwiZXZlbnRfdHlwZSIsInZpZXdlckRhdGEiLCJzYXZlZFZlbmRvcnMiLCJyZWNlbnRTZWFyY2hlcyIsIkVycm9yIiwibWVzc2FnZSIsInJlZmV0Y2giXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useDashboard.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useGuests.ts":
/*!********************************!*\
  !*** ./src/hooks/useGuests.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useGuests: () => (/* binding */ useGuests)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* __next_internal_client_entry_do_not_use__ useGuests auto */ \n\nfunction useGuests(eventId) {\n    const [guests, setGuests] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [groups, setGroups] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [groupsError, setGroupsError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [currentEventId, setCurrentEventId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.createClientComponentClient)();\n    // Fetch event ID if not provided\n    const fetchEventId = async ()=>{\n        try {\n            const { data: { user } } = await supabase.auth.getUser();\n            if (!user) return null;\n            const { data: event, error } = await supabase.from(\"events\").select(\"id\").eq(\"planner_id\", user.id).single();\n            if (error && error.code !== \"PGRST116\") {\n                throw error;\n            }\n            return (event === null || event === void 0 ? void 0 : event.id) || null;\n        } catch (err) {\n            console.error(\"Failed to fetch event ID:\", err);\n            return null;\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useGuests.useEffect\": ()=>{\n            const initialize = {\n                \"useGuests.useEffect.initialize\": async ()=>{\n                    let targetEventId = eventId;\n                    if (!targetEventId) {\n                        targetEventId = await fetchEventId();\n                        setCurrentEventId(targetEventId || null);\n                    } else {\n                        setCurrentEventId(targetEventId);\n                    }\n                    if (!targetEventId) {\n                        setLoading(false);\n                        return;\n                    }\n                    fetchGuests(targetEventId);\n                    fetchGroups(targetEventId);\n                    // Set up real-time subscription\n                    const channel = supabase.channel(\"guests-changes\").on(\"postgres_changes\", {\n                        event: \"*\",\n                        schema: \"public\",\n                        table: \"guests\",\n                        filter: \"event_id=eq.\".concat(targetEventId)\n                    }, {\n                        \"useGuests.useEffect.initialize.channel\": ()=>{\n                            fetchGuests(targetEventId);\n                        }\n                    }[\"useGuests.useEffect.initialize.channel\"]).subscribe();\n                    return ({\n                        \"useGuests.useEffect.initialize\": ()=>{\n                            supabase.removeChannel(channel);\n                        }\n                    })[\"useGuests.useEffect.initialize\"];\n                }\n            }[\"useGuests.useEffect.initialize\"];\n            initialize();\n        }\n    }[\"useGuests.useEffect\"], [\n        eventId\n    ]);\n    const fetchGuests = async (targetEventId)=>{\n        try {\n            const { data, error } = await supabase.from(\"guests\").select(\"*\").eq(\"event_id\", targetEventId).order(\"name\");\n            if (error) throw error;\n            setGuests(data || []);\n        } catch (err) {\n            setError(err instanceof Error ? err.message : \"Failed to fetch guests\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    const fetchGroups = async (targetEventId)=>{\n        try {\n            setGroupsError(null);\n            const { data, error } = await supabase.from(\"guest_groups\").select(\"*\").eq(\"event_id\", targetEventId).order(\"sort_order\");\n            if (error) throw error;\n            setGroups(data || []);\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to fetch groups\";\n            setGroupsError(errorMessage);\n            console.error(\"Failed to fetch groups:\", err);\n        }\n    };\n    const addGuest = async (guestData)=>{\n        if (!currentEventId) throw new Error(\"No event ID available\");\n        try {\n            const { data, error } = await supabase.from(\"guests\").insert(guestData).select().single();\n            if (error) throw error;\n            // Update local state\n            setGuests((prev)=>[\n                    ...prev,\n                    data\n                ]);\n            return data;\n        } catch (err) {\n            throw err instanceof Error ? err : new Error(\"Failed to add guest\");\n        }\n    };\n    const updateGuest = async (guestId, updates)=>{\n        try {\n            const { data, error } = await supabase.from(\"guests\").update(updates).eq(\"id\", guestId).select().single();\n            if (error) throw error;\n            // Update local state\n            setGuests((prev)=>prev.map((guest)=>guest.id === guestId ? {\n                        ...guest,\n                        ...data\n                    } : guest));\n            return data;\n        } catch (err) {\n            throw err instanceof Error ? err : new Error(\"Failed to update guest\");\n        }\n    };\n    const deleteGuest = async (guestId)=>{\n        try {\n            const { error } = await supabase.from(\"guests\").delete().eq(\"id\", guestId);\n            if (error) throw error;\n            // Update local state\n            setGuests((prev)=>prev.filter((guest)=>guest.id !== guestId));\n        } catch (err) {\n            throw err instanceof Error ? err : new Error(\"Failed to delete guest\");\n        }\n    };\n    const updateRSVPStatus = async (guestId, status, responseDate)=>{\n        try {\n            const updates = {\n                rsvp_status: status,\n                rsvp_response_date: responseDate ? responseDate.toISOString() : new Date().toISOString()\n            };\n            return await updateGuest(guestId, updates);\n        } catch (err) {\n            throw err instanceof Error ? err : new Error(\"Failed to update RSVP status\");\n        }\n    };\n    const getGuestStats = ()=>{\n        const total = guests.length;\n        const confirmed = guests.filter((g)=>g.rsvp_status === \"confirmed\").length;\n        const pending = guests.filter((g)=>g.rsvp_status === \"pending\").length;\n        const declined = guests.filter((g)=>g.rsvp_status === \"declined\").length;\n        const maybe = guests.filter((g)=>g.rsvp_status === \"maybe\").length;\n        return {\n            total,\n            confirmed,\n            pending,\n            declined,\n            maybe\n        };\n    };\n    const getGuestsByGroup = (groupName)=>{\n        return guests.filter((guest)=>guest.group_category === groupName);\n    };\n    const searchGuests = function(searchTerm) {\n        let statusFilter = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"all\";\n        return guests.filter((guest)=>{\n            const matchesSearch = guest.name.toLowerCase().includes(searchTerm.toLowerCase()) || guest.email.toLowerCase().includes(searchTerm.toLowerCase());\n            const matchesStatus = statusFilter === \"all\" || guest.rsvp_status === statusFilter;\n            return matchesSearch && matchesStatus;\n        });\n    };\n    const createGroup = async (groupData)=>{\n        if (!currentEventId) throw new Error(\"No event ID available\");\n        try {\n            setGroupsError(null);\n            const { data, error } = await supabase.from(\"guest_groups\").insert({\n                ...groupData,\n                event_id: currentEventId\n            }).select().single();\n            if (error) throw error;\n            // Update local state\n            setGroups((prev)=>[\n                    ...prev,\n                    data\n                ]);\n            return data;\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to create group\";\n            setGroupsError(errorMessage);\n            throw err instanceof Error ? err : new Error(errorMessage);\n        }\n    };\n    const updateGroup = async (groupId, updates)=>{\n        try {\n            setGroupsError(null);\n            const { data, error } = await supabase.from(\"guest_groups\").update(updates).eq(\"id\", groupId).select().single();\n            if (error) throw error;\n            // Update local state\n            setGroups((prev)=>prev.map((group)=>group.id === groupId ? {\n                        ...group,\n                        ...data\n                    } : group));\n            return data;\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to update group\";\n            setGroupsError(errorMessage);\n            throw err instanceof Error ? err : new Error(errorMessage);\n        }\n    };\n    const deleteGroup = async (groupId)=>{\n        try {\n            setGroupsError(null);\n            const { error } = await supabase.from(\"guest_groups\").delete().eq(\"id\", groupId);\n            if (error) throw error;\n            // Update local state\n            setGroups((prev)=>prev.filter((group)=>group.id !== groupId));\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to delete group\";\n            setGroupsError(errorMessage);\n            throw err instanceof Error ? err : new Error(errorMessage);\n        }\n    };\n    return {\n        // State\n        guests,\n        groups,\n        loading,\n        error,\n        groupsError,\n        eventId: currentEventId,\n        // Actions\n        addGuest,\n        updateGuest,\n        deleteGuest,\n        updateRSVPStatus,\n        // Group Actions\n        createGroup,\n        updateGroup,\n        deleteGroup,\n        // Computed values\n        getGuestStats,\n        getGuestsByGroup,\n        searchGuests,\n        // Utilities\n        refetch: ()=>currentEventId ? fetchGuests(currentEventId) : Promise.resolve(),\n        refetchGroups: async ()=>{\n            if (!currentEventId) return;\n            try {\n                await fetchGroups(currentEventId);\n            } catch (err) {\n                // Error is already handled in fetchGroups\n                console.error(\"Failed to refetch groups:\", err);\n            }\n        }\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VHdWVzdHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OzsrREFFNEM7QUFDaUI7QUFHdEQsU0FBU0csVUFBVUMsT0FBZ0I7SUFDeEMsTUFBTSxDQUFDQyxRQUFRQyxVQUFVLEdBQUdOLCtDQUFRQSxDQUFVLEVBQUU7SUFDaEQsTUFBTSxDQUFDTyxRQUFRQyxVQUFVLEdBQUdSLCtDQUFRQSxDQUFlLEVBQUU7SUFDckQsTUFBTSxDQUFDUyxTQUFTQyxXQUFXLEdBQUdWLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1csT0FBT0MsU0FBUyxHQUFHWiwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDYSxhQUFhQyxlQUFlLEdBQUdkLCtDQUFRQSxDQUFnQjtJQUM5RCxNQUFNLENBQUNlLGdCQUFnQkMsa0JBQWtCLEdBQUdoQiwrQ0FBUUEsQ0FBZ0I7SUFFcEUsTUFBTWlCLFdBQVdmLDBFQUEyQkE7SUFFNUMsaUNBQWlDO0lBQ2pDLE1BQU1nQixlQUFlO1FBQ25CLElBQUk7WUFDRixNQUFNLEVBQUVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEVBQUUsR0FBRyxNQUFNSCxTQUFTSSxJQUFJLENBQUNDLE9BQU87WUFDdEQsSUFBSSxDQUFDRixNQUFNLE9BQU87WUFFbEIsTUFBTSxFQUFFRCxNQUFNSSxLQUFLLEVBQUVaLEtBQUssRUFBRSxHQUFHLE1BQU1NLFNBQ2xDTyxJQUFJLENBQUMsVUFDTEMsTUFBTSxDQUFDLE1BQ1BDLEVBQUUsQ0FBQyxjQUFjTixLQUFLTyxFQUFFLEVBQ3hCQyxNQUFNO1lBRVQsSUFBSWpCLFNBQVNBLE1BQU1rQixJQUFJLEtBQUssWUFBWTtnQkFDdEMsTUFBTWxCO1lBQ1I7WUFFQSxPQUFPWSxDQUFBQSxrQkFBQUEsNEJBQUFBLE1BQU9JLEVBQUUsS0FBSTtRQUN0QixFQUFFLE9BQU9HLEtBQUs7WUFDWkMsUUFBUXBCLEtBQUssQ0FBQyw2QkFBNkJtQjtZQUMzQyxPQUFPO1FBQ1Q7SUFD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QUllLE9BQU8sR0FBRztZQUMxRC9CLGVBQWVnQztZQUNmLE1BQU1oQixlQUFlYyxRQUFRZCxNQUFNLElBQUljLE1BQU1FO1FBQy9DO0lBQ0Y7SUFFQSxPQUFPO1FBQ0wsUUFBUTtRQUNSekM7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQVQsU0FBU1c7UUFFVCxVQUFVO1FBQ1ZnQztRQUNBSTtRQUNBTTtRQUNBRTtRQUVBLGdCQUFnQjtRQUNoQjJCO1FBQ0FHO1FBQ0FHO1FBRUEsa0JBQWtCO1FBQ2xCMUI7UUFDQVE7UUFDQUc7UUFFQSxZQUFZO1FBQ1pnQixTQUFTLElBQU05RSxpQkFBaUJtQixZQUFZbkIsa0JBQWtCK0UsUUFBUUMsT0FBTztRQUM3RUMsZUFBZTtZQUNiLElBQUksQ0FBQ2pGLGdCQUFnQjtZQUNyQixJQUFJO2dCQUNGLE1BQU1vQixZQUFZcEI7WUFDcEIsRUFBRSxPQUFPZSxLQUFLO2dCQUNaLDBDQUEwQztnQkFDMUNDLFFBQVFwQixLQUFLLENBQUMsNkJBQTZCbUI7WUFDN0M7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZGJhbGlhbi9EZXNrdG9wL21vbWVudG1vaS12b2lkL3NyYy9ob29rcy91c2VHdWVzdHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZVwiO1xuaW1wb3J0IHsgR3Vlc3QsIEd1ZXN0R3JvdXAsIFJTVlBTdGF0dXMgfSBmcm9tIFwiQC90eXBlcy9ndWVzdHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUd1ZXN0cyhldmVudElkPzogc3RyaW5nKSB7XG4gIGNvbnN0IFtndWVzdHMsIHNldEd1ZXN0c10gPSB1c2VTdGF0ZTxHdWVzdFtdPihbXSk7XG4gIGNvbnN0IFtncm91cHMsIHNldEdyb3Vwc10gPSB1c2VTdGF0ZTxHdWVzdEdyb3VwW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtncm91cHNFcnJvciwgc2V0R3JvdXBzRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjdXJyZW50RXZlbnRJZCwgc2V0Q3VycmVudEV2ZW50SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQoKTtcblxuICAvLyBGZXRjaCBldmVudCBJRCBpZiBub3QgcHJvdmlkZWRcbiAgY29uc3QgZmV0Y2hFdmVudElkID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcbiAgICAgIGlmICghdXNlcikgcmV0dXJuIG51bGw7XG5cbiAgICAgIGNvbnN0IHsgZGF0YTogZXZlbnQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImV2ZW50c1wiKVxuICAgICAgICAuc2VsZWN0KFwiaWRcIilcbiAgICAgICAgLmVxKFwicGxhbm5lcl9pZFwiLCB1c2VyLmlkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvciAmJiBlcnJvci5jb2RlICE9PSBcIlBHUlNUMTE2XCIpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBldmVudD8uaWQgfHwgbnVsbDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggZXZlbnQgSUQ6XCIsIGVycik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplID0gYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHRhcmdldEV2ZW50SWQgPSBldmVudElkO1xuICAgICAgXG4gICAgICBpZiAoIXRhcmdldEV2ZW50SWQpIHtcbiAgICAgICAgdGFyZ2V0RXZlbnRJZCA9IGF3YWl0IGZldGNoRXZlbnRJZCgpO1xuICAgICAgICBzZXRDdXJyZW50RXZlbnRJZCh0YXJnZXRFdmVudElkIHx8IG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0Q3VycmVudEV2ZW50SWQodGFyZ2V0RXZlbnRJZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGFyZ2V0RXZlbnRJZCkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmZXRjaEd1ZXN0cyh0YXJnZXRFdmVudElkKTtcbiAgICAgIGZldGNoR3JvdXBzKHRhcmdldEV2ZW50SWQpO1xuXG4gICAgICAvLyBTZXQgdXAgcmVhbC10aW1lIHN1YnNjcmlwdGlvblxuICAgICAgY29uc3QgY2hhbm5lbCA9IHN1cGFiYXNlXG4gICAgICAgIC5jaGFubmVsKFwiZ3Vlc3RzLWNoYW5nZXNcIilcbiAgICAgICAgLm9uKFxuICAgICAgICAgIFwicG9zdGdyZXNfY2hhbmdlc1wiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV2ZW50OiBcIipcIixcbiAgICAgICAgICAgIHNjaGVtYTogXCJwdWJsaWNcIixcbiAgICAgICAgICAgIHRhYmxlOiBcImd1ZXN0c1wiLFxuICAgICAgICAgICAgZmlsdGVyOiBgZXZlbnRfaWQ9ZXEuJHt0YXJnZXRFdmVudElkfWAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBmZXRjaEd1ZXN0cyh0YXJnZXRFdmVudElkKTtcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgLnN1YnNjcmliZSgpO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKGNoYW5uZWwpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgaW5pdGlhbGl6ZSgpO1xuICB9LCBbZXZlbnRJZF0pO1xuXG4gIGNvbnN0IGZldGNoR3Vlc3RzID0gYXN5bmMgKHRhcmdldEV2ZW50SWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImd1ZXN0c1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAuZXEoXCJldmVudF9pZFwiLCB0YXJnZXRFdmVudElkKVxuICAgICAgICAub3JkZXIoXCJuYW1lXCIpO1xuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgc2V0R3Vlc3RzKGRhdGEgfHwgW10pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGZldGNoIGd1ZXN0c1wiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZldGNoR3JvdXBzID0gYXN5bmMgKHRhcmdldEV2ZW50SWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRHcm91cHNFcnJvcihudWxsKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiZ3Vlc3RfZ3JvdXBzXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgIC5lcShcImV2ZW50X2lkXCIsIHRhcmdldEV2ZW50SWQpXG4gICAgICAgIC5vcmRlcihcInNvcnRfb3JkZXJcIik7XG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICBzZXRHcm91cHMoZGF0YSB8fCBbXSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZmV0Y2ggZ3JvdXBzXCI7XG4gICAgICBzZXRHcm91cHNFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBncm91cHM6XCIsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFkZEd1ZXN0ID0gYXN5bmMgKGd1ZXN0RGF0YTogT21pdDxHdWVzdCwgXCJpZFwiIHwgXCJjcmVhdGVkX2F0XCIgfCBcInVwZGF0ZWRfYXRcIj4pID0+IHtcbiAgICBpZiAoIWN1cnJlbnRFdmVudElkKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBldmVudCBJRCBhdmFpbGFibGVcIik7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJndWVzdHNcIilcbiAgICAgICAgLmluc2VydChndWVzdERhdGEpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgc2V0R3Vlc3RzKHByZXYgPT4gWy4uLnByZXYsIGRhdGFdKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gYWRkIGd1ZXN0XCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVHdWVzdCA9IGFzeW5jIChndWVzdElkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8R3Vlc3Q+KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiZ3Vlc3RzXCIpXG4gICAgICAgIC51cGRhdGUodXBkYXRlcylcbiAgICAgICAgLmVxKFwiaWRcIiwgZ3Vlc3RJZClcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICBzZXRHdWVzdHMocHJldiA9PiBwcmV2Lm1hcChndWVzdCA9PiBcbiAgICAgICAgZ3Vlc3QuaWQgPT09IGd1ZXN0SWQgPyB7IC4uLmd1ZXN0LCAuLi5kYXRhIH0gOiBndWVzdFxuICAgICAgKSk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFwiRmFpbGVkIHRvIHVwZGF0ZSBndWVzdFwiKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGVsZXRlR3Vlc3QgPSBhc3luYyAoZ3Vlc3RJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiZ3Vlc3RzXCIpXG4gICAgICAgIC5kZWxldGUoKVxuICAgICAgICAuZXEoXCJpZFwiLCBndWVzdElkKTtcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICBzZXRHdWVzdHMocHJldiA9PiBwcmV2LmZpbHRlcihndWVzdCA9PiBndWVzdC5pZCAhPT0gZ3Vlc3RJZCkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVsZXRlIGd1ZXN0XCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVSU1ZQU3RhdHVzID0gYXN5bmMgKGd1ZXN0SWQ6IHN0cmluZywgc3RhdHVzOiBSU1ZQU3RhdHVzLCByZXNwb25zZURhdGU/OiBEYXRlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVwZGF0ZXMgPSB7XG4gICAgICAgIHJzdnBfc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgIHJzdnBfcmVzcG9uc2VfZGF0ZTogcmVzcG9uc2VEYXRlID8gcmVzcG9uc2VEYXRlLnRvSVNPU3RyaW5nKCkgOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gYXdhaXQgdXBkYXRlR3Vlc3QoZ3Vlc3RJZCwgdXBkYXRlcyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcihcIkZhaWxlZCB0byB1cGRhdGUgUlNWUCBzdGF0dXNcIik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldEd1ZXN0U3RhdHMgPSAoKSA9PiB7XG4gICAgY29uc3QgdG90YWwgPSBndWVzdHMubGVuZ3RoO1xuICAgIGNvbnN0IGNvbmZpcm1lZCA9IGd1ZXN0cy5maWx0ZXIoZyA9PiBnLnJzdnBfc3RhdHVzID09PSBcImNvbmZpcm1lZFwiKS5sZW5ndGg7XG4gICAgY29uc3QgcGVuZGluZyA9IGd1ZXN0cy5maWx0ZXIoZyA9PiBnLnJzdnBfc3RhdHVzID09PSBcInBlbmRpbmdcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY2xpbmVkID0gZ3Vlc3RzLmZpbHRlcihnID0+IGcucnN2cF9zdGF0dXMgPT09IFwiZGVjbGluZWRcIikubGVuZ3RoO1xuICAgIGNvbnN0IG1heWJlID0gZ3Vlc3RzLmZpbHRlcihnID0+IGcucnN2cF9zdGF0dXMgPT09IFwibWF5YmVcIikubGVuZ3RoO1xuXG4gICAgcmV0dXJuIHsgdG90YWwsIGNvbmZpcm1lZCwgcGVuZGluZywgZGVjbGluZWQsIG1heWJlIH07XG4gIH07XG5cbiAgY29uc3QgZ2V0R3Vlc3RzQnlHcm91cCA9IChncm91cE5hbWU6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBndWVzdHMuZmlsdGVyKGd1ZXN0ID0+IGd1ZXN0Lmdyb3VwX2NhdGVnb3J5ID09PSBncm91cE5hbWUpO1xuICB9O1xuXG4gIGNvbnN0IHNlYXJjaEd1ZXN0cyA9IChzZWFyY2hUZXJtOiBzdHJpbmcsIHN0YXR1c0ZpbHRlcjogc3RyaW5nID0gXCJhbGxcIikgPT4ge1xuICAgIHJldHVybiBndWVzdHMuZmlsdGVyKGd1ZXN0ID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoZXNTZWFyY2ggPVxuICAgICAgICBndWVzdC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICBndWVzdC5lbWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSk7XG5cbiAgICAgIGNvbnN0IG1hdGNoZXNTdGF0dXMgPVxuICAgICAgICBzdGF0dXNGaWx0ZXIgPT09IFwiYWxsXCIgfHwgZ3Vlc3QucnN2cF9zdGF0dXMgPT09IHN0YXR1c0ZpbHRlcjtcblxuICAgICAgcmV0dXJuIG1hdGNoZXNTZWFyY2ggJiYgbWF0Y2hlc1N0YXR1cztcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVHcm91cCA9IGFzeW5jIChncm91cERhdGE6IE9taXQ8R3Vlc3RHcm91cCwgXCJpZFwiIHwgXCJldmVudF9pZFwiIHwgXCJjcmVhdGVkX2F0XCIgfCBcInVwZGF0ZWRfYXRcIj4pID0+IHtcbiAgICBpZiAoIWN1cnJlbnRFdmVudElkKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBldmVudCBJRCBhdmFpbGFibGVcIik7XG5cbiAgICB0cnkge1xuICAgICAgc2V0R3JvdXBzRXJyb3IobnVsbCk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImd1ZXN0X2dyb3Vwc1wiKVxuICAgICAgICAuaW5zZXJ0KHsgLi4uZ3JvdXBEYXRhLCBldmVudF9pZDogY3VycmVudEV2ZW50SWQgfSlcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcblxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICBzZXRHcm91cHMocHJldiA9PiBbLi4ucHJldiwgZGF0YV0pO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gY3JlYXRlIGdyb3VwXCI7XG4gICAgICBzZXRHcm91cHNFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgdGhyb3cgZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlR3JvdXAgPSBhc3luYyAoZ3JvdXBJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEd1ZXN0R3JvdXA+KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldEdyb3Vwc0Vycm9yKG51bGwpO1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJndWVzdF9ncm91cHNcIilcbiAgICAgICAgLnVwZGF0ZSh1cGRhdGVzKVxuICAgICAgICAuZXEoXCJpZFwiLCBncm91cElkKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgIHNldEdyb3VwcyhwcmV2ID0+IHByZXYubWFwKGdyb3VwID0+XG4gICAgICAgIGdyb3VwLmlkID09PSBncm91cElkID8geyAuLi5ncm91cCwgLi4uZGF0YSB9IDogZ3JvdXBcbiAgICAgICkpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIGdyb3VwXCI7XG4gICAgICBzZXRHcm91cHNFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgdGhyb3cgZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGVsZXRlR3JvdXAgPSBhc3luYyAoZ3JvdXBJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldEdyb3Vwc0Vycm9yKG51bGwpO1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJndWVzdF9ncm91cHNcIilcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcShcImlkXCIsIGdyb3VwSWQpO1xuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgIHNldEdyb3VwcyhwcmV2ID0+IHByZXYuZmlsdGVyKGdyb3VwID0+IGdyb3VwLmlkICE9PSBncm91cElkKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZGVsZXRlIGdyb3VwXCI7XG4gICAgICBzZXRHcm91cHNFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgdGhyb3cgZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBTdGF0ZVxuICAgIGd1ZXN0cyxcbiAgICBncm91cHMsXG4gICAgbG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBncm91cHNFcnJvcixcbiAgICBldmVudElkOiBjdXJyZW50RXZlbnRJZCxcblxuICAgIC8vIEFjdGlvbnNcbiAgICBhZGRHdWVzdCxcbiAgICB1cGRhdGVHdWVzdCxcbiAgICBkZWxldGVHdWVzdCxcbiAgICB1cGRhdGVSU1ZQU3RhdHVzLFxuXG4gICAgLy8gR3JvdXAgQWN0aW9uc1xuICAgIGNyZWF0ZUdyb3VwLFxuICAgIHVwZGF0ZUdyb3VwLFxuICAgIGRlbGV0ZUdyb3VwLFxuXG4gICAgLy8gQ29tcHV0ZWQgdmFsdWVzXG4gICAgZ2V0R3Vlc3RTdGF0cyxcbiAgICBnZXRHdWVzdHNCeUdyb3VwLFxuICAgIHNlYXJjaEd1ZXN0cyxcblxuICAgIC8vIFV0aWxpdGllc1xuICAgIHJlZmV0Y2g6ICgpID0+IGN1cnJlbnRFdmVudElkID8gZmV0Y2hHdWVzdHMoY3VycmVudEV2ZW50SWQpIDogUHJvbWlzZS5yZXNvbHZlKCksXG4gICAgcmVmZXRjaEdyb3VwczogYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50RXZlbnRJZCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZmV0Y2hHcm91cHMoY3VycmVudEV2ZW50SWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIEVycm9yIGlzIGFscmVhZHkgaGFuZGxlZCBpbiBmZXRjaEdyb3Vwc1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHJlZmV0Y2ggZ3JvdXBzOlwiLCBlcnIpO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQiLCJ1c2VHdWVzdHMiLCJldmVudElkIiwiZ3Vlc3RzIiwic2V0R3Vlc3RzIiwiZ3JvdXBzIiwic2V0R3JvdXBzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiZ3JvdXBzRXJyb3IiLCJzZXRHcm91cHNFcnJvciIsImN1cnJlbnRFdmVudElkIiwic2V0Q3VycmVudEV2ZW50SWQiLCJzdXBhYmFzZSIsImZldGNoRXZlbnRJZCIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsImdldFVzZXIiLCJldmVudCIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlkIiwic2luZ2xlIiwiY29kZSIsImVyciIsImNvbnNvbGUiLCJpbml0aWFsaXplIiwidGFyZ2V0RXZlbnRJZCIsImZldGNoR3Vlc3RzIiwiZmV0Y2hHcm91cHMiLCJjaGFubmVsIiwib24iLCJzY2hlbWEiLCJ0YWJsZSIsImZpbHRlciIsInN1YnNjcmliZSIsInJlbW92ZUNoYW5uZWwiLCJvcmRlciIsIkVycm9yIiwibWVzc2FnZSIsImVycm9yTWVzc2FnZSIsImFkZEd1ZXN0IiwiZ3Vlc3REYXRhIiwiaW5zZXJ0IiwicHJldiIsInVwZGF0ZUd1ZXN0IiwiZ3Vlc3RJZCIsInVwZGF0ZXMiLCJ1cGRhdGUiLCJtYXAiLCJndWVzdCIsImRlbGV0ZUd1ZXN0IiwiZGVsZXRlIiwidXBkYXRlUlNWUFN0YXR1cyIsInN0YXR1cyIsInJlc3BvbnNlRGF0ZSIsInJzdnBfc3RhdHVzIiwicnN2cF9yZXNwb25zZV9kYXRlIiwidG9JU09TdHJpbmciLCJEYXRlIiwiZ2V0R3Vlc3RTdGF0cyIsInRvdGFsIiwibGVuZ3RoIiwiY29uZmlybWVkIiwiZyIsInBlbmRpbmciLCJkZWNsaW5lZCIsIm1heWJlIiwiZ2V0R3Vlc3RzQnlHcm91cCIsImdyb3VwTmFtZSIsImdyb3VwX2NhdGVnb3J5Iiwic2VhcmNoR3Vlc3RzIiwic2VhcmNoVGVybSIsInN0YXR1c0ZpbHRlciIsIm1hdGNoZXNTZWFyY2giLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImVtYWlsIiwibWF0Y2hlc1N0YXR1cyIsImNyZWF0ZUdyb3VwIiwiZ3JvdXBEYXRhIiwiZXZlbnRfaWQiLCJ1cGRhdGVHcm91cCIsImdyb3VwSWQiLCJncm91cCIsImRlbGV0ZUdyb3VwIiwicmVmZXRjaCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVmZXRjaEdyb3VwcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useGuests.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useImageUpload.ts":
/*!*************************************!*\
  !*** ./src/hooks/useImageUpload.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useImageUpload: () => (/* binding */ useImageUpload)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n\n\nfunction useImageUpload(param) {\n    let { vendorId, maxFileSize = 5 * 1024 * 1024, allowedTypes = [\n        \"image/jpeg\",\n        \"image/png\",\n        \"image/webp\"\n    ] } = param;\n    const [uploadProgress, setUploadProgress] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.createClientComponentClient)();\n    const validateFile = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useImageUpload.useCallback[validateFile]\": (file)=>{\n            if (file.size > maxFileSize) {\n                return \"File size must be less than \".concat(Math.round(maxFileSize / (1024 * 1024)), \"MB\");\n            }\n            if (!allowedTypes.includes(file.type)) {\n                return \"File type \".concat(file.type, \" is not allowed. Allowed types: \").concat(allowedTypes.join(\", \"));\n            }\n            return null;\n        }\n    }[\"useImageUpload.useCallback[validateFile]\"], [\n        maxFileSize,\n        allowedTypes\n    ]);\n    const uploadToStorage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useImageUpload.useCallback[uploadToStorage]\": async (file, fileName)=>{\n            // Generate unique filename\n            const fileExt = file.name.split(\".\").pop();\n            const uniqueName = \"\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substring(2), \".\").concat(fileExt);\n            // Upload to Supabase Storage\n            const { data, error: uploadError } = await supabase.storage.from(\"vendor-gallery\") // You'll need to create this bucket\n            .upload(\"vendors/\".concat(vendorId, \"/\").concat(uniqueName), file, {\n                cacheControl: \"3600\",\n                upsert: false\n            });\n            if (uploadError) {\n                throw new Error(\"Failed to upload image: \".concat(uploadError.message));\n            }\n            // Get public URL\n            const { data: urlData } = supabase.storage.from(\"vendor-gallery\").getPublicUrl(data.path);\n            return urlData.publicUrl;\n        }\n    }[\"useImageUpload.useCallback[uploadToStorage]\"], [\n        vendorId,\n        supabase\n    ]);\n    const saveToDatabase = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useImageUpload.useCallback[saveToDatabase]\": async function(imageUrl, caption) {\n            let isFeatured = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false, displayOrder = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n            const galleryData = {\n                vendor_id: vendorId,\n                image_url: imageUrl,\n                caption: caption || null,\n                display_order: displayOrder,\n                is_featured: isFeatured\n            };\n            const { data, error: insertError } = await supabase.from(\"vendor_gallery\").insert(galleryData).select().single();\n            if (insertError) {\n                throw new Error(\"Failed to save image to database: \".concat(insertError.message));\n            }\n            return data;\n        }\n    }[\"useImageUpload.useCallback[saveToDatabase]\"], [\n        vendorId,\n        supabase\n    ]);\n    const uploadImages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useImageUpload.useCallback[uploadImages]\": async function(files) {\n            let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n            if (files.length === 0) {\n                return [];\n            }\n            setIsUploading(true);\n            setError(null);\n            // Initialize progress tracking\n            const progress = files.map({\n                \"useImageUpload.useCallback[uploadImages].progress\": (file)=>({\n                        file,\n                        progress: 0,\n                        status: \"uploading\"\n                    })\n            }[\"useImageUpload.useCallback[uploadImages].progress\"]);\n            setUploadProgress(progress);\n            const uploadedImages = [];\n            const errors = [];\n            try {\n                // Get the next display order\n                const { data: existingImages } = await supabase.from(\"vendor_gallery\").select(\"display_order\").eq(\"vendor_id\", vendorId).order(\"display_order\", {\n                    ascending: false\n                }).limit(1);\n                let nextDisplayOrder = 0;\n                if (existingImages && existingImages.length > 0) {\n                    nextDisplayOrder = existingImages[0].display_order + 1;\n                }\n                // Process each file\n                for(let i = 0; i < files.length; i++){\n                    const file = files[i];\n                    const fileIndex = i;\n                    try {\n                        var _options_captions, _options_isFeatured;\n                        // Validate file\n                        const validationError = validateFile(file);\n                        if (validationError) {\n                            progress[fileIndex].status = \"error\";\n                            progress[fileIndex].error = validationError;\n                            setUploadProgress([\n                                ...progress\n                            ]);\n                            errors.push(validationError);\n                            continue;\n                        }\n                        // Update progress to show upload starting\n                        progress[fileIndex].progress = 10;\n                        setUploadProgress([\n                            ...progress\n                        ]);\n                        // Upload to storage\n                        const imageUrl = await uploadToStorage(file, file.name);\n                        progress[fileIndex].progress = 70;\n                        setUploadProgress([\n                            ...progress\n                        ]);\n                        // Save to database\n                        const caption = ((_options_captions = options.captions) === null || _options_captions === void 0 ? void 0 : _options_captions[i]) || \"\";\n                        const isFeatured = ((_options_isFeatured = options.isFeatured) === null || _options_isFeatured === void 0 ? void 0 : _options_isFeatured[i]) || false;\n                        const displayOrder = nextDisplayOrder + i;\n                        const savedImage = await saveToDatabase(imageUrl, caption, isFeatured, displayOrder);\n                        // Update progress to completed\n                        progress[fileIndex].progress = 100;\n                        progress[fileIndex].status = \"completed\";\n                        setUploadProgress([\n                            ...progress\n                        ]);\n                        uploadedImages.push(savedImage);\n                    } catch (err) {\n                        const errorMessage = err instanceof Error ? err.message : \"Upload failed\";\n                        progress[fileIndex].status = \"error\";\n                        progress[fileIndex].error = errorMessage;\n                        setUploadProgress([\n                            ...progress\n                        ]);\n                        errors.push(errorMessage);\n                    }\n                }\n                // Call progress callback if provided\n                if (options.onProgress) {\n                    options.onProgress(progress);\n                }\n                // If there were errors, set the main error\n                if (errors.length > 0) {\n                    setError(\"Some images failed to upload: \".concat(errors.join(\", \")));\n                }\n                return uploadedImages;\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : \"Upload failed\";\n                setError(errorMessage);\n                return uploadedImages;\n            } finally{\n                setIsUploading(false);\n            }\n        }\n    }[\"useImageUpload.useCallback[uploadImages]\"], [\n        vendorId,\n        supabase,\n        validateFile,\n        uploadToStorage,\n        saveToDatabase\n    ]);\n    const clearError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useImageUpload.useCallback[clearError]\": ()=>{\n            setError(null);\n        }\n    }[\"useImageUpload.useCallback[clearError]\"], []);\n    return {\n        uploadImages,\n        uploadProgress,\n        isUploading,\n        error,\n        clearError\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VJbWFnZVVwbG9hZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThDO0FBQ2U7QUFpQ3RELFNBQVNHLGVBQWUsS0FJVDtRQUpTLEVBQzdCQyxRQUFRLEVBQ1JDLGNBQWMsSUFBSSxPQUFPLElBQUksRUFDN0JDLGVBQWU7UUFBQztRQUFjO1FBQWE7S0FBYSxFQUNwQyxHQUpTO0lBSzdCLE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR1IsK0NBQVFBLENBQW1CLEVBQUU7SUFDekUsTUFBTSxDQUFDUyxhQUFhQyxlQUFlLEdBQUdWLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ1csT0FBT0MsU0FBUyxHQUFHWiwrQ0FBUUEsQ0FBZ0I7SUFFbEQsTUFBTWEsV0FBV1gsMEVBQTJCQTtJQUU1QyxNQUFNWSxlQUFlYixrREFBV0E7b0RBQzlCLENBQUNjO1lBQ0MsSUFBSUEsS0FBS0MsSUFBSSxHQUFHWCxhQUFhO2dCQUMzQixPQUFPLCtCQUF1RSxPQUF4Q1ksS0FBS0MsS0FBSyxDQUFDYixjQUFlLFFBQU8sSUFBRyxJQUFJO1lBQ2hGO1lBRUEsSUFBSSxDQUFDQyxhQUFhYSxRQUFRLENBQUNKLEtBQUtLLElBQUksR0FBRztnQkFDckMsT0FBTyxhQUF5RGQsT0FBNUNTLEtBQUtLLElBQUksRUFBQyxvQ0FBMEQsT0FBeEJkLGFBQWFlLElBQUksQ0FBQztZQUNwRjtZQUVBLE9BQU87UUFDVDttREFDQTtRQUFDaEI7UUFBYUM7S0FBYTtJQUc3QixNQUFNZ0Isa0JBQWtCckIsa0RBQVdBO3VEQUNqQyxPQUFPYyxNQUFZUTtZQUNqQiwyQkFBMkI7WUFDM0IsTUFBTUMsVUFBVVQsS0FBS1UsSUFBSSxDQUFDQyxLQUFLLENBQUMsS0FBS0MsR0FBRztZQUN4QyxNQUFNQyxhQUFhLEdBQWlCWCxPQUFkWSxLQUFLQyxHQUFHLElBQUcsS0FBOENOLE9BQTNDUCxLQUFLYyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJ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QkFDckMsSUFBSXBCLFFBQVFxQixVQUFVLEVBQUU7b0JBQ3RCckIsUUFBUXFCLFVBQVUsQ0FBQ25CO2dCQUNyQjtnQkFFQSwyQ0FBMkM7Z0JBQzNDLElBQUlJLE9BQU9MLE1BQU0sR0FBRyxHQUFHO29CQUNyQnBELFNBQVMsaUNBQW1ELE9BQWxCeUQsT0FBT2hELElBQUksQ0FBQztnQkFDeEQ7Z0JBRUEsT0FBTytDO1lBQ1QsRUFBRSxPQUFPYyxLQUFLO2dCQUNaLE1BQU1DLGVBQWVELGVBQWV6QyxRQUFReUMsSUFBSXhDLE9BQU8sR0FBRztnQkFDMUQ5QixTQUFTdUU7Z0JBQ1QsT0FBT2Y7WUFDVCxTQUFVO2dCQUNSMUQsZUFBZTtZQUNqQjtRQUNGO21EQUNBO1FBQUNOO1FBQVVTO1FBQVVDO1FBQWNRO1FBQWlCeUI7S0FBZTtJQUdyRSxNQUFNc0MsYUFBYXBGLGtEQUFXQTtrREFBQztZQUM3QlcsU0FBUztRQUNYO2lEQUFHLEVBQUU7SUFFTCxPQUFPO1FBQ0xpRDtRQUNBdEQ7UUFDQUU7UUFDQUU7UUFDQTBFO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2RhdmlkYmFsaWFuL0Rlc2t0b3AvbW9tZW50bW9pLXZvaWQvc3JjL2hvb2tzL3VzZUltYWdlVXBsb2FkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlXCI7XG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gXCJAL3R5cGVzL2RhdGFiYXNlXCI7XG5cbnR5cGUgR2FsbGVyeUltYWdlID0gRGF0YWJhc2VbXCJwdWJsaWNcIl1bXCJUYWJsZXNcIl1bXCJ2ZW5kb3JfZ2FsbGVyeVwiXVtcIlJvd1wiXTtcbnR5cGUgR2FsbGVyeUltYWdlSW5zZXJ0ID0gRGF0YWJhc2VbXCJwdWJsaWNcIl1bXCJUYWJsZXNcIl1bXCJ2ZW5kb3JfZ2FsbGVyeVwiXVtcIkluc2VydFwiXTtcblxuaW50ZXJmYWNlIFVwbG9hZFByb2dyZXNzIHtcbiAgZmlsZTogRmlsZTtcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgc3RhdHVzOiBcInVwbG9hZGluZ1wiIHwgXCJjb21wbGV0ZWRcIiB8IFwiZXJyb3JcIjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBVc2VJbWFnZVVwbG9hZFByb3BzIHtcbiAgdmVuZG9ySWQ6IHN0cmluZztcbiAgbWF4RmlsZVNpemU/OiBudW1iZXI7IC8vIGluIGJ5dGVzLCBkZWZhdWx0IDVNQlxuICBhbGxvd2VkVHlwZXM/OiBzdHJpbmdbXTsgLy8gZGVmYXVsdDogWydpbWFnZS9qcGVnJywgJ2ltYWdlL3BuZycsICdpbWFnZS93ZWJwJ11cbn1cblxuaW50ZXJmYWNlIFVzZUltYWdlVXBsb2FkUmV0dXJuIHtcbiAgdXBsb2FkSW1hZ2VzOiAoZmlsZXM6IEZpbGVbXSwgb3B0aW9ucz86IFVwbG9hZE9wdGlvbnMpID0+IFByb21pc2U8R2FsbGVyeUltYWdlW10+O1xuICB1cGxvYWRQcm9ncmVzczogVXBsb2FkUHJvZ3Jlc3NbXTtcbiAgaXNVcGxvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBjbGVhckVycm9yOiAoKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgVXBsb2FkT3B0aW9ucyB7XG4gIGNhcHRpb25zPzogc3RyaW5nW107XG4gIGlzRmVhdHVyZWQ/OiBib29sZWFuW107XG4gIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IFVwbG9hZFByb2dyZXNzW10pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VJbWFnZVVwbG9hZCh7XG4gIHZlbmRvcklkLFxuICBtYXhGaWxlU2l6ZSA9IDUgKiAxMDI0ICogMTAyNCwgLy8gNU1CXG4gIGFsbG93ZWRUeXBlcyA9IFtcImltYWdlL2pwZWdcIiwgXCJpbWFnZS9wbmdcIiwgXCJpbWFnZS93ZWJwXCJdLFxufTogVXNlSW1hZ2VVcGxvYWRQcm9wcyk6IFVzZUltYWdlVXBsb2FkUmV0dXJuIHtcbiAgY29uc3QgW3VwbG9hZFByb2dyZXNzLCBzZXRVcGxvYWRQcm9ncmVzc10gPSB1c2VTdGF0ZTxVcGxvYWRQcm9ncmVzc1tdPihbXSk7XG4gIGNvbnN0IFtpc1VwbG9hZGluZywgc2V0SXNVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50KCk7XG5cbiAgY29uc3QgdmFsaWRhdGVGaWxlID0gdXNlQ2FsbGJhY2soXG4gICAgKGZpbGU6IEZpbGUpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICAgIGlmIChmaWxlLnNpemUgPiBtYXhGaWxlU2l6ZSkge1xuICAgICAgICByZXR1cm4gYEZpbGUgc2l6ZSBtdXN0IGJlIGxlc3MgdGhhbiAke01hdGgucm91bmQobWF4RmlsZVNpemUgLyAoMTAyNCAqIDEwMjQpKX1NQmA7XG4gICAgICB9XG5cbiAgICAgIGlmICghYWxsb3dlZFR5cGVzLmluY2x1ZGVzKGZpbGUudHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGBGaWxlIHR5cGUgJHtmaWxlLnR5cGV9IGlzIG5vdCBhbGxvd2VkLiBBbGxvd2VkIHR5cGVzOiAke2FsbG93ZWRUeXBlcy5qb2luKFwiLCBcIil9YDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBbbWF4RmlsZVNpemUsIGFsbG93ZWRUeXBlc11cbiAgKTtcblxuICBjb25zdCB1cGxvYWRUb1N0b3JhZ2UgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAoZmlsZTogRmlsZSwgZmlsZU5hbWU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgICAvLyBHZW5lcmF0ZSB1bmlxdWUgZmlsZW5hbWVcbiAgICAgIGNvbnN0IGZpbGVFeHQgPSBmaWxlLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xuICAgICAgY29uc3QgdW5pcXVlTmFtZSA9IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIpfS4ke2ZpbGVFeHR9YDtcblxuICAgICAgLy8gVXBsb2FkIHRvIFN1cGFiYXNlIFN0b3JhZ2VcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IHVwbG9hZEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlXG4gICAgICAgIC5mcm9tKFwidmVuZG9yLWdhbGxlcnlcIikgLy8gWW91J2xsIG5lZWQgdG8gY3JlYXRlIHRoaXMgYnVja2V0XG4gICAgICAgIC51cGxvYWQoYHZlbmRvcnMvJHt2ZW5kb3JJZH0vJHt1bmlxdWVOYW1lfWAsIGZpbGUsIHtcbiAgICAgICAgICBjYWNoZUNvbnRyb2w6IFwiMzYwMFwiLFxuICAgICAgICAgIHVwc2VydDogZmFsc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICBpZiAodXBsb2FkRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdXBsb2FkIGltYWdlOiAke3VwbG9hZEVycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCBwdWJsaWMgVVJMXG4gICAgICBjb25zdCB7IGRhdGE6IHVybERhdGEgfSA9IHN1cGFiYXNlLnN0b3JhZ2VcbiAgICAgICAgLmZyb20oXCJ2ZW5kb3ItZ2FsbGVyeVwiKVxuICAgICAgICAuZ2V0UHVibGljVXJsKGRhdGEucGF0aCk7XG5cbiAgICAgIHJldHVybiB1cmxEYXRhLnB1YmxpY1VybDtcbiAgICB9LFxuICAgIFt2ZW5kb3JJZCwgc3VwYWJhc2VdXG4gICk7XG5cbiAgY29uc3Qgc2F2ZVRvRGF0YWJhc2UgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAoXG4gICAgICBpbWFnZVVybDogc3RyaW5nLFxuICAgICAgY2FwdGlvbj86IHN0cmluZyxcbiAgICAgIGlzRmVhdHVyZWQgPSBmYWxzZSxcbiAgICAgIGRpc3BsYXlPcmRlciA9IDBcbiAgICApOiBQcm9taXNlPEdhbGxlcnlJbWFnZT4gPT4ge1xuICAgICAgY29uc3QgZ2FsbGVyeURhdGE6IEdhbGxlcnlJbWFnZUluc2VydCA9IHtcbiAgICAgICAgdmVuZG9yX2lkOiB2ZW5kb3JJZCxcbiAgICAgICAgaW1hZ2VfdXJsOiBpbWFnZVVybCxcbiAgICAgICAgY2FwdGlvbjogY2FwdGlvbiB8fCBudWxsLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiBkaXNwbGF5T3JkZXIsXG4gICAgICAgIGlzX2ZlYXR1cmVkOiBpc0ZlYXR1cmVkLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogaW5zZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwidmVuZG9yX2dhbGxlcnlcIilcbiAgICAgICAgLmluc2VydChnYWxsZXJ5RGF0YSlcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGluc2VydEVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhdmUgaW1hZ2UgdG8gZGF0YWJhc2U6ICR7aW5zZXJ0RXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBbdmVuZG9ySWQsIHN1cGFiYXNlXVxuICApO1xuXG4gIGNvbnN0IHVwbG9hZEltYWdlcyA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChcbiAgICAgIGZpbGVzOiBGaWxlW10sXG4gICAgICBvcHRpb25zOiBVcGxvYWRPcHRpb25zID0ge31cbiAgICApOiBQcm9taXNlPEdhbGxlcnlJbWFnZVtdPiA9PiB7XG4gICAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAgc2V0SXNVcGxvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBwcm9ncmVzcyB0cmFja2luZ1xuICAgICAgY29uc3QgcHJvZ3Jlc3M6IFVwbG9hZFByb2dyZXNzW10gPSBmaWxlcy5tYXAoKGZpbGUpID0+ICh7XG4gICAgICAgIGZpbGUsXG4gICAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgICBzdGF0dXM6IFwidXBsb2FkaW5nXCIsXG4gICAgICB9KSk7XG4gICAgICBzZXRVcGxvYWRQcm9ncmVzcyhwcm9ncmVzcyk7XG5cbiAgICAgIGNvbnN0IHVwbG9hZGVkSW1hZ2VzOiBHYWxsZXJ5SW1hZ2VbXSA9IFtdO1xuICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBHZXQgdGhlIG5leHQgZGlzcGxheSBvcmRlclxuICAgICAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nSW1hZ2VzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKFwidmVuZG9yX2dhbGxlcnlcIilcbiAgICAgICAgICAuc2VsZWN0KFwiZGlzcGxheV9vcmRlclwiKVxuICAgICAgICAgIC5lcShcInZlbmRvcl9pZFwiLCB2ZW5kb3JJZClcbiAgICAgICAgICAub3JkZXIoXCJkaXNwbGF5X29yZGVyXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAgIC5saW1pdCgxKTtcblxuICAgICAgICBsZXQgbmV4dERpc3BsYXlPcmRlciA9IDA7XG4gICAgICAgIGlmIChleGlzdGluZ0ltYWdlcyAmJiBleGlzdGluZ0ltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbmV4dERpc3BsYXlPcmRlciA9IGV4aXN0aW5nSW1hZ2VzWzBdLmRpc3BsYXlfb3JkZXIgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvY2VzcyBlYWNoIGZpbGVcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGZpbGUgPSBmaWxlc1tpXTtcbiAgICAgICAgICBjb25zdCBmaWxlSW5kZXggPSBpO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGZpbGVcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRlRmlsZShmaWxlKTtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3NbZmlsZUluZGV4XS5zdGF0dXMgPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgIHByb2dyZXNzW2ZpbGVJbmRleF0uZXJyb3IgPSB2YWxpZGF0aW9uRXJyb3I7XG4gICAgICAgICAgICAgIHNldFVwbG9hZFByb2dyZXNzKFsuLi5wcm9ncmVzc10pO1xuICAgICAgICAgICAgICBlcnJvcnMucHVzaCh2YWxpZGF0aW9uRXJyb3IpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIHRvIHNob3cgdXBsb2FkIHN0YXJ0aW5nXG4gICAgICAgICAgICBwcm9ncmVzc1tmaWxlSW5kZXhdLnByb2dyZXNzID0gMTA7XG4gICAgICAgICAgICBzZXRVcGxvYWRQcm9ncmVzcyhbLi4ucHJvZ3Jlc3NdKTtcblxuICAgICAgICAgICAgLy8gVXBsb2FkIHRvIHN0b3JhZ2VcbiAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gYXdhaXQgdXBsb2FkVG9TdG9yYWdlKGZpbGUsIGZpbGUubmFtZSk7XG4gICAgICAgICAgICBwcm9ncmVzc1tmaWxlSW5kZXhdLnByb2dyZXNzID0gNzA7XG4gICAgICAgICAgICBzZXRVcGxvYWRQcm9ncmVzcyhbLi4ucHJvZ3Jlc3NdKTtcblxuICAgICAgICAgICAgLy8gU2F2ZSB0byBkYXRhYmFzZVxuICAgICAgICAgICAgY29uc3QgY2FwdGlvbiA9IG9wdGlvbnMuY2FwdGlvbnM/LltpXSB8fCBcIlwiO1xuICAgICAgICAgICAgY29uc3QgaXNGZWF0dXJlZCA9IG9wdGlvbnMuaXNGZWF0dXJlZD8uW2ldIHx8IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgZGlzcGxheU9yZGVyID0gbmV4dERpc3BsYXlPcmRlciArIGk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNhdmVkSW1hZ2UgPSBhd2FpdCBzYXZlVG9EYXRhYmFzZShcbiAgICAgICAgICAgICAgaW1hZ2VVcmwsXG4gICAgICAgICAgICAgIGNhcHRpb24sXG4gICAgICAgICAgICAgIGlzRmVhdHVyZWQsXG4gICAgICAgICAgICAgIGRpc3BsYXlPcmRlclxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgcHJvZ3Jlc3NbZmlsZUluZGV4XS5wcm9ncmVzcyA9IDEwMDtcbiAgICAgICAgICAgIHByb2dyZXNzW2ZpbGVJbmRleF0uc3RhdHVzID0gXCJjb21wbGV0ZWRcIjtcbiAgICAgICAgICAgIHNldFVwbG9hZFByb2dyZXNzKFsuLi5wcm9ncmVzc10pO1xuXG4gICAgICAgICAgICB1cGxvYWRlZEltYWdlcy5wdXNoKHNhdmVkSW1hZ2UpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiVXBsb2FkIGZhaWxlZFwiO1xuICAgICAgICAgICAgcHJvZ3Jlc3NbZmlsZUluZGV4XS5zdGF0dXMgPSBcImVycm9yXCI7XG4gICAgICAgICAgICBwcm9ncmVzc1tmaWxlSW5kZXhdLmVycm9yID0gZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgc2V0VXBsb2FkUHJvZ3Jlc3MoWy4uLnByb2dyZXNzXSk7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGwgcHJvZ3Jlc3MgY2FsbGJhY2sgaWYgcHJvdmlkZWRcbiAgICAgICAgaWYgKG9wdGlvbnMub25Qcm9ncmVzcykge1xuICAgICAgICAgIG9wdGlvbnMub25Qcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGVyZSB3ZXJlIGVycm9ycywgc2V0IHRoZSBtYWluIGVycm9yXG4gICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNldEVycm9yKGBTb21lIGltYWdlcyBmYWlsZWQgdG8gdXBsb2FkOiAke2Vycm9ycy5qb2luKFwiLCBcIil9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXBsb2FkZWRJbWFnZXM7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiVXBsb2FkIGZhaWxlZFwiO1xuICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gdXBsb2FkZWRJbWFnZXM7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc1VwbG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbdmVuZG9ySWQsIHN1cGFiYXNlLCB2YWxpZGF0ZUZpbGUsIHVwbG9hZFRvU3RvcmFnZSwgc2F2ZVRvRGF0YWJhc2VdXG4gICk7XG5cbiAgY29uc3QgY2xlYXJFcnJvciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiB7XG4gICAgdXBsb2FkSW1hZ2VzLFxuICAgIHVwbG9hZFByb2dyZXNzLFxuICAgIGlzVXBsb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIGNsZWFyRXJyb3IsXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsImNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCIsInVzZUltYWdlVXBsb2FkIiwidmVuZG9ySWQiLCJtYXhGaWxlU2l6ZSIsImFsbG93ZWRUeXBlcyIsInVwbG9hZFByb2dyZXNzIiwic2V0VXBsb2FkUHJvZ3Jlc3MiLCJpc1VwbG9hZGluZyIsInNldElzVXBsb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInN1cGFiYXNlIiwidmFsaWRhdGVGaWxlIiwiZmlsZSIsInNpemUiLCJNYXRoIiwicm91bmQiLCJpbmNsdWRlcyIsInR5cGUiLCJqb2luIiwidXBsb2FkVG9TdG9yYWdlIiwiZmlsZU5hbWUiLCJmaWxlRXh0IiwibmFtZSIsInNwbGl0IiwicG9wIiwidW5pcXVlTmFtZSIsIkRhdGUiLCJub3ciLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImRhdGEiLCJ1cGxvYWRFcnJvciIsInN0b3JhZ2UiLCJmcm9tIiwidXBsb2FkIiwiY2FjaGVDb250cm9sIiwidXBzZXJ0IiwiRXJyb3IiLCJtZXNzYWdlIiwidXJsRGF0YSIsImdldFB1YmxpY1VybCIsInBhdGgiLCJwdWJsaWNVcmwiLCJzYXZlVG9EYXRhYmFzZSIsImltYWdlVXJsIiwiY2FwdGlvbiIsImlzRmVhdHVyZWQiLCJkaXNwbGF5T3JkZXIiLCJnYWxsZXJ5RGF0YSIsInZlbmRvcl9pZCIsImltYWdlX3VybCIsImRpc3BsYXlfb3JkZXIiLCJpc19mZWF0dXJlZCIsImluc2VydEVycm9yIiwiaW5zZXJ0Iiwic2VsZWN0Iiwic2luZ2xlIiwidXBsb2FkSW1hZ2VzIiwiZmlsZXMiLCJvcHRpb25zIiwibGVuZ3RoIiwicHJvZ3Jlc3MiLCJtYXAiLCJzdGF0dXMiLCJ1cGxvYWRlZEltYWdlcyIsImVycm9ycyIsImV4aXN0aW5nSW1hZ2VzIiwiZXEiLCJvcmRlciIsImFzY2VuZGluZyIsImxpbWl0IiwibmV4dERpc3BsYXlPcmRlciIsImkiLCJmaWxlSW5kZXgiLCJ2YWxpZGF0aW9uRXJyb3IiLCJwdXNoIiwiY2FwdGlvbnMiLCJzYXZlZEltYWdlIiwiZXJyIiwiZXJyb3JNZXNzYWdlIiwib25Qcm9ncmVzcyIsImNsZWFyRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useImageUpload.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useVendorDashboard.ts":
/*!*****************************************!*\
  !*** ./src/hooks/useVendorDashboard.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useVendorDashboard: () => (/* binding */ useVendorDashboard)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_error_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/error-handler */ \"(app-pages-browser)/./src/lib/error-handler.ts\");\n\n\n\n\n// Cache duration: 5 minutes\nconst CACHE_DURATION = 5 * 60 * 1000;\n/**\n * Vendor Dashboard Hook\n * \n * This hook is designed specifically for vendor accounts. It will:\n * 1. Check if the current user has a vendor profile\n * 2. Load vendor-specific dashboard data (stats, inquiries, events, etc.)\n * 3. Set up real-time subscriptions for vendor data\n * 4. Provide appropriate error messages for non-vendor users\n * \n * Expected behavior for non-vendor users:\n * - Will show an error message indicating vendor profile is required\n * - Will not attempt to load vendor-specific data\n * - Will not set up real-time subscriptions\n * \n * @returns Vendor dashboard data and state management\n */ function useVendorDashboard() {\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__.useAuth)();\n    const [vendorStats, setVendorStats] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [recentInquiries, setRecentInquiries] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [upcomingEvents, setUpcomingEvents] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [profileCompletion, setProfileCompletion] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [monthlyGrowth, setMonthlyGrowth] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    // Individual loading states for better UX\n    const [statsLoading, setStatsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [inquiriesLoading, setInquiriesLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [eventsLoading, setEventsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [profileLoading, setProfileLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [growthLoading, setGrowthLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Overall loading state\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [dashboardError, setDashboardError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Cache state\n    const [cache, setCache] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        stats: null,\n        inquiries: [],\n        upcomingEvents: [],\n        profileCompletion: 0,\n        monthlyGrowth: 0,\n        timestamp: 0\n    });\n    // Track vendor ID for real-time subscriptions\n    const [vendorId, setVendorId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const subscriptionsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.createClientComponentClient)();\n    // Check if cache is valid\n    const isCacheValid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[isCacheValid]\": ()=>{\n            return Date.now() - cache.timestamp < CACHE_DURATION;\n        }\n    }[\"useVendorDashboard.useCallback[isCacheValid]\"], [\n        cache.timestamp\n    ]);\n    // Get vendor profile ID with error handling\n    const getVendorId = async ()=>{\n        if (!(user === null || user === void 0 ? void 0 : user.id)) {\n            console.log(\"No user ID available for vendor profile lookup\");\n            return null;\n        }\n        const context = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.createErrorContext)('useVendorDashboard', 'getVendorId', user.id);\n        try {\n            // First check if user has a profile and is a vendor\n            const { data: userProfile, error: userProfileError } = await supabase.from(\"profiles\").select(\"user_type\").eq(\"id\", user.id).single();\n            if (userProfileError) {\n                console.error(\"Error getting user profile:\", {\n                    error: userProfileError,\n                    userId: user.id,\n                    context: context\n                });\n                return null;\n            }\n            if (!userProfile) {\n                console.error(\"No user profile found for user:\", user.id);\n                return null;\n            }\n            if (userProfile.user_type !== 'vendor') {\n                console.log(\"User is not a vendor, user_type:\", userProfile.user_type);\n                return null;\n            }\n            // Now get the vendor profile\n            const { data: vendorProfile, error: profileError } = await supabase.from(\"vendor_profiles\").select(\"id\").eq(\"user_id\", user.id).single();\n            if (profileError) {\n                const dashboardError = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.handleSupabaseError)(profileError, context);\n                console.error(\"Error getting vendor ID:\", {\n                    error: profileError,\n                    dashboardError: dashboardError,\n                    userId: user.id,\n                    userType: userProfile.user_type,\n                    context: context\n                });\n                return null;\n            }\n            if (!vendorProfile) {\n                console.log(\"No vendor profile found for user:\", user.id);\n                return null;\n            }\n            console.log(\"Successfully found vendor profile:\", vendorProfile.id);\n            return vendorProfile.id;\n        } catch (err) {\n            const dashboardError = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.handleSupabaseError)(err, context);\n            console.error(\"Error getting vendor ID:\", {\n                error: err,\n                dashboardError: dashboardError,\n                userId: user.id,\n                context: context\n            });\n            return null;\n        }\n    };\n    // Fetch vendor statistics with enhanced error handling\n    const fetchVendorStats = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[fetchVendorStats]\": async function() {\n            let forceRefresh = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n            if (!vendorId) {\n                console.log(\"Cannot fetch vendor stats: no vendor ID available\");\n                return;\n            }\n            // Use cache if valid and not forcing refresh\n            if (!forceRefresh && cache.stats && isCacheValid()) {\n                setVendorStats(cache.stats);\n                return;\n            }\n            setStatsLoading(true);\n            setError(null);\n            setDashboardError(null);\n            const context = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.createErrorContext)('useVendorDashboard', 'fetchVendorStats', user === null || user === void 0 ? void 0 : user.id, vendorId);\n            try {\n                const stats = await (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.retryOperation)({\n                    \"useVendorDashboard.useCallback[fetchVendorStats]\": async ()=>{\n                        // Get total inquiries\n                        const { count: totalInquiries, error: inquiriesError } = await supabase.from(\"vendor_inquiries\").select(\"*\", {\n                            count: \"exact\",\n                            head: true\n                        }).eq(\"vendor_id\", vendorId);\n                        if (inquiriesError) throw inquiriesError;\n                        // Get pending inquiries (new status)\n                        const { count: pendingInquiries, error: pendingError } = await supabase.from(\"vendor_inquiries\").select(\"*\", {\n                            count: \"exact\",\n                            head: true\n                        }).eq(\"vendor_id\", vendorId).eq(\"status\", \"new\");\n                        if (pendingError) throw pendingError;\n                        // Get total booked inquiries\n                        const { count: totalBookedInquiries, error: bookedInquiriesError } = await supabase.from(\"vendor_inquiries\").select(\"*\", {\n                            count: \"exact\",\n                            head: true\n                        }).eq(\"vendor_id\", vendorId).eq(\"status\", \"booked\");\n                        if (bookedInquiriesError) throw bookedInquiriesError;\n                        // Calculate response rate\n                        const { count: respondedInquiries, error: respondedError } = await supabase.from(\"vendor_inquiries\").select(\"*\", {\n                            count: \"exact\",\n                            head: true\n                        }).eq(\"vendor_id\", vendorId).in(\"status\", [\n                            \"responded\",\n                            \"booked\"\n                        ]);\n                        if (respondedError) throw respondedError;\n                        const responseRate = totalInquiries ? Math.round((respondedInquiries || 0) / totalInquiries * 100) : 0;\n                        // Calculate average response time\n                        const { data: responseTimes, error: responseTimesError } = await supabase.from(\"vendor_inquiries\").select(\"created_at, responded_at\").eq(\"vendor_id\", vendorId).not(\"responded_at\", \"is\", null);\n                        if (responseTimesError) throw responseTimesError;\n                        const avgResponseTime = calculateAverageResponseTime(responseTimes || []);\n                        // Get profile views from analytics table\n                        const { data: analyticsData, error: analyticsError } = await supabase.from(\"vendor_analytics\").select(\"profile_views\").eq(\"vendor_id\", vendorId).gte(\"date\", new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString().split('T')[0]).order(\"date\", {\n                            ascending: false\n                        });\n                        if (analyticsError) throw analyticsError;\n                        // Sum up profile views for current month\n                        const totalProfileViews = (analyticsData === null || analyticsData === void 0 ? void 0 : analyticsData.reduce({\n                            \"useVendorDashboard.useCallback[fetchVendorStats]\": (sum, record)=>sum + (record.profile_views || 0)\n                        }[\"useVendorDashboard.useCallback[fetchVendorStats]\"], 0)) || 0;\n                        // Get business name from vendor profile\n                        const { data: vendorProfile, error: profileError } = await supabase.from(\"vendor_profiles\").select(\"business_name\").eq(\"user_id\", user === null || user === void 0 ? void 0 : user.id).single();\n                        if (profileError) {\n                            console.warn(\"Could not fetch business name:\", profileError);\n                        }\n                        return {\n                            totalInquiries: totalInquiries || 0,\n                            pendingInquiries: pendingInquiries || 0,\n                            totalBookings: totalBookedInquiries || 0,\n                            profileViews: totalProfileViews,\n                            responseRate,\n                            avgResponseTime,\n                            businessName: (vendorProfile === null || vendorProfile === void 0 ? void 0 : vendorProfile.business_name) || \"Your Business\"\n                        };\n                    }\n                }[\"useVendorDashboard.useCallback[fetchVendorStats]\"], 3, 1000, context);\n                setVendorStats(stats);\n                // Update cache\n                setCache({\n                    \"useVendorDashboard.useCallback[fetchVendorStats]\": (prev)=>({\n                            ...prev,\n                            stats,\n                            timestamp: Date.now()\n                        })\n                }[\"useVendorDashboard.useCallback[fetchVendorStats]\"]);\n            } catch (err) {\n                const dashboardError = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.handleSupabaseError)(err, context);\n                setError(dashboardError.userMessage);\n                setDashboardError(dashboardError);\n                console.error(\"Error fetching vendor stats:\", dashboardError);\n            } finally{\n                setStatsLoading(false);\n            }\n        }\n    }[\"useVendorDashboard.useCallback[fetchVendorStats]\"], [\n        vendorId,\n        cache.stats,\n        isCacheValid,\n        supabase,\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    // Fetch recent inquiries with enhanced error handling\n    const fetchRecentInquiries = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[fetchRecentInquiries]\": async function() {\n            let forceRefresh = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n            if (!vendorId) {\n                console.log(\"Cannot fetch recent inquiries: no vendor ID available\");\n                return;\n            }\n            // Use cache if valid and not forcing refresh\n            if (!forceRefresh && cache.inquiries.length > 0 && isCacheValid()) {\n                setRecentInquiries(cache.inquiries);\n                return;\n            }\n            setInquiriesLoading(true);\n            setError(null);\n            setDashboardError(null);\n            const context = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.createErrorContext)('useVendorDashboard', 'fetchRecentInquiries', user === null || user === void 0 ? void 0 : user.id, vendorId);\n            try {\n                const inquiries = await (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.retryOperation)({\n                    \"useVendorDashboard.useCallback[fetchRecentInquiries]\": async ()=>{\n                        const { data: inquiries, error } = await supabase.from(\"vendor_inquiries\").select(\"\\n            id,\\n            created_at,\\n            message,\\n            status,\\n            event_type,\\n            event_date,\\n            client_name\\n          \").eq(\"vendor_id\", vendorId).order(\"created_at\", {\n                            ascending: false\n                        }).limit(5);\n                        if (error) throw error;\n                        const formattedInquiries = (inquiries || []).map({\n                            \"useVendorDashboard.useCallback[fetchRecentInquiries].formattedInquiries\": (inquiry)=>({\n                                    id: inquiry.id,\n                                    clientName: inquiry.client_name || \"Anonymous\",\n                                    eventType: inquiry.event_type || \"Event\",\n                                    eventDate: inquiry.event_date || \"\",\n                                    message: inquiry.message || \"\",\n                                    status: inquiry.status,\n                                    createdAt: inquiry.created_at\n                                })\n                        }[\"useVendorDashboard.useCallback[fetchRecentInquiries].formattedInquiries\"]);\n                        return formattedInquiries;\n                    }\n                }[\"useVendorDashboard.useCallback[fetchRecentInquiries]\"], 3, 1000, context);\n                setRecentInquiries(inquiries);\n                // Update cache\n                setCache({\n                    \"useVendorDashboard.useCallback[fetchRecentInquiries]\": (prev)=>({\n                            ...prev,\n                            inquiries,\n                            timestamp: Date.now()\n                        })\n                }[\"useVendorDashboard.useCallback[fetchRecentInquiries]\"]);\n            } catch (err) {\n                const dashboardError = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.handleSupabaseError)(err, context);\n                setError(dashboardError.userMessage);\n                setDashboardError(dashboardError);\n                console.error(\"Error fetching recent inquiries:\", dashboardError);\n            } finally{\n                setInquiriesLoading(false);\n            }\n        }\n    }[\"useVendorDashboard.useCallback[fetchRecentInquiries]\"], [\n        vendorId,\n        cache.inquiries,\n        isCacheValid,\n        supabase,\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    // Fetch upcoming events with enhanced error handling\n    const fetchUpcomingEvents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[fetchUpcomingEvents]\": async function() {\n            let forceRefresh = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n            if (!vendorId) {\n                console.log(\"Cannot fetch upcoming events: no vendor ID available\");\n                return;\n            }\n            // Use cache if valid and not forcing refresh\n            if (!forceRefresh && cache.upcomingEvents.length > 0 && isCacheValid()) {\n                setUpcomingEvents(cache.upcomingEvents);\n                return;\n            }\n            setEventsLoading(true);\n            setError(null);\n            setDashboardError(null);\n            const context = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.createErrorContext)('useVendorDashboard', 'fetchUpcomingEvents', user === null || user === void 0 ? void 0 : user.id, vendorId);\n            try {\n                const events = await (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.retryOperation)({\n                    \"useVendorDashboard.useCallback[fetchUpcomingEvents]\": async ()=>{\n                        // Get today's date in YYYY-MM-DD format\n                        const today = new Date().toISOString().split('T')[0];\n                        const { data: bookedInquiries, error } = await supabase.from(\"vendor_inquiries\").select(\"\\n            id,\\n            client_name,\\n            client_email,\\n            event_type,\\n            event_date,\\n            guest_count,\\n            location,\\n            budget_range,\\n            message,\\n            created_at\\n          \").eq(\"vendor_id\", vendorId).eq(\"status\", \"booked\").gte(\"event_date\", today).order(\"event_date\", {\n                            ascending: true\n                        }).limit(10);\n                        if (error) throw error;\n                        const formattedEvents = (bookedInquiries || []).map({\n                            \"useVendorDashboard.useCallback[fetchUpcomingEvents].formattedEvents\": (inquiry)=>({\n                                    id: inquiry.id,\n                                    clientName: inquiry.client_name || \"Anonymous\",\n                                    clientEmail: inquiry.client_email || \"\",\n                                    eventType: inquiry.event_type || \"Event\",\n                                    eventDate: inquiry.event_date,\n                                    startTime: undefined,\n                                    endTime: undefined,\n                                    location: inquiry.location || undefined,\n                                    guestCount: inquiry.guest_count || undefined,\n                                    budgetAmount: inquiry.budget_range ? parseBudgetRange(inquiry.budget_range) || undefined : undefined,\n                                    status: \"confirmed\",\n                                    notes: inquiry.message || undefined,\n                                    createdAt: inquiry.created_at\n                                })\n                        }[\"useVendorDashboard.useCallback[fetchUpcomingEvents].formattedEvents\"]);\n                        return formattedEvents;\n                    }\n                }[\"useVendorDashboard.useCallback[fetchUpcomingEvents]\"], 3, 1000, context);\n                setUpcomingEvents(events);\n                // Update cache\n                setCache({\n                    \"useVendorDashboard.useCallback[fetchUpcomingEvents]\": (prev)=>({\n                            ...prev,\n                            upcomingEvents: events,\n                            timestamp: Date.now()\n                        })\n                }[\"useVendorDashboard.useCallback[fetchUpcomingEvents]\"]);\n            } catch (err) {\n                const dashboardError = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.handleSupabaseError)(err, context);\n                setError(dashboardError.userMessage);\n                setDashboardError(dashboardError);\n                console.error(\"Error fetching upcoming events:\", dashboardError);\n            } finally{\n                setEventsLoading(false);\n            }\n        }\n    }[\"useVendorDashboard.useCallback[fetchUpcomingEvents]\"], [\n        vendorId,\n        cache.upcomingEvents,\n        isCacheValid,\n        supabase,\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    // Calculate profile completion with enhanced error handling\n    const calculateProfileCompletion = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[calculateProfileCompletion]\": async function() {\n            let forceRefresh = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n            if (!(user === null || user === void 0 ? void 0 : user.id)) return;\n            // Use cache if valid and not forcing refresh\n            if (!forceRefresh && cache.profileCompletion > 0 && isCacheValid()) {\n                setProfileCompletion(cache.profileCompletion);\n                return;\n            }\n            setProfileLoading(true);\n            setError(null);\n            setDashboardError(null);\n            const context = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.createErrorContext)('useVendorDashboard', 'calculateProfileCompletion', user.id);\n            try {\n                const completionPercentage = await (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.retryOperation)({\n                    \"useVendorDashboard.useCallback[calculateProfileCompletion]\": async ()=>{\n                        const { data: profile, error } = await supabase.from(\"vendor_profiles\").select(\"\\n            business_name,\\n            description,\\n            logo_url,\\n            business_category,\\n            event_types\\n          \").eq(\"user_id\", user.id).single();\n                        if (error) throw error;\n                        if (!profile) {\n                            return 0;\n                        }\n                        const requiredFields = [\n                            \"business_name\",\n                            \"description\",\n                            \"business_category\"\n                        ];\n                        const completedFields = requiredFields.filter({\n                            \"useVendorDashboard.useCallback[calculateProfileCompletion].completedFields\": (field)=>{\n                                const value = profile[field];\n                                return value && value.toString().trim() !== \"\";\n                            }\n                        }[\"useVendorDashboard.useCallback[calculateProfileCompletion].completedFields\"]);\n                        return Math.round(completedFields.length / requiredFields.length * 100);\n                    }\n                }[\"useVendorDashboard.useCallback[calculateProfileCompletion]\"], 2, 1000, context);\n                setProfileCompletion(completionPercentage);\n                // Update cache\n                setCache({\n                    \"useVendorDashboard.useCallback[calculateProfileCompletion]\": (prev)=>({\n                            ...prev,\n                            profileCompletion: completionPercentage,\n                            timestamp: Date.now()\n                        })\n                }[\"useVendorDashboard.useCallback[calculateProfileCompletion]\"]);\n            } catch (err) {\n                const dashboardError = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.handleSupabaseError)(err, context);\n                setError(dashboardError.userMessage);\n                setDashboardError(dashboardError);\n                console.error(\"Error calculating profile completion:\", dashboardError);\n                setProfileCompletion(0);\n            } finally{\n                setProfileLoading(false);\n            }\n        }\n    }[\"useVendorDashboard.useCallback[calculateProfileCompletion]\"], [\n        user === null || user === void 0 ? void 0 : user.id,\n        cache.profileCompletion,\n        isCacheValid,\n        supabase\n    ]);\n    // Calculate monthly growth with enhanced error handling\n    const calculateMonthlyGrowth = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[calculateMonthlyGrowth]\": async function() {\n            let forceRefresh = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n            if (!vendorId) {\n                console.log(\"Cannot calculate monthly growth: no vendor ID available\");\n                return;\n            }\n            // Use cache if valid and not forcing refresh\n            if (!forceRefresh && cache.monthlyGrowth !== 0 && isCacheValid()) {\n                setMonthlyGrowth(cache.monthlyGrowth);\n                return;\n            }\n            setGrowthLoading(true);\n            setError(null);\n            setDashboardError(null);\n            const context = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.createErrorContext)('useVendorDashboard', 'calculateMonthlyGrowth', user === null || user === void 0 ? void 0 : user.id, vendorId);\n            try {\n                const growth = await (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.retryOperation)({\n                    \"useVendorDashboard.useCallback[calculateMonthlyGrowth]\": async ()=>{\n                        const now = new Date();\n                        const lastMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n                        const thisMonth = new Date(now.getFullYear(), now.getMonth(), 1);\n                        // Get profile views for last month\n                        const { data: lastMonthData, error: lastMonthError } = await supabase.from(\"vendor_analytics\").select(\"profile_views\").eq(\"vendor_id\", vendorId).gte(\"date\", lastMonth.toISOString().split('T')[0]).lt(\"date\", thisMonth.toISOString().split('T')[0]);\n                        if (lastMonthError) throw lastMonthError;\n                        // Get profile views for this month\n                        const { data: thisMonthData, error: thisMonthError } = await supabase.from(\"vendor_analytics\").select(\"profile_views\").eq(\"vendor_id\", vendorId).gte(\"date\", thisMonth.toISOString().split('T')[0]);\n                        if (thisMonthError) throw thisMonthError;\n                        const lastMonthViews = (lastMonthData === null || lastMonthData === void 0 ? void 0 : lastMonthData.reduce({\n                            \"useVendorDashboard.useCallback[calculateMonthlyGrowth]\": (sum, record)=>sum + (record.profile_views || 0)\n                        }[\"useVendorDashboard.useCallback[calculateMonthlyGrowth]\"], 0)) || 0;\n                        const thisMonthViews = (thisMonthData === null || thisMonthData === void 0 ? void 0 : thisMonthData.reduce({\n                            \"useVendorDashboard.useCallback[calculateMonthlyGrowth]\": (sum, record)=>sum + (record.profile_views || 0)\n                        }[\"useVendorDashboard.useCallback[calculateMonthlyGrowth]\"], 0)) || 0;\n                        return lastMonthViews > 0 ? Math.round((thisMonthViews - lastMonthViews) / lastMonthViews * 100) : 0;\n                    }\n                }[\"useVendorDashboard.useCallback[calculateMonthlyGrowth]\"], 2, 1000, context);\n                setMonthlyGrowth(growth);\n                // Update cache\n                setCache({\n                    \"useVendorDashboard.useCallback[calculateMonthlyGrowth]\": (prev)=>({\n                            ...prev,\n                            monthlyGrowth: growth,\n                            timestamp: Date.now()\n                        })\n                }[\"useVendorDashboard.useCallback[calculateMonthlyGrowth]\"]);\n            } catch (err) {\n                const dashboardError = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.handleSupabaseError)(err, context);\n                setError(dashboardError.userMessage);\n                setDashboardError(dashboardError);\n                console.error(\"Error calculating monthly growth:\", dashboardError);\n                setMonthlyGrowth(0);\n            } finally{\n                setGrowthLoading(false);\n            }\n        }\n    }[\"useVendorDashboard.useCallback[calculateMonthlyGrowth]\"], [\n        vendorId,\n        cache.monthlyGrowth,\n        isCacheValid,\n        supabase,\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    // Utility function to calculate average response time\n    const calculateAverageResponseTime = (responseTimes)=>{\n        if (responseTimes.length === 0) return \"N/A\";\n        const totalHours = responseTimes.reduce((total, inquiry)=>{\n            const created = new Date(inquiry.created_at);\n            const responded = new Date(inquiry.responded_at);\n            const diffHours = (responded.getTime() - created.getTime()) / (1000 * 60 * 60);\n            return total + diffHours;\n        }, 0);\n        const avgHours = totalHours / responseTimes.length;\n        if (avgHours < 1) {\n            return \"\".concat(Math.round(avgHours * 60), \" minutes\");\n        } else if (avgHours < 24) {\n            return \"\".concat(avgHours.toFixed(1), \" hours\");\n        } else {\n            return \"\".concat(Math.round(avgHours / 24), \" days\");\n        }\n    };\n    // Parse budget range string to numeric value\n    const parseBudgetRange = (budgetRange)=>{\n        try {\n            // Extract the first number from ranges like \"€5000-€10000\"\n            const match = budgetRange.match(/[\\d,]+/);\n            if (match) {\n                return parseFloat(match[0].replace(/,/g, \"\"));\n            }\n            return null;\n        } catch (e) {\n            return null;\n        }\n    };\n    // Setup real-time subscriptions with error handling\n    const setupRealTimeSubscriptions = async ()=>{\n        if (!vendorId) {\n            console.log(\"Cannot setup real-time subscriptions: no vendor ID available\");\n            return;\n        }\n        // Clean up existing subscriptions\n        cleanupSubscriptions();\n        const context = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.createErrorContext)('useVendorDashboard', 'setupRealTimeSubscriptions', user === null || user === void 0 ? void 0 : user.id, vendorId);\n        try {\n            // Subscribe to vendor_inquiries changes\n            const inquiriesSubscription = supabase.channel(\"vendor-inquiries-\".concat(vendorId)).on(\"postgres_changes\", {\n                event: \"*\",\n                schema: \"public\",\n                table: \"vendor_inquiries\",\n                filter: \"vendor_id=eq.\".concat(vendorId)\n            }, (payload)=>{\n                console.log(\"Inquiries real-time update:\", payload);\n                // Refetch both stats and recent inquiries when inquiries change\n                fetchVendorStats(true); // Force refresh\n                fetchRecentInquiries(true); // Force refresh\n            }).subscribe();\n            // Subscribe to vendor_inquiries changes for upcoming events (booked inquiries)\n            const bookedInquiriesSubscription = supabase.channel(\"vendor-inquiries-booked-\".concat(vendorId)).on(\"postgres_changes\", {\n                event: \"*\",\n                schema: \"public\",\n                table: \"vendor_inquiries\",\n                filter: \"vendor_id=eq.\".concat(vendorId)\n            }, (payload)=>{\n                console.log(\"Booked inquiries real-time update:\", payload);\n                // Refetch stats and upcoming events when booked inquiries change\n                fetchVendorStats(true); // Force refresh\n                fetchUpcomingEvents(true); // Force refresh\n            }).subscribe();\n            // Subscribe to vendor_analytics changes\n            const analyticsSubscription = supabase.channel(\"vendor-analytics-\".concat(vendorId)).on(\"postgres_changes\", {\n                event: \"*\",\n                schema: \"public\",\n                table: \"vendor_analytics\",\n                filter: \"vendor_id=eq.\".concat(vendorId)\n            }, (payload)=>{\n                console.log(\"Analytics real-time update:\", payload);\n                // Refetch stats and monthly growth when analytics change\n                fetchVendorStats(true); // Force refresh\n                calculateMonthlyGrowth(true); // Force refresh\n            }).subscribe();\n            // Subscribe to vendor_profiles changes\n            const profileSubscription = supabase.channel(\"vendor-profile-\".concat(user === null || user === void 0 ? void 0 : user.id)).on(\"postgres_changes\", {\n                event: \"*\",\n                schema: \"public\",\n                table: \"vendor_profiles\",\n                filter: \"user_id=eq.\".concat(user === null || user === void 0 ? void 0 : user.id)\n            }, (payload)=>{\n                console.log(\"Profile real-time update:\", payload);\n                // Refetch profile completion when profile changes\n                calculateProfileCompletion(true); // Force refresh\n            }).subscribe();\n            // Store subscriptions for cleanup\n            subscriptionsRef.current = [\n                inquiriesSubscription,\n                bookedInquiriesSubscription,\n                analyticsSubscription,\n                profileSubscription\n            ];\n            console.log(\"Real-time subscriptions established for vendor:\", vendorId);\n        } catch (err) {\n            const dashboardError = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.handleSupabaseError)(err, context);\n            console.error(\"Error setting up real-time subscriptions:\", dashboardError);\n        // Don't set global error for real-time connection issues\n        // Just log it and continue with static data\n        }\n    };\n    // Cleanup subscriptions\n    const cleanupSubscriptions = ()=>{\n        subscriptionsRef.current.forEach((subscription)=>{\n            if (subscription) {\n                supabase.removeChannel(subscription);\n            }\n        });\n        subscriptionsRef.current = [];\n    };\n    // Load all data with enhanced error handling\n    const loadDashboardData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[loadDashboardData]\": async function() {\n            let forceRefresh = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n            if (!vendorId) {\n                console.log(\"Cannot load dashboard data: no vendor ID available\");\n                setError(\"Vendor profile not found. This dashboard requires a vendor account. Please complete vendor onboarding or contact support if you believe this is an error.\");\n                setLoading(false);\n                return;\n            }\n            setLoading(true);\n            setError(null);\n            setDashboardError(null);\n            // Check if we can use cache for initial load\n            if (!forceRefresh && isCacheValid() && cache.stats && cache.inquiries.length > 0) {\n                setVendorStats(cache.stats);\n                setRecentInquiries(cache.inquiries);\n                setUpcomingEvents(cache.upcomingEvents);\n                setProfileCompletion(cache.profileCompletion);\n                setMonthlyGrowth(cache.monthlyGrowth);\n                setLoading(false);\n                return;\n            }\n            try {\n                await Promise.all([\n                    fetchVendorStats(forceRefresh),\n                    fetchRecentInquiries(forceRefresh),\n                    fetchUpcomingEvents(forceRefresh),\n                    calculateProfileCompletion(forceRefresh),\n                    calculateMonthlyGrowth(forceRefresh)\n                ]);\n            } catch (err) {\n                const context = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.createErrorContext)('useVendorDashboard', 'loadDashboardData', (user === null || user === void 0 ? void 0 : user.id) || undefined, vendorId || undefined);\n                const dashboardError = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_3__.handleSupabaseError)(err, context);\n                setError(dashboardError.userMessage);\n                setDashboardError(dashboardError);\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useVendorDashboard.useCallback[loadDashboardData]\"], [\n        fetchVendorStats,\n        fetchRecentInquiries,\n        fetchUpcomingEvents,\n        calculateProfileCompletion,\n        calculateMonthlyGrowth,\n        isCacheValid,\n        cache,\n        user === null || user === void 0 ? void 0 : user.id,\n        vendorId\n    ]);\n    // Selective refresh functions for better UX\n    const refreshStats = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[refreshStats]\": ()=>{\n            return fetchVendorStats(true);\n        }\n    }[\"useVendorDashboard.useCallback[refreshStats]\"], [\n        fetchVendorStats\n    ]);\n    const refreshInquiries = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[refreshInquiries]\": ()=>{\n            return fetchRecentInquiries(true);\n        }\n    }[\"useVendorDashboard.useCallback[refreshInquiries]\"], [\n        fetchRecentInquiries\n    ]);\n    const refreshEvents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[refreshEvents]\": ()=>{\n            return fetchUpcomingEvents(true);\n        }\n    }[\"useVendorDashboard.useCallback[refreshEvents]\"], [\n        fetchUpcomingEvents\n    ]);\n    const refreshProfileData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[refreshProfileData]\": ()=>{\n            return Promise.all([\n                calculateProfileCompletion(true),\n                calculateMonthlyGrowth(true)\n            ]);\n        }\n    }[\"useVendorDashboard.useCallback[refreshProfileData]\"], [\n        calculateProfileCompletion,\n        calculateMonthlyGrowth\n    ]);\n    // Smart refresh that only refreshes dynamic data\n    const smartRefresh = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorDashboard.useCallback[smartRefresh]\": ()=>{\n            // Only refresh data that changes frequently\n            return Promise.all([\n                refreshStats(),\n                refreshInquiries(),\n                refreshEvents(),\n                refreshProfileData()\n            ]);\n        }\n    }[\"useVendorDashboard.useCallback[smartRefresh]\"], [\n        refreshStats,\n        refreshInquiries,\n        refreshEvents,\n        refreshProfileData\n    ]);\n    // Initialize vendor ID and setup\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useVendorDashboard.useEffect\": ()=>{\n            const initializeVendor = {\n                \"useVendorDashboard.useEffect.initializeVendor\": async ()=>{\n                    if (!user) {\n                        console.log(\"No user available for vendor initialization\");\n                        return;\n                    }\n                    if (!user.id) {\n                        console.log(\"User exists but no ID available\");\n                        return;\n                    }\n                    console.log(\"Initializing vendor for user:\", user.id);\n                    try {\n                        const id = await getVendorId();\n                        console.log(\"Vendor ID result:\", id);\n                        setVendorId(id);\n                    } catch (error) {\n                        console.error(\"Error during vendor initialization:\", error);\n                        setError(\"Failed to initialize vendor dashboard. Please try refreshing the page.\");\n                        setLoading(false);\n                    }\n                }\n            }[\"useVendorDashboard.useEffect.initializeVendor\"];\n            initializeVendor();\n        }\n    }[\"useVendorDashboard.useEffect\"], [\n        user\n    ]);\n    // Setup real-time subscriptions when vendor ID is available\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useVendorDashboard.useEffect\": ()=>{\n            if (vendorId) {\n                setupRealTimeSubscriptions();\n            }\n            // Cleanup on unmount or when vendor ID changes\n            return ({\n                \"useVendorDashboard.useEffect\": ()=>{\n                    cleanupSubscriptions();\n                }\n            })[\"useVendorDashboard.useEffect\"];\n        }\n    }[\"useVendorDashboard.useEffect\"], [\n        vendorId\n    ]);\n    // Load data when vendor ID is available\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useVendorDashboard.useEffect\": ()=>{\n            if (vendorId) {\n                console.log(\"Loading dashboard data for vendor:\", vendorId);\n                loadDashboardData();\n            } else if (vendorId === null && (user === null || user === void 0 ? void 0 : user.id)) {\n                // Vendor ID is null but user exists - this means user is not a vendor\n                console.log(\"User is not a vendor, setting error state\");\n                setError(\"Vendor profile not found. This dashboard is only available for vendor accounts. If you believe this is an error, please complete vendor onboarding or contact support.\");\n                setLoading(false);\n            }\n        }\n    }[\"useVendorDashboard.useEffect\"], [\n        vendorId,\n        loadDashboardData,\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    return {\n        vendorStats,\n        recentInquiries,\n        upcomingEvents,\n        profileCompletion,\n        monthlyGrowth,\n        loading,\n        statsLoading,\n        inquiriesLoading,\n        eventsLoading,\n        profileLoading,\n        growthLoading,\n        error,\n        dashboardError,\n        refetch: smartRefresh,\n        refreshStats,\n        refreshInquiries,\n        refreshEvents,\n        refreshProfileData\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VWZW5kb3JEYXNoYm9hcmQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlFO0FBQ0o7QUFDWjtBQVFwQjtBQWdEN0IsNEJBQTRCO0FBQzVCLE1BQU1TLGlCQUFpQixJQUFJLEtBQUs7QUFFaEM7Ozs7Ozs7Ozs7Ozs7OztDQWVDLEdBQ00sU0FBU0M7SUFDZCxNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHTiw4REFBT0E7SUFDeEIsTUFBTSxDQUFDTyxhQUFhQyxlQUFlLEdBQUdiLCtDQUFRQSxDQUFxQjtJQUNuRSxNQUFNLENBQUNjLGlCQUFpQkMsbUJBQW1CLEdBQUdmLCtDQUFRQSxDQUFrQixFQUFFO0lBQzFFLE1BQU0sQ0FBQ2dCLGdCQUFnQkMsa0JBQWtCLEdBQUdqQiwrQ0FBUUEsQ0FBa0IsRUFBRTtJQUN4RSxNQUFNLENBQUNrQixtQkFBbUJDLHFCQUFxQixHQUFHbkIsK0NBQVFBLENBQUM7SUFDM0QsTUFBTSxDQUFDb0IsZUFBZUMsaUJBQWlCLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUVuRCwwQ0FBMEM7SUFDMUMsTUFBTSxDQUFDc0IsY0FBY0MsZ0JBQWdCLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUN3QixrQkFBa0JDLG9CQUFvQixHQUFHekIsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDMEIsZUFBZUMsaUJBQWlCLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUM0QixnQkFBZ0JDLGtCQUFrQixHQUFHN0IsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDOEIsZUFBZUMsaUJBQWlCLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUVuRCx3QkFBd0I7SUFDeEIsTUFBTSxDQUFDZ0MsU0FBU0MsV0FBVyxHQUFHakMsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDa0MsT0FBT0MsU0FBUyxHQUFHbkMsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQ29DLGdCQUFn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RHVKO1lBQ0YsT0FBTyxJQUFJdkosYUFBYSxTQUFRaEMsaUJBQUFBLDJCQUFBQSxLQUFNd0MsRUFBRSxHQUFFO2dCQUN4QyxzRUFBc0U7Z0JBQ3RFQyxRQUFRQyxHQUFHLENBQUM7Z0JBQ1psQixTQUFTO2dCQUNURixXQUFXO1lBQ2I7UUFDRjt1Q0FBRztRQUFDVTtRQUFVdUo7UUFBbUJ2TCxpQkFBQUEsMkJBQUFBLEtBQU13QyxFQUFFO0tBQUM7SUFFMUMsT0FBTztRQUNMdkM7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQVk7UUFDQVY7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUk7UUFDQUU7UUFDQXVLLFNBQVNGO1FBQ1RKO1FBQ0FDO1FBQ0FDO1FBQ0FDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2RhdmlkYmFsaWFuL0Rlc2t0b3AvbW9tZW50bW9pLXZvaWQvc3JjL2hvb2tzL3VzZVZlbmRvckRhc2hib2FyZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2VcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiQC9jb250ZXh0cy9BdXRoQ29udGV4dFwiO1xuaW1wb3J0IHR5cGUgeyBSZWFsdGltZUNoYW5uZWwgfSBmcm9tIFwiQHN1cGFiYXNlL3N1cGFiYXNlLWpzXCI7XG5pbXBvcnQgeyBcbiAgaGFuZGxlU3VwYWJhc2VFcnJvciwgXG4gIGNyZWF0ZUVycm9yQ29udGV4dCwgXG4gIHJldHJ5T3BlcmF0aW9uLFxuICBEQVNIQk9BUkRfRVJST1JfTUVTU0FHRVMsXG4gIHR5cGUgRGFzaGJvYXJkRXJyb3IgXG59IGZyb20gXCJAL2xpYi9lcnJvci1oYW5kbGVyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVuZG9yU3RhdHMge1xuICB0b3RhbElucXVpcmllczogbnVtYmVyO1xuICBwZW5kaW5nSW5xdWlyaWVzOiBudW1iZXI7XG4gIHRvdGFsQm9va2luZ3M6IG51bWJlcjtcbiAgcHJvZmlsZVZpZXdzOiBudW1iZXI7XG4gIHJlc3BvbnNlUmF0ZTogbnVtYmVyO1xuICBhdmdSZXNwb25zZVRpbWU6IHN0cmluZztcbiAgYnVzaW5lc3NOYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVjZW50SW5xdWlyeSB7XG4gIGlkOiBzdHJpbmc7XG4gIGNsaWVudE5hbWU6IHN0cmluZztcbiAgZXZlbnRUeXBlOiBzdHJpbmc7XG4gIGV2ZW50RGF0ZTogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHN0YXR1czogXCJuZXdcIiB8IFwicmVzcG9uZGVkXCIgfCBcImJvb2tlZFwiIHwgXCJkZWNsaW5lZFwiIHwgXCJhcmNoaXZlZFwiO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGNvbWluZ0V2ZW50IHtcbiAgaWQ6IHN0cmluZztcbiAgY2xpZW50TmFtZTogc3RyaW5nO1xuICBjbGllbnRFbWFpbDogc3RyaW5nO1xuICBldmVudFR5cGU6IHN0cmluZztcbiAgZXZlbnREYXRlOiBzdHJpbmc7XG4gIHN0YXJ0VGltZT86IHN0cmluZztcbiAgZW5kVGltZT86IHN0cmluZztcbiAgbG9jYXRpb24/OiBzdHJpbmc7XG4gIGd1ZXN0Q291bnQ/OiBudW1iZXI7XG4gIGJ1ZGdldEFtb3VudD86IG51bWJlcjtcbiAgc3RhdHVzOiBcImNvbmZpcm1lZFwiIHwgXCJwZW5kaW5nXCIgfCBcImNhbmNlbGxlZFwiO1xuICBub3Rlcz86IHN0cmluZztcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG59XG5cbi8vIENhY2hlIGludGVyZmFjZVxuaW50ZXJmYWNlIERhc2hib2FyZENhY2hlIHtcbiAgc3RhdHM6IFZlbmRvclN0YXRzIHwgbnVsbDtcbiAgaW5xdWlyaWVzOiBSZWNlbnRJbnF1aXJ5W107XG4gIHVwY29taW5nRXZlbnRzOiBVcGNvbWluZ0V2ZW50W107XG4gIHByb2ZpbGVDb21wbGV0aW9uOiBudW1iZXI7XG4gIG1vbnRobHlHcm93dGg6IG51bWJlcjtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbi8vIENhY2hlIGR1cmF0aW9uOiA1IG1pbnV0ZXNcbmNvbnN0IENBQ0hFX0RVUkFUSU9OID0gNSAqIDYwICogMTAwMDtcblxuLyoqXG4gKiBWZW5kb3IgRGFzaGJvYXJkIEhvb2tcbiAqIFxuICogVGhpcyBob29rIGlzIGRlc2lnbmVkIHNwZWNpZmljYWxseSBmb3IgdmVuZG9yIGFjY291bnRzLiBJdCB3aWxsOlxuICogMS4gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgdXNlciBoYXMgYSB2ZW5kb3IgcHJvZmlsZVxuICogMi4gTG9hZCB2ZW5kb3Itc3BlY2lmaWMgZGFzaGJvYXJkIGRhdGEgKHN0YXRzLCBpbnF1aXJpZXMsIGV2ZW50cywgZXRjLilcbiAqIDMuIFNldCB1cCByZWFsLXRpbWUgc3Vic2NyaXB0aW9ucyBmb3IgdmVuZG9yIGRhdGFcbiAqIDQuIFByb3ZpZGUgYXBwcm9wcmlhdGUgZXJyb3IgbWVzc2FnZXMgZm9yIG5vbi12ZW5kb3IgdXNlcnNcbiAqIFxuICogRXhwZWN0ZWQgYmVoYXZpb3IgZm9yIG5vbi12ZW5kb3IgdXNlcnM6XG4gKiAtIFdpbGwgc2hvdyBhbiBlcnJvciBtZXNzYWdlIGluZGljYXRpbmcgdmVuZG9yIHByb2ZpbGUgaXMgcmVxdWlyZWRcbiAqIC0gV2lsbCBub3QgYXR0ZW1wdCB0byBsb2FkIHZlbmRvci1zcGVjaWZpYyBkYXRhXG4gKiAtIFdpbGwgbm90IHNldCB1cCByZWFsLXRpbWUgc3Vic2NyaXB0aW9uc1xuICogXG4gKiBAcmV0dXJucyBWZW5kb3IgZGFzaGJvYXJkIGRhdGEgYW5kIHN0YXRlIG1hbmFnZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVZlbmRvckRhc2hib2FyZCgpIHtcbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IFt2ZW5kb3JTdGF0cywgc2V0VmVuZG9yU3RhdHNdID0gdXNlU3RhdGU8VmVuZG9yU3RhdHMgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3JlY2VudElucXVpcmllcywgc2V0UmVjZW50SW5xdWlyaWVzXSA9IHVzZVN0YXRlPFJlY2VudElucXVpcnlbXT4oW10pO1xuICBjb25zdCBbdXBjb21pbmdFdmVudHMsIHNldFVwY29taW5nRXZlbnRzXSA9IHVzZVN0YXRlPFVwY29taW5nRXZlbnRbXT4oW10pO1xuICBjb25zdCBbcHJvZmlsZUNvbXBsZXRpb24sIHNldFByb2ZpbGVDb21wbGV0aW9uXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbbW9udGhseUdyb3d0aCwgc2V0TW9udGhseUdyb3d0aF0gPSB1c2VTdGF0ZSgwKTtcbiAgXG4gIC8vIEluZGl2aWR1YWwgbG9hZGluZyBzdGF0ZXMgZm9yIGJldHRlciBVWFxuICBjb25zdCBbc3RhdHNMb2FkaW5nLCBzZXRTdGF0c0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaW5xdWlyaWVzTG9hZGluZywgc2V0SW5xdWlyaWVzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtldmVudHNMb2FkaW5nLCBzZXRFdmVudHNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Byb2ZpbGVMb2FkaW5nLCBzZXRQcm9maWxlTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtncm93dGhMb2FkaW5nLCBzZXRHcm93dGhMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIE92ZXJhbGwgbG9hZGluZyBzdGF0ZVxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Rhc2hib2FyZEVycm9yLCBzZXREYXNoYm9hcmRFcnJvcl0gPSB1c2VTdGF0ZTxEYXNoYm9hcmRFcnJvciB8IG51bGw+KG51bGwpO1xuICBcbiAgLy8gQ2FjaGUgc3RhdGVcbiAgY29uc3QgW2NhY2hlLCBzZXRDYWNoZV0gPSB1c2VTdGF0ZTxEYXNoYm9hcmRDYWNoZT4oe1xuICAgIHN0YXRzOiBudWxsLFxuICAgIGlucXVpcmllczogW10sXG4gICAgdXBjb21pbmdFdmVudHM6IFtdLFxuICAgIHByb2ZpbGVDb21wbGV0aW9uOiAwLFxuICAgIG1vbnRobHlHcm93dGg6IDAsXG4gICAgdGltZXN0YW1wOiAwLFxuICB9KTtcbiAgXG4gIC8vIFRyYWNrIHZlbmRvciBJRCBmb3IgcmVhbC10aW1lIHN1YnNjcmlwdGlvbnNcbiAgY29uc3QgW3ZlbmRvcklkLCBzZXRWZW5kb3JJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uc1JlZiA9IHVzZVJlZjxSZWFsdGltZUNoYW5uZWxbXT4oW10pO1xuXG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50KCk7XG5cbiAgLy8gQ2hlY2sgaWYgY2FjaGUgaXMgdmFsaWRcbiAgY29uc3QgaXNDYWNoZVZhbGlkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBEYXRlLm5vdygpIC0gY2FjaGUudGltZXN0YW1wIDwgQ0FDSEVfRFVSQVRJT047XG4gIH0sIFtjYWNoZS50aW1lc3RhbXBdKTtcblxuICAvLyBHZXQgdmVuZG9yIHByb2ZpbGUgSUQgd2l0aCBlcnJvciBoYW5kbGluZ1xuICBjb25zdCBnZXRWZW5kb3JJZCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXI/LmlkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIk5vIHVzZXIgSUQgYXZhaWxhYmxlIGZvciB2ZW5kb3IgcHJvZmlsZSBsb29rdXBcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlRXJyb3JDb250ZXh0KCd1c2VWZW5kb3JEYXNoYm9hcmQnLCAnZ2V0VmVuZG9ySWQnLCB1c2VyLmlkKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBGaXJzdCBjaGVjayBpZiB1c2VyIGhhcyBhIHByb2ZpbGUgYW5kIGlzIGEgdmVuZG9yXG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXJQcm9maWxlLCBlcnJvcjogdXNlclByb2ZpbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJwcm9maWxlc1wiKVxuICAgICAgICAuc2VsZWN0KFwidXNlcl90eXBlXCIpXG4gICAgICAgIC5lcShcImlkXCIsIHVzZXIuaWQpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKHVzZXJQcm9maWxlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgdXNlciBwcm9maWxlOlwiLCB7XG4gICAgICAgICAgZXJyb3I6IHVzZXJQcm9maWxlRXJyb3IsXG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXVzZXJQcm9maWxlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyB1c2VyIHByb2ZpbGUgZm91bmQgZm9yIHVzZXI6XCIsIHVzZXIuaWQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHVzZXJQcm9maWxlLnVzZXJfdHlwZSAhPT0gJ3ZlbmRvcicpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGlzIG5vdCBhIHZlbmRvciwgdXNlcl90eXBlOlwiLCB1c2VyUHJvZmlsZS51c2VyX3R5cGUpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gTm93IGdldCB0aGUgdmVuZG9yIHByb2ZpbGVcbiAgICAgIGNvbnN0IHsgZGF0YTogdmVuZG9yUHJvZmlsZSwgZXJyb3I6IHByb2ZpbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2ZW5kb3JfcHJvZmlsZXNcIilcbiAgICAgICAgLnNlbGVjdChcImlkXCIpXG4gICAgICAgIC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAocHJvZmlsZUVycm9yKSB7XG4gICAgICAgIGNvbnN0IGRhc2hib2FyZEVycm9yID0gaGFuZGxlU3VwYWJhc2VFcnJvcihwcm9maWxlRXJyb3IsIGNvbnRleHQpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB2ZW5kb3IgSUQ6XCIsIHtcbiAgICAgICAgICBlcnJvcjogcHJvZmlsZUVycm9yLFxuICAgICAgICAgIGRhc2hib2FyZEVycm9yOiBkYXNoYm9hcmRFcnJvcixcbiAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgdXNlclR5cGU6IHVzZXJQcm9maWxlLnVzZXJfdHlwZSxcbiAgICAgICAgICBjb250ZXh0OiBjb250ZXh0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCF2ZW5kb3JQcm9maWxlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdmVuZG9yIHByb2ZpbGUgZm91bmQgZm9yIHVzZXI6XCIsIHVzZXIuaWQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCJTdWNjZXNzZnVsbHkgZm91bmQgdmVuZG9yIHByb2ZpbGU6XCIsIHZlbmRvclByb2ZpbGUuaWQpO1xuICAgICAgcmV0dXJuIHZlbmRvclByb2ZpbGUuaWQ7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBkYXNoYm9hcmRFcnJvciA9IGhhbmRsZVN1cGFiYXNlRXJyb3IoZXJyLCBjb250ZXh0KTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHZlbmRvciBJRDpcIiwge1xuICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICBkYXNoYm9hcmRFcnJvcjogZGFzaGJvYXJkRXJyb3IsXG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgY29udGV4dDogY29udGV4dFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gRmV0Y2ggdmVuZG9yIHN0YXRpc3RpY3Mgd2l0aCBlbmhhbmNlZCBlcnJvciBoYW5kbGluZ1xuICBjb25zdCBmZXRjaFZlbmRvclN0YXRzID0gdXNlQ2FsbGJhY2soYXN5bmMgKGZvcmNlUmVmcmVzaCA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKCF2ZW5kb3JJZCkge1xuICAgICAgY29uc29sZS5sb2coXCJDYW5ub3QgZmV0Y2ggdmVuZG9yIHN0YXRzOiBubyB2ZW5kb3IgSUQgYXZhaWxhYmxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFVzZSBjYWNoZSBpZiB2YWxpZCBhbmQgbm90IGZvcmNpbmcgcmVmcmVzaFxuICAgIGlmICghZm9yY2VSZWZyZXNoICYmIGNhY2hlLnN0YXRzICYmIGlzQ2FjaGVWYWxpZCgpKSB7XG4gICAgICBzZXRWZW5kb3JTdGF0cyhjYWNoZS5zdGF0cyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0U3RhdHNMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldERhc2hib2FyZEVycm9yKG51bGwpO1xuXG4gICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUVycm9yQ29udGV4dCgndXNlVmVuZG9yRGFzaGJvYXJkJywgJ2ZldGNoVmVuZG9yU3RhdHMnLCB1c2VyPy5pZCwgdmVuZG9ySWQpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgcmV0cnlPcGVyYXRpb24oYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBHZXQgdG90YWwgaW5xdWlyaWVzXG4gICAgICAgIGNvbnN0IHsgY291bnQ6IHRvdGFsSW5xdWlyaWVzLCBlcnJvcjogaW5xdWlyaWVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ2ZW5kb3JfaW5xdWlyaWVzXCIpXG4gICAgICAgICAgLnNlbGVjdChcIipcIiwgeyBjb3VudDogXCJleGFjdFwiLCBoZWFkOiB0cnVlIH0pXG4gICAgICAgICAgLmVxKFwidmVuZG9yX2lkXCIsIHZlbmRvcklkKTtcblxuICAgICAgICBpZiAoaW5xdWlyaWVzRXJyb3IpIHRocm93IGlucXVpcmllc0Vycm9yO1xuXG4gICAgICAgIC8vIEdldCBwZW5kaW5nIGlucXVpcmllcyAobmV3IHN0YXR1cylcbiAgICAgICAgY29uc3QgeyBjb3VudDogcGVuZGluZ0lucXVpcmllcywgZXJyb3I6IHBlbmRpbmdFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcInZlbmRvcl9pbnF1aXJpZXNcIilcbiAgICAgICAgICAuc2VsZWN0KFwiKlwiLCB7IGNvdW50OiBcImV4YWN0XCIsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgICAuZXEoXCJ2ZW5kb3JfaWRcIiwgdmVuZG9ySWQpXG4gICAgICAgICAgLmVxKFwic3RhdHVzXCIsIFwibmV3XCIpO1xuXG4gICAgICAgIGlmIChwZW5kaW5nRXJyb3IpIHRocm93IHBlbmRpbmdFcnJvcjtcblxuICAgICAgICAvLyBHZXQgdG90YWwgYm9va2VkIGlucXVpcmllc1xuICAgICAgICBjb25zdCB7IGNvdW50OiB0b3RhbEJvb2tlZElucXVpcmllcywgZXJyb3I6IGJvb2tlZElucXVpcmllc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKFwidmVuZG9yX2lucXVpcmllc1wiKVxuICAgICAgICAgIC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiwgaGVhZDogdHJ1ZSB9KVxuICAgICAgICAgIC5lcShcInZlbmRvcl9pZFwiLCB2ZW5kb3JJZClcbiAgICAgICAgICAuZXEoXCJzdGF0dXNcIiwgXCJib29rZWRcIik7XG5cbiAgICAgICAgaWYgKGJvb2tlZElucXVpcmllc0Vycm9yKSB0aHJvdyBib29rZWRJbnF1aXJpZXNFcnJvcjtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgcmVzcG9uc2UgcmF0ZVxuICAgICAgICBjb25zdCB7IGNvdW50OiByZXNwb25kZWRJbnF1aXJpZXMsIGVycm9yOiByZXNwb25kZWRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcInZlbmRvcl9pbnF1aXJpZXNcIilcbiAgICAgICAgICAuc2VsZWN0KFwiKlwiLCB7IGNvdW50OiBcImV4YWN0XCIsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgICAuZXEoXCJ2ZW5kb3JfaWRcIiwgdmVuZG9ySWQpXG4gICAgICAgICAgLmluKFwic3RhdHVzXCIsIFtcInJlc3BvbmRlZFwiLCBcImJvb2tlZFwiXSk7XG5cbiAgICAgICAgaWYgKHJlc3BvbmRlZEVycm9yKSB0aHJvdyByZXNwb25kZWRFcnJvcjtcblxuICAgICAgICBjb25zdCByZXNwb25zZVJhdGUgPSB0b3RhbElucXVpcmllc1xuICAgICAgICAgID8gTWF0aC5yb3VuZCgoKHJlc3BvbmRlZElucXVpcmllcyB8fCAwKSAvIHRvdGFsSW5xdWlyaWVzKSAqIDEwMClcbiAgICAgICAgICA6IDA7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGF2ZXJhZ2UgcmVzcG9uc2UgdGltZVxuICAgICAgICBjb25zdCB7IGRhdGE6IHJlc3BvbnNlVGltZXMsIGVycm9yOiByZXNwb25zZVRpbWVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ2ZW5kb3JfaW5xdWlyaWVzXCIpXG4gICAgICAgICAgLnNlbGVjdChcImNyZWF0ZWRfYXQsIHJlc3BvbmRlZF9hdFwiKVxuICAgICAgICAgIC5lcShcInZlbmRvcl9pZFwiLCB2ZW5kb3JJZClcbiAgICAgICAgICAubm90KFwicmVzcG9uZGVkX2F0XCIsIFwiaXNcIiwgbnVsbCk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlVGltZXNFcnJvcikgdGhyb3cgcmVzcG9uc2VUaW1lc0Vycm9yO1xuXG4gICAgICAgIGNvbnN0IGF2Z1Jlc3BvbnNlVGltZSA9IGNhbGN1bGF0ZUF2ZXJhZ2VSZXNwb25zZVRpbWUocmVzcG9uc2VUaW1lcyB8fCBbXSk7XG5cbiAgICAgICAgLy8gR2V0IHByb2ZpbGUgdmlld3MgZnJvbSBhbmFseXRpY3MgdGFibGVcbiAgICAgICAgY29uc3QgeyBkYXRhOiBhbmFseXRpY3NEYXRhLCBlcnJvcjogYW5hbHl0aWNzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ2ZW5kb3JfYW5hbHl0aWNzXCIpXG4gICAgICAgICAgLnNlbGVjdChcInByb2ZpbGVfdmlld3NcIilcbiAgICAgICAgICAuZXEoXCJ2ZW5kb3JfaWRcIiwgdmVuZG9ySWQpXG4gICAgICAgICAgLmd0ZShcImRhdGVcIiwgbmV3IERhdGUobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCBuZXcgRGF0ZSgpLmdldE1vbnRoKCksIDEpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcbiAgICAgICAgICAub3JkZXIoXCJkYXRlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgICAgICBpZiAoYW5hbHl0aWNzRXJyb3IpIHRocm93IGFuYWx5dGljc0Vycm9yO1xuXG4gICAgICAgIC8vIFN1bSB1cCBwcm9maWxlIHZpZXdzIGZvciBjdXJyZW50IG1vbnRoXG4gICAgICAgIGNvbnN0IHRvdGFsUHJvZmlsZVZpZXdzID0gYW5hbHl0aWNzRGF0YT8ucmVkdWNlKChzdW0sIHJlY29yZCkgPT4gc3VtICsgKHJlY29yZC5wcm9maWxlX3ZpZXdzIHx8IDApLCAwKSB8fCAwO1xuXG4gICAgICAgIC8vIEdldCBidXNpbmVzcyBuYW1lIGZyb20gdmVuZG9yIHByb2ZpbGVcbiAgICAgICAgY29uc3QgeyBkYXRhOiB2ZW5kb3JQcm9maWxlLCBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKFwidmVuZG9yX3Byb2ZpbGVzXCIpXG4gICAgICAgICAgLnNlbGVjdChcImJ1c2luZXNzX25hbWVcIilcbiAgICAgICAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXI/LmlkKVxuICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICBpZiAocHJvZmlsZUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiQ291bGQgbm90IGZldGNoIGJ1c2luZXNzIG5hbWU6XCIsIHByb2ZpbGVFcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRvdGFsSW5xdWlyaWVzOiB0b3RhbElucXVpcmllcyB8fCAwLFxuICAgICAgICAgIHBlbmRpbmdJbnF1aXJpZXM6IHBlbmRpbmdJbnF1aXJpZXMgfHwgMCxcbiAgICAgICAgICB0b3RhbEJvb2tpbmdzOiB0b3RhbEJvb2tlZElucXVpcmllcyB8fCAwLFxuICAgICAgICAgIHByb2ZpbGVWaWV3czogdG90YWxQcm9maWxlVmlld3MsXG4gICAgICAgICAgcmVzcG9uc2VSYXRlLFxuICAgICAgICAgIGF2Z1Jlc3BvbnNlVGltZSxcbiAgICAgICAgICBidXNpbmVzc05hbWU6IHZlbmRvclByb2ZpbGU/LmJ1c2luZXNzX25hbWUgfHwgXCJZb3VyIEJ1c2luZXNzXCIsXG4gICAgICAgIH07XG4gICAgICB9LCAzLCAxMDAwLCBjb250ZXh0KTtcblxuICAgICAgc2V0VmVuZG9yU3RhdHMoc3RhdHMpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgY2FjaGVcbiAgICAgIHNldENhY2hlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgc3RhdHMsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH0pKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGRhc2hib2FyZEVycm9yID0gaGFuZGxlU3VwYWJhc2VFcnJvcihlcnIsIGNvbnRleHQpO1xuICAgICAgc2V0RXJyb3IoZGFzaGJvYXJkRXJyb3IudXNlck1lc3NhZ2UpO1xuICAgICAgc2V0RGFzaGJvYXJkRXJyb3IoZGFzaGJvYXJkRXJyb3IpO1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHZlbmRvciBzdGF0czpcIiwgZGFzaGJvYXJkRXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTdGF0c0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3ZlbmRvcklkLCBjYWNoZS5zdGF0cywgaXNDYWNoZVZhbGlkLCBzdXBhYmFzZSwgdXNlcj8uaWRdKTtcblxuICAvLyBGZXRjaCByZWNlbnQgaW5xdWlyaWVzIHdpdGggZW5oYW5jZWQgZXJyb3IgaGFuZGxpbmdcbiAgY29uc3QgZmV0Y2hSZWNlbnRJbnF1aXJpZXMgPSB1c2VDYWxsYmFjayhhc3luYyAoZm9yY2VSZWZyZXNoID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIXZlbmRvcklkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkNhbm5vdCBmZXRjaCByZWNlbnQgaW5xdWlyaWVzOiBubyB2ZW5kb3IgSUQgYXZhaWxhYmxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFVzZSBjYWNoZSBpZiB2YWxpZCBhbmQgbm90IGZvcmNpbmcgcmVmcmVzaFxuICAgIGlmICghZm9yY2VSZWZyZXNoICYmIGNhY2hlLmlucXVpcmllcy5sZW5ndGggPiAwICYmIGlzQ2FjaGVWYWxpZCgpKSB7XG4gICAgICBzZXRSZWNlbnRJbnF1aXJpZXMoY2FjaGUuaW5xdWlyaWVzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJbnF1aXJpZXNMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldERhc2hib2FyZEVycm9yKG51bGwpO1xuXG4gICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUVycm9yQ29udGV4dCgndXNlVmVuZG9yRGFzaGJvYXJkJywgJ2ZldGNoUmVjZW50SW5xdWlyaWVzJywgdXNlcj8uaWQsIHZlbmRvcklkKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbnF1aXJpZXMgPSBhd2FpdCByZXRyeU9wZXJhdGlvbihhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogaW5xdWlyaWVzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcInZlbmRvcl9pbnF1aXJpZXNcIilcbiAgICAgICAgICAuc2VsZWN0KFxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBjcmVhdGVkX2F0LFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgIGV2ZW50X3R5cGUsXG4gICAgICAgICAgICBldmVudF9kYXRlLFxuICAgICAgICAgICAgY2xpZW50X25hbWVcbiAgICAgICAgICBgXG4gICAgICAgICAgKVxuICAgICAgICAgIC5lcShcInZlbmRvcl9pZFwiLCB2ZW5kb3JJZClcbiAgICAgICAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAgIC5saW1pdCg1KTtcblxuICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZElucXVpcmllczogUmVjZW50SW5xdWlyeVtdID0gKGlucXVpcmllcyB8fCBbXSkubWFwKFxuICAgICAgICAgIChpbnF1aXJ5KSA9PiAoe1xuICAgICAgICAgICAgaWQ6IGlucXVpcnkuaWQsXG4gICAgICAgICAgICBjbGllbnROYW1lOiBpbnF1aXJ5LmNsaWVudF9uYW1lIHx8IFwiQW5vbnltb3VzXCIsXG4gICAgICAgICAgICBldmVudFR5cGU6IGlucXVpcnkuZXZlbnRfdHlwZSB8fCBcIkV2ZW50XCIsXG4gICAgICAgICAgICBldmVudERhdGU6IGlucXVpcnkuZXZlbnRfZGF0ZSB8fCBcIlwiLFxuICAgICAgICAgICAgbWVzc2FnZTogaW5xdWlyeS5tZXNzYWdlIHx8IFwiXCIsXG4gICAgICAgICAgICBzdGF0dXM6IGlucXVpcnkuc3RhdHVzIGFzIFwibmV3XCIgfCBcInJlc3BvbmRlZFwiIHwgXCJib29rZWRcIiB8IFwiZGVjbGluZWRcIiB8IFwiYXJjaGl2ZWRcIixcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogaW5xdWlyeS5jcmVhdGVkX2F0LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZElucXVpcmllcztcbiAgICAgIH0sIDMsIDEwMDAsIGNvbnRleHQpO1xuXG4gICAgICBzZXRSZWNlbnRJbnF1aXJpZXMoaW5xdWlyaWVzKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGNhY2hlXG4gICAgICBzZXRDYWNoZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIGlucXVpcmllcyxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZGFzaGJvYXJkRXJyb3IgPSBoYW5kbGVTdXBhYmFzZUVycm9yKGVyciwgY29udGV4dCk7XG4gICAgICBzZXRFcnJvcihkYXNoYm9hcmRFcnJvci51c2VyTWVzc2FnZSk7XG4gICAgICBzZXREYXNoYm9hcmRFcnJvcihkYXNoYm9hcmRFcnJvcik7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcmVjZW50IGlucXVpcmllczpcIiwgZGFzaGJvYXJkRXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJbnF1aXJpZXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFt2ZW5kb3JJZCwgY2FjaGUuaW5xdWlyaWVzLCBpc0NhY2hlVmFsaWQsIHN1cGFiYXNlLCB1c2VyPy5pZF0pO1xuXG4gIC8vIEZldGNoIHVwY29taW5nIGV2ZW50cyB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nXG4gIGNvbnN0IGZldGNoVXBjb21pbmdFdmVudHMgPSB1c2VDYWxsYmFjayhhc3luYyAoZm9yY2VSZWZyZXNoID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIXZlbmRvcklkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkNhbm5vdCBmZXRjaCB1cGNvbWluZyBldmVudHM6IG5vIHZlbmRvciBJRCBhdmFpbGFibGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVXNlIGNhY2hlIGlmIHZhbGlkIGFuZCBub3QgZm9yY2luZyByZWZyZXNoXG4gICAgaWYgKCFmb3JjZVJlZnJlc2ggJiYgY2FjaGUudXBjb21pbmdFdmVudHMubGVuZ3RoID4gMCAmJiBpc0NhY2hlVmFsaWQoKSkge1xuICAgICAgc2V0VXBjb21pbmdFdmVudHMoY2FjaGUudXBjb21pbmdFdmVudHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldEV2ZW50c0xvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgc2V0RGFzaGJvYXJkRXJyb3IobnVsbCk7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlRXJyb3JDb250ZXh0KCd1c2VWZW5kb3JEYXNoYm9hcmQnLCAnZmV0Y2hVcGNvbWluZ0V2ZW50cycsIHVzZXI/LmlkLCB2ZW5kb3JJZCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZXZlbnRzID0gYXdhaXQgcmV0cnlPcGVyYXRpb24oYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBHZXQgdG9kYXkncyBkYXRlIGluIFlZWVktTU0tREQgZm9ybWF0XG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG5cbiAgICAgICAgY29uc3QgeyBkYXRhOiBib29rZWRJbnF1aXJpZXMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKFwidmVuZG9yX2lucXVpcmllc1wiKVxuICAgICAgICAgIC5zZWxlY3QoXG4gICAgICAgICAgICBgXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGNsaWVudF9uYW1lLFxuICAgICAgICAgICAgY2xpZW50X2VtYWlsLFxuICAgICAgICAgICAgZXZlbnRfdHlwZSxcbiAgICAgICAgICAgIGV2ZW50X2RhdGUsXG4gICAgICAgICAgICBndWVzdF9jb3VudCxcbiAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgYnVkZ2V0X3JhbmdlLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXRcbiAgICAgICAgICBgXG4gICAgICAgICAgKVxuICAgICAgICAgIC5lcShcInZlbmRvcl9pZFwiLCB2ZW5kb3JJZClcbiAgICAgICAgICAuZXEoXCJzdGF0dXNcIiwgXCJib29rZWRcIilcbiAgICAgICAgICAuZ3RlKFwiZXZlbnRfZGF0ZVwiLCB0b2RheSlcbiAgICAgICAgICAub3JkZXIoXCJldmVudF9kYXRlXCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG4gICAgICAgICAgLmxpbWl0KDEwKTtcblxuICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZEV2ZW50czogVXBjb21pbmdFdmVudFtdID0gKGJvb2tlZElucXVpcmllcyB8fCBbXSkubWFwKFxuICAgICAgICAgIChpbnF1aXJ5KSA9PiAoe1xuICAgICAgICAgICAgaWQ6IGlucXVpcnkuaWQsXG4gICAgICAgICAgICBjbGllbnROYW1lOiBpbnF1aXJ5LmNsaWVudF9uYW1lIHx8IFwiQW5vbnltb3VzXCIsXG4gICAgICAgICAgICBjbGllbnRFbWFpbDogaW5xdWlyeS5jbGllbnRfZW1haWwgfHwgXCJcIixcbiAgICAgICAgICAgIGV2ZW50VHlwZTogaW5xdWlyeS5ldmVudF90eXBlIHx8IFwiRXZlbnRcIixcbiAgICAgICAgICAgIGV2ZW50RGF0ZTogaW5xdWlyeS5ldmVudF9kYXRlLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiB1bmRlZmluZWQsIC8vIE5vdCBhdmFpbGFibGUgaW4gaW5xdWlyaWVzIHRhYmxlXG4gICAgICAgICAgICBlbmRUaW1lOiB1bmRlZmluZWQsIC8vIE5vdCBhdmFpbGFibGUgaW4gaW5xdWlyaWVzIHRhYmxlXG4gICAgICAgICAgICBsb2NhdGlvbjogaW5xdWlyeS5sb2NhdGlvbiB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICBndWVzdENvdW50OiBpbnF1aXJ5Lmd1ZXN0X2NvdW50IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGJ1ZGdldEFtb3VudDogaW5xdWlyeS5idWRnZXRfcmFuZ2UgPyBwYXJzZUJ1ZGdldFJhbmdlKGlucXVpcnkuYnVkZ2V0X3JhbmdlKSB8fCB1bmRlZmluZWQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdGF0dXM6IFwiY29uZmlybWVkXCIgYXMgY29uc3QsIC8vIEFsbCBib29rZWQgaW5xdWlyaWVzIGFyZSBjb25maXJtZWRcbiAgICAgICAgICAgIG5vdGVzOiBpbnF1aXJ5Lm1lc3NhZ2UgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBpbnF1aXJ5LmNyZWF0ZWRfYXQsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkRXZlbnRzO1xuICAgICAgfSwgMywgMTAwMCwgY29udGV4dCk7XG5cbiAgICAgIHNldFVwY29taW5nRXZlbnRzKGV2ZW50cyk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBjYWNoZVxuICAgICAgc2V0Q2FjaGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICB1cGNvbWluZ0V2ZW50czogZXZlbnRzLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBkYXNoYm9hcmRFcnJvciA9IGhhbmRsZVN1cGFiYXNlRXJyb3IoZXJyLCBjb250ZXh0KTtcbiAgICAgIHNldEVycm9yKGRhc2hib2FyZEVycm9yLnVzZXJNZXNzYWdlKTtcbiAgICAgIHNldERhc2hib2FyZEVycm9yKGRhc2hib2FyZEVycm9yKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1cGNvbWluZyBldmVudHM6XCIsIGRhc2hib2FyZEVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0RXZlbnRzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbdmVuZG9ySWQsIGNhY2hlLnVwY29taW5nRXZlbnRzLCBpc0NhY2hlVmFsaWQsIHN1cGFiYXNlLCB1c2VyPy5pZF0pO1xuXG4gIC8vIENhbGN1bGF0ZSBwcm9maWxlIGNvbXBsZXRpb24gd2l0aCBlbmhhbmNlZCBlcnJvciBoYW5kbGluZ1xuICBjb25zdCBjYWxjdWxhdGVQcm9maWxlQ29tcGxldGlvbiA9IHVzZUNhbGxiYWNrKGFzeW5jIChmb3JjZVJlZnJlc2ggPSBmYWxzZSkgPT4ge1xuICAgIGlmICghdXNlcj8uaWQpIHJldHVybjtcblxuICAgIC8vIFVzZSBjYWNoZSBpZiB2YWxpZCBhbmQgbm90IGZvcmNpbmcgcmVmcmVzaFxuICAgIGlmICghZm9yY2VSZWZyZXNoICYmIGNhY2hlLnByb2ZpbGVDb21wbGV0aW9uID4gMCAmJiBpc0NhY2hlVmFsaWQoKSkge1xuICAgICAgc2V0UHJvZmlsZUNvbXBsZXRpb24oY2FjaGUucHJvZmlsZUNvbXBsZXRpb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFByb2ZpbGVMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldERhc2hib2FyZEVycm9yKG51bGwpO1xuXG4gICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUVycm9yQ29udGV4dCgndXNlVmVuZG9yRGFzaGJvYXJkJywgJ2NhbGN1bGF0ZVByb2ZpbGVDb21wbGV0aW9uJywgdXNlci5pZCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY29tcGxldGlvblBlcmNlbnRhZ2UgPSBhd2FpdCByZXRyeU9wZXJhdGlvbihhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcHJvZmlsZSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ2ZW5kb3JfcHJvZmlsZXNcIilcbiAgICAgICAgICAuc2VsZWN0KFxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgYnVzaW5lc3NfbmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbG9nb191cmwsXG4gICAgICAgICAgICBidXNpbmVzc19jYXRlZ29yeSxcbiAgICAgICAgICAgIGV2ZW50X3R5cGVzXG4gICAgICAgICAgYFxuICAgICAgICAgIClcbiAgICAgICAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cbiAgICAgICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IFtcbiAgICAgICAgICBcImJ1c2luZXNzX25hbWVcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgXCJidXNpbmVzc19jYXRlZ29yeVwiLFxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnN0IGNvbXBsZXRlZEZpZWxkcyA9IHJlcXVpcmVkRmllbGRzLmZpbHRlcihcbiAgICAgICAgICAoZmllbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcHJvZmlsZVtmaWVsZCBhcyBrZXlvZiB0eXBlb2YgcHJvZmlsZV07XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUudG9TdHJpbmcoKS50cmltKCkgIT09IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKFxuICAgICAgICAgIChjb21wbGV0ZWRGaWVsZHMubGVuZ3RoIC8gcmVxdWlyZWRGaWVsZHMubGVuZ3RoKSAqIDEwMFxuICAgICAgICApO1xuICAgICAgfSwgMiwgMTAwMCwgY29udGV4dCk7XG5cbiAgICAgIHNldFByb2ZpbGVDb21wbGV0aW9uKGNvbXBsZXRpb25QZXJjZW50YWdlKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGNhY2hlXG4gICAgICBzZXRDYWNoZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIHByb2ZpbGVDb21wbGV0aW9uOiBjb21wbGV0aW9uUGVyY2VudGFnZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZGFzaGJvYXJkRXJyb3IgPSBoYW5kbGVTdXBhYmFzZUVycm9yKGVyciwgY29udGV4dCk7XG4gICAgICBzZXRFcnJvcihkYXNoYm9hcmRFcnJvci51c2VyTWVzc2FnZSk7XG4gICAgICBzZXREYXNoYm9hcmRFcnJvcihkYXNoYm9hcmRFcnJvcik7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsY3VsYXRpbmcgcHJvZmlsZSBjb21wbGV0aW9uOlwiLCBkYXNoYm9hcmRFcnJvcik7XG4gICAgICBzZXRQcm9maWxlQ29tcGxldGlvbigwKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0UHJvZmlsZUxvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3VzZXI/LmlkLCBjYWNoZS5wcm9maWxlQ29tcGxldGlvbiwgaXNDYWNoZVZhbGlkLCBzdXBhYmFzZV0pO1xuXG4gIC8vIENhbGN1bGF0ZSBtb250aGx5IGdyb3d0aCB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nXG4gIGNvbnN0IGNhbGN1bGF0ZU1vbnRobHlHcm93dGggPSB1c2VDYWxsYmFjayhhc3luYyAoZm9yY2VSZWZyZXNoID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIXZlbmRvcklkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkNhbm5vdCBjYWxjdWxhdGUgbW9udGhseSBncm93dGg6IG5vIHZlbmRvciBJRCBhdmFpbGFibGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVXNlIGNhY2hlIGlmIHZhbGlkIGFuZCBub3QgZm9yY2luZyByZWZyZXNoXG4gICAgaWYgKCFmb3JjZVJlZnJlc2ggJiYgY2FjaGUubW9udGhseUdyb3d0aCAhPT0gMCAmJiBpc0NhY2hlVmFsaWQoKSkge1xuICAgICAgc2V0TW9udGhseUdyb3d0aChjYWNoZS5tb250aGx5R3Jvd3RoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRHcm93dGhMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldERhc2hib2FyZEVycm9yKG51bGwpO1xuXG4gICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUVycm9yQ29udGV4dCgndXNlVmVuZG9yRGFzaGJvYXJkJywgJ2NhbGN1bGF0ZU1vbnRobHlHcm93dGgnLCB1c2VyPy5pZCwgdmVuZG9ySWQpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGdyb3d0aCA9IGF3YWl0IHJldHJ5T3BlcmF0aW9uKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgbGFzdE1vbnRoID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpIC0gMSwgMSk7XG4gICAgICAgIGNvbnN0IHRoaXNNb250aCA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7XG5cbiAgICAgICAgLy8gR2V0IHByb2ZpbGUgdmlld3MgZm9yIGxhc3QgbW9udGhcbiAgICAgICAgY29uc3QgeyBkYXRhOiBsYXN0TW9udGhEYXRhLCBlcnJvcjogbGFzdE1vbnRoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ2ZW5kb3JfYW5hbHl0aWNzXCIpXG4gICAgICAgICAgLnNlbGVjdChcInByb2ZpbGVfdmlld3NcIilcbiAgICAgICAgICAuZXEoXCJ2ZW5kb3JfaWRcIiwgdmVuZG9ySWQpXG4gICAgICAgICAgLmd0ZShcImRhdGVcIiwgbGFzdE1vbnRoLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcbiAgICAgICAgICAubHQoXCJkYXRlXCIsIHRoaXNNb250aC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pO1xuXG4gICAgICAgIGlmIChsYXN0TW9udGhFcnJvcikgdGhyb3cgbGFzdE1vbnRoRXJyb3I7XG5cbiAgICAgICAgLy8gR2V0IHByb2ZpbGUgdmlld3MgZm9yIHRoaXMgbW9udGhcbiAgICAgICAgY29uc3QgeyBkYXRhOiB0aGlzTW9udGhEYXRhLCBlcnJvcjogdGhpc01vbnRoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ2ZW5kb3JfYW5hbHl0aWNzXCIpXG4gICAgICAgICAgLnNlbGVjdChcInByb2ZpbGVfdmlld3NcIilcbiAgICAgICAgICAuZXEoXCJ2ZW5kb3JfaWRcIiwgdmVuZG9ySWQpXG4gICAgICAgICAgLmd0ZShcImRhdGVcIiwgdGhpc01vbnRoLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSk7XG5cbiAgICAgICAgaWYgKHRoaXNNb250aEVycm9yKSB0aHJvdyB0aGlzTW9udGhFcnJvcjtcblxuICAgICAgICBjb25zdCBsYXN0TW9udGhWaWV3cyA9IGxhc3RNb250aERhdGE/LnJlZHVjZSgoc3VtLCByZWNvcmQpID0+IHN1bSArIChyZWNvcmQucHJvZmlsZV92aWV3cyB8fCAwKSwgMCkgfHwgMDtcbiAgICAgICAgY29uc3QgdGhpc01vbnRoVmlld3MgPSB0aGlzTW9udGhEYXRhPy5yZWR1Y2UoKHN1bSwgcmVjb3JkKSA9PiBzdW0gKyAocmVjb3JkLnByb2ZpbGVfdmlld3MgfHwgMCksIDApIHx8IDA7XG5cbiAgICAgICAgcmV0dXJuIGxhc3RNb250aFZpZXdzID4gMFxuICAgICAgICAgID8gTWF0aC5yb3VuZCgoKHRoaXNNb250aFZpZXdzIC0gbGFzdE1vbnRoVmlld3MpIC8gbGFzdE1vbnRoVmlld3MpICogMTAwKVxuICAgICAgICAgIDogMDtcbiAgICAgIH0sIDIsIDEwMDAsIGNvbnRleHQpO1xuXG4gICAgICBzZXRNb250aGx5R3Jvd3RoKGdyb3d0aCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBjYWNoZVxuICAgICAgc2V0Q2FjaGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBtb250aGx5R3Jvd3RoOiBncm93dGgsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH0pKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGRhc2hib2FyZEVycm9yID0gaGFuZGxlU3VwYWJhc2VFcnJvcihlcnIsIGNvbnRleHQpO1xuICAgICAgc2V0RXJyb3IoZGFzaGJvYXJkRXJyb3IudXNlck1lc3NhZ2UpO1xuICAgICAgc2V0RGFzaGJvYXJkRXJyb3IoZGFzaGJvYXJkRXJyb3IpO1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGN1bGF0aW5nIG1vbnRobHkgZ3Jvd3RoOlwiLCBkYXNoYm9hcmRFcnJvcik7XG4gICAgICBzZXRNb250aGx5R3Jvd3RoKDApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRHcm93dGhMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFt2ZW5kb3JJZCwgY2FjaGUubW9udGhseUdyb3d0aCwgaXNDYWNoZVZhbGlkLCBzdXBhYmFzZSwgdXNlcj8uaWRdKTtcblxuICAvLyBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSBhdmVyYWdlIHJlc3BvbnNlIHRpbWVcbiAgY29uc3QgY2FsY3VsYXRlQXZlcmFnZVJlc3BvbnNlVGltZSA9IChyZXNwb25zZVRpbWVzOiBhbnlbXSk6IHN0cmluZyA9PiB7XG4gICAgaWYgKHJlc3BvbnNlVGltZXMubGVuZ3RoID09PSAwKSByZXR1cm4gXCJOL0FcIjtcblxuICAgIGNvbnN0IHRvdGFsSG91cnMgPSByZXNwb25zZVRpbWVzLnJlZHVjZSgodG90YWwsIGlucXVpcnkpID0+IHtcbiAgICAgIGNvbnN0IGNyZWF0ZWQgPSBuZXcgRGF0ZShpbnF1aXJ5LmNyZWF0ZWRfYXQpO1xuICAgICAgY29uc3QgcmVzcG9uZGVkID0gbmV3IERhdGUoaW5xdWlyeS5yZXNwb25kZWRfYXQpO1xuICAgICAgY29uc3QgZGlmZkhvdXJzID1cbiAgICAgICAgKHJlc3BvbmRlZC5nZXRUaW1lKCkgLSBjcmVhdGVkLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjApO1xuICAgICAgcmV0dXJuIHRvdGFsICsgZGlmZkhvdXJzO1xuICAgIH0sIDApO1xuXG4gICAgY29uc3QgYXZnSG91cnMgPSB0b3RhbEhvdXJzIC8gcmVzcG9uc2VUaW1lcy5sZW5ndGg7XG5cbiAgICBpZiAoYXZnSG91cnMgPCAxKSB7XG4gICAgICByZXR1cm4gYCR7TWF0aC5yb3VuZChhdmdIb3VycyAqIDYwKX0gbWludXRlc2A7XG4gICAgfSBlbHNlIGlmIChhdmdIb3VycyA8IDI0KSB7XG4gICAgICByZXR1cm4gYCR7YXZnSG91cnMudG9GaXhlZCgxKX0gaG91cnNgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7TWF0aC5yb3VuZChhdmdIb3VycyAvIDI0KX0gZGF5c2A7XG4gICAgfVxuICB9O1xuXG4gIC8vIFBhcnNlIGJ1ZGdldCByYW5nZSBzdHJpbmcgdG8gbnVtZXJpYyB2YWx1ZVxuICBjb25zdCBwYXJzZUJ1ZGdldFJhbmdlID0gKGJ1ZGdldFJhbmdlOiBzdHJpbmcpOiBudW1iZXIgfCBudWxsID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gRXh0cmFjdCB0aGUgZmlyc3QgbnVtYmVyIGZyb20gcmFuZ2VzIGxpa2UgXCLigqw1MDAwLeKCrDEwMDAwXCJcbiAgICAgIGNvbnN0IG1hdGNoID0gYnVkZ2V0UmFuZ2UubWF0Y2goL1tcXGQsXSsvKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChtYXRjaFswXS5yZXBsYWNlKC8sL2csIFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFNldHVwIHJlYWwtdGltZSBzdWJzY3JpcHRpb25zIHdpdGggZXJyb3IgaGFuZGxpbmdcbiAgY29uc3Qgc2V0dXBSZWFsVGltZVN1YnNjcmlwdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF2ZW5kb3JJZCkge1xuICAgICAgY29uc29sZS5sb2coXCJDYW5ub3Qgc2V0dXAgcmVhbC10aW1lIHN1YnNjcmlwdGlvbnM6IG5vIHZlbmRvciBJRCBhdmFpbGFibGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4gdXAgZXhpc3Rpbmcgc3Vic2NyaXB0aW9uc1xuICAgIGNsZWFudXBTdWJzY3JpcHRpb25zKCk7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlRXJyb3JDb250ZXh0KCd1c2VWZW5kb3JEYXNoYm9hcmQnLCAnc2V0dXBSZWFsVGltZVN1YnNjcmlwdGlvbnMnLCB1c2VyPy5pZCwgdmVuZG9ySWQpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFN1YnNjcmliZSB0byB2ZW5kb3JfaW5xdWlyaWVzIGNoYW5nZXNcbiAgICAgIGNvbnN0IGlucXVpcmllc1N1YnNjcmlwdGlvbiA9IHN1cGFiYXNlXG4gICAgICAgIC5jaGFubmVsKGB2ZW5kb3ItaW5xdWlyaWVzLSR7dmVuZG9ySWR9YClcbiAgICAgICAgLm9uKFxuICAgICAgICAgIFwicG9zdGdyZXNfY2hhbmdlc1wiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV2ZW50OiBcIipcIixcbiAgICAgICAgICAgIHNjaGVtYTogXCJwdWJsaWNcIixcbiAgICAgICAgICAgIHRhYmxlOiBcInZlbmRvcl9pbnF1aXJpZXNcIixcbiAgICAgICAgICAgIGZpbHRlcjogYHZlbmRvcl9pZD1lcS4ke3ZlbmRvcklkfWAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnF1aXJpZXMgcmVhbC10aW1lIHVwZGF0ZTpcIiwgcGF5bG9hZCk7XG4gICAgICAgICAgICAvLyBSZWZldGNoIGJvdGggc3RhdHMgYW5kIHJlY2VudCBpbnF1aXJpZXMgd2hlbiBpbnF1aXJpZXMgY2hhbmdlXG4gICAgICAgICAgICBmZXRjaFZlbmRvclN0YXRzKHRydWUpOyAvLyBGb3JjZSByZWZyZXNoXG4gICAgICAgICAgICBmZXRjaFJlY2VudElucXVpcmllcyh0cnVlKTsgLy8gRm9yY2UgcmVmcmVzaFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKCk7XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byB2ZW5kb3JfaW5xdWlyaWVzIGNoYW5nZXMgZm9yIHVwY29taW5nIGV2ZW50cyAoYm9va2VkIGlucXVpcmllcylcbiAgICAgIGNvbnN0IGJvb2tlZElucXVpcmllc1N1YnNjcmlwdGlvbiA9IHN1cGFiYXNlXG4gICAgICAgIC5jaGFubmVsKGB2ZW5kb3ItaW5xdWlyaWVzLWJvb2tlZC0ke3ZlbmRvcklkfWApXG4gICAgICAgIC5vbihcbiAgICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBldmVudDogXCIqXCIsXG4gICAgICAgICAgICBzY2hlbWE6IFwicHVibGljXCIsXG4gICAgICAgICAgICB0YWJsZTogXCJ2ZW5kb3JfaW5xdWlyaWVzXCIsXG4gICAgICAgICAgICBmaWx0ZXI6IGB2ZW5kb3JfaWQ9ZXEuJHt2ZW5kb3JJZH1gLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQm9va2VkIGlucXVpcmllcyByZWFsLXRpbWUgdXBkYXRlOlwiLCBwYXlsb2FkKTtcbiAgICAgICAgICAgIC8vIFJlZmV0Y2ggc3RhdHMgYW5kIHVwY29taW5nIGV2ZW50cyB3aGVuIGJvb2tlZCBpbnF1aXJpZXMgY2hhbmdlXG4gICAgICAgICAgICBmZXRjaFZlbmRvclN0YXRzKHRydWUpOyAvLyBGb3JjZSByZWZyZXNoXG4gICAgICAgICAgICBmZXRjaFVwY29taW5nRXZlbnRzKHRydWUpOyAvLyBGb3JjZSByZWZyZXNoXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIC5zdWJzY3JpYmUoKTtcblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIHZlbmRvcl9hbmFseXRpY3MgY2hhbmdlc1xuICAgICAgY29uc3QgYW5hbHl0aWNzU3Vic2NyaXB0aW9uID0gc3VwYWJhc2VcbiAgICAgICAgLmNoYW5uZWwoYHZlbmRvci1hbmFseXRpY3MtJHt2ZW5kb3JJZH1gKVxuICAgICAgICAub24oXG4gICAgICAgICAgXCJwb3N0Z3Jlc19jaGFuZ2VzXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXZlbnQ6IFwiKlwiLFxuICAgICAgICAgICAgc2NoZW1hOiBcInB1YmxpY1wiLFxuICAgICAgICAgICAgdGFibGU6IFwidmVuZG9yX2FuYWx5dGljc1wiLFxuICAgICAgICAgICAgZmlsdGVyOiBgdmVuZG9yX2lkPWVxLiR7dmVuZG9ySWR9YCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFuYWx5dGljcyByZWFsLXRpbWUgdXBkYXRlOlwiLCBwYXlsb2FkKTtcbiAgICAgICAgICAgIC8vIFJlZmV0Y2ggc3RhdHMgYW5kIG1vbnRobHkgZ3Jvd3RoIHdoZW4gYW5hbHl0aWNzIGNoYW5nZVxuICAgICAgICAgICAgZmV0Y2hWZW5kb3JTdGF0cyh0cnVlKTsgLy8gRm9yY2UgcmVmcmVzaFxuICAgICAgICAgICAgY2FsY3VsYXRlTW9udGhseUdyb3d0aCh0cnVlKTsgLy8gRm9yY2UgcmVmcmVzaFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKCk7XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byB2ZW5kb3JfcHJvZmlsZXMgY2hhbmdlc1xuICAgICAgY29uc3QgcHJvZmlsZVN1YnNjcmlwdGlvbiA9IHN1cGFiYXNlXG4gICAgICAgIC5jaGFubmVsKGB2ZW5kb3ItcHJvZmlsZS0ke3VzZXI/LmlkfWApXG4gICAgICAgIC5vbihcbiAgICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBldmVudDogXCIqXCIsXG4gICAgICAgICAgICBzY2hlbWE6IFwicHVibGljXCIsXG4gICAgICAgICAgICB0YWJsZTogXCJ2ZW5kb3JfcHJvZmlsZXNcIixcbiAgICAgICAgICAgIGZpbHRlcjogYHVzZXJfaWQ9ZXEuJHt1c2VyPy5pZH1gLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUHJvZmlsZSByZWFsLXRpbWUgdXBkYXRlOlwiLCBwYXlsb2FkKTtcbiAgICAgICAgICAgIC8vIFJlZmV0Y2ggcHJvZmlsZSBjb21wbGV0aW9uIHdoZW4gcHJvZmlsZSBjaGFuZ2VzXG4gICAgICAgICAgICBjYWxjdWxhdGVQcm9maWxlQ29tcGxldGlvbih0cnVlKTsgLy8gRm9yY2UgcmVmcmVzaFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKCk7XG5cbiAgICAgIC8vIFN0b3JlIHN1YnNjcmlwdGlvbnMgZm9yIGNsZWFudXBcbiAgICAgIHN1YnNjcmlwdGlvbnNSZWYuY3VycmVudCA9IFtcbiAgICAgICAgaW5xdWlyaWVzU3Vic2NyaXB0aW9uLFxuICAgICAgICBib29rZWRJbnF1aXJpZXNTdWJzY3JpcHRpb24sXG4gICAgICAgIGFuYWx5dGljc1N1YnNjcmlwdGlvbixcbiAgICAgICAgcHJvZmlsZVN1YnNjcmlwdGlvbixcbiAgICAgIF07XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiUmVhbC10aW1lIHN1YnNjcmlwdGlvbnMgZXN0YWJsaXNoZWQgZm9yIHZlbmRvcjpcIiwgdmVuZG9ySWQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZGFzaGJvYXJkRXJyb3IgPSBoYW5kbGVTdXBhYmFzZUVycm9yKGVyciwgY29udGV4dCk7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2V0dGluZyB1cCByZWFsLXRpbWUgc3Vic2NyaXB0aW9uczpcIiwgZGFzaGJvYXJkRXJyb3IpO1xuICAgICAgLy8gRG9uJ3Qgc2V0IGdsb2JhbCBlcnJvciBmb3IgcmVhbC10aW1lIGNvbm5lY3Rpb24gaXNzdWVzXG4gICAgICAvLyBKdXN0IGxvZyBpdCBhbmQgY29udGludWUgd2l0aCBzdGF0aWMgZGF0YVxuICAgIH1cbiAgfTtcblxuICAvLyBDbGVhbnVwIHN1YnNjcmlwdGlvbnNcbiAgY29uc3QgY2xlYW51cFN1YnNjcmlwdGlvbnMgPSAoKSA9PiB7XG4gICAgc3Vic2NyaXB0aW9uc1JlZi5jdXJyZW50LmZvckVhY2goKHN1YnNjcmlwdGlvbikgPT4ge1xuICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKHN1YnNjcmlwdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3Vic2NyaXB0aW9uc1JlZi5jdXJyZW50ID0gW107XG4gIH07XG5cbiAgLy8gTG9hZCBhbGwgZGF0YSB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nXG4gIGNvbnN0IGxvYWREYXNoYm9hcmREYXRhID0gdXNlQ2FsbGJhY2soYXN5bmMgKGZvcmNlUmVmcmVzaCA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKCF2ZW5kb3JJZCkge1xuICAgICAgY29uc29sZS5sb2coXCJDYW5ub3QgbG9hZCBkYXNoYm9hcmQgZGF0YTogbm8gdmVuZG9yIElEIGF2YWlsYWJsZVwiKTtcbiAgICAgIHNldEVycm9yKFwiVmVuZG9yIHByb2ZpbGUgbm90IGZvdW5kLiBUaGlzIGRhc2hib2FyZCByZXF1aXJlcyBhIHZlbmRvciBhY2NvdW50LiBQbGVhc2UgY29tcGxldGUgdmVuZG9yIG9uYm9hcmRpbmcgb3IgY29udGFjdCBzdXBwb3J0IGlmIHlvdSBiZWxpZXZlIHRoaXMgaXMgYW4gZXJyb3IuXCIpO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBzZXREYXNoYm9hcmRFcnJvcihudWxsKTtcblxuICAgIC8vIENoZWNrIGlmIHdlIGNhbiB1c2UgY2FjaGUgZm9yIGluaXRpYWwgbG9hZFxuICAgIGlmICghZm9yY2VSZWZyZXNoICYmIGlzQ2FjaGVWYWxpZCgpICYmIGNhY2hlLnN0YXRzICYmIGNhY2hlLmlucXVpcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICBzZXRWZW5kb3JTdGF0cyhjYWNoZS5zdGF0cyk7XG4gICAgICBzZXRSZWNlbnRJbnF1aXJpZXMoY2FjaGUuaW5xdWlyaWVzKTtcbiAgICAgIHNldFVwY29taW5nRXZlbnRzKGNhY2hlLnVwY29taW5nRXZlbnRzKTtcbiAgICAgIHNldFByb2ZpbGVDb21wbGV0aW9uKGNhY2hlLnByb2ZpbGVDb21wbGV0aW9uKTtcbiAgICAgIHNldE1vbnRobHlHcm93dGgoY2FjaGUubW9udGhseUdyb3d0aCk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBmZXRjaFZlbmRvclN0YXRzKGZvcmNlUmVmcmVzaCksXG4gICAgICAgIGZldGNoUmVjZW50SW5xdWlyaWVzKGZvcmNlUmVmcmVzaCksXG4gICAgICAgIGZldGNoVXBjb21pbmdFdmVudHMoZm9yY2VSZWZyZXNoKSxcbiAgICAgICAgY2FsY3VsYXRlUHJvZmlsZUNvbXBsZXRpb24oZm9yY2VSZWZyZXNoKSxcbiAgICAgICAgY2FsY3VsYXRlTW9udGhseUdyb3d0aChmb3JjZVJlZnJlc2gpLFxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlRXJyb3JDb250ZXh0KCd1c2VWZW5kb3JEYXNoYm9hcmQnLCAnbG9hZERhc2hib2FyZERhdGEnLCB1c2VyPy5pZCB8fCB1bmRlZmluZWQsIHZlbmRvcklkIHx8IHVuZGVmaW5lZCk7XG4gICAgICBjb25zdCBkYXNoYm9hcmRFcnJvciA9IGhhbmRsZVN1cGFiYXNlRXJyb3IoZXJyLCBjb250ZXh0KTtcbiAgICAgIHNldEVycm9yKGRhc2hib2FyZEVycm9yLnVzZXJNZXNzYWdlKTtcbiAgICAgIHNldERhc2hib2FyZEVycm9yKGRhc2hib2FyZEVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbZmV0Y2hWZW5kb3JTdGF0cywgZmV0Y2hSZWNlbnRJbnF1aXJpZXMsIGZldGNoVXBjb21pbmdFdmVudHMsIGNhbGN1bGF0ZVByb2ZpbGVDb21wbGV0aW9uLCBjYWxjdWxhdGVNb250aGx5R3Jvd3RoLCBpc0NhY2hlVmFsaWQsIGNhY2hlLCB1c2VyPy5pZCwgdmVuZG9ySWRdKTtcblxuICAvLyBTZWxlY3RpdmUgcmVmcmVzaCBmdW5jdGlvbnMgZm9yIGJldHRlciBVWFxuICBjb25zdCByZWZyZXNoU3RhdHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoVmVuZG9yU3RhdHModHJ1ZSk7XG4gIH0sIFtmZXRjaFZlbmRvclN0YXRzXSk7XG5cbiAgY29uc3QgcmVmcmVzaElucXVpcmllcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXR1cm4gZmV0Y2hSZWNlbnRJbnF1aXJpZXModHJ1ZSk7XG4gIH0sIFtmZXRjaFJlY2VudElucXVpcmllc10pO1xuXG4gIGNvbnN0IHJlZnJlc2hFdmVudHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoVXBjb21pbmdFdmVudHModHJ1ZSk7XG4gIH0sIFtmZXRjaFVwY29taW5nRXZlbnRzXSk7XG5cbiAgY29uc3QgcmVmcmVzaFByb2ZpbGVEYXRhID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICBjYWxjdWxhdGVQcm9maWxlQ29tcGxldGlvbih0cnVlKSxcbiAgICAgIGNhbGN1bGF0ZU1vbnRobHlHcm93dGgodHJ1ZSlcbiAgICBdKTtcbiAgfSwgW2NhbGN1bGF0ZVByb2ZpbGVDb21wbGV0aW9uLCBjYWxjdWxhdGVNb250aGx5R3Jvd3RoXSk7XG5cbiAgLy8gU21hcnQgcmVmcmVzaCB0aGF0IG9ubHkgcmVmcmVzaGVzIGR5bmFtaWMgZGF0YVxuICBjb25zdCBzbWFydFJlZnJlc2ggPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgLy8gT25seSByZWZyZXNoIGRhdGEgdGhhdCBjaGFuZ2VzIGZyZXF1ZW50bHlcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgcmVmcmVzaFN0YXRzKCksXG4gICAgICByZWZyZXNoSW5xdWlyaWVzKCksXG4gICAgICByZWZyZXNoRXZlbnRzKCksXG4gICAgICByZWZyZXNoUHJvZmlsZURhdGEoKVxuICAgIF0pO1xuICB9LCBbcmVmcmVzaFN0YXRzLCByZWZyZXNoSW5xdWlyaWVzLCByZWZyZXNoRXZlbnRzLCByZWZyZXNoUHJvZmlsZURhdGFdKTtcblxuICAvLyBJbml0aWFsaXplIHZlbmRvciBJRCBhbmQgc2V0dXBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplVmVuZG9yID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdXNlciBhdmFpbGFibGUgZm9yIHZlbmRvciBpbml0aWFsaXphdGlvblwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXVzZXIuaWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGV4aXN0cyBidXQgbm8gSUQgYXZhaWxhYmxlXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbGl6aW5nIHZlbmRvciBmb3IgdXNlcjpcIiwgdXNlci5pZCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBpZCA9IGF3YWl0IGdldFZlbmRvcklkKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVmVuZG9yIElEIHJlc3VsdDpcIiwgaWQpO1xuICAgICAgICBzZXRWZW5kb3JJZChpZCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIHZlbmRvciBpbml0aWFsaXphdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgICBzZXRFcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIHZlbmRvciBkYXNoYm9hcmQuIFBsZWFzZSB0cnkgcmVmcmVzaGluZyB0aGUgcGFnZS5cIik7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpbml0aWFsaXplVmVuZG9yKCk7XG4gIH0sIFt1c2VyXSk7XG5cbiAgLy8gU2V0dXAgcmVhbC10aW1lIHN1YnNjcmlwdGlvbnMgd2hlbiB2ZW5kb3IgSUQgaXMgYXZhaWxhYmxlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZlbmRvcklkKSB7XG4gICAgICBzZXR1cFJlYWxUaW1lU3Vic2NyaXB0aW9ucygpO1xuICAgIH1cblxuICAgIC8vIENsZWFudXAgb24gdW5tb3VudCBvciB3aGVuIHZlbmRvciBJRCBjaGFuZ2VzXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFudXBTdWJzY3JpcHRpb25zKCk7XG4gICAgfTtcbiAgfSwgW3ZlbmRvcklkXSk7XG5cbiAgLy8gTG9hZCBkYXRhIHdoZW4gdmVuZG9yIElEIGlzIGF2YWlsYWJsZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2ZW5kb3JJZCkge1xuICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIGRhc2hib2FyZCBkYXRhIGZvciB2ZW5kb3I6XCIsIHZlbmRvcklkKTtcbiAgICAgIGxvYWREYXNoYm9hcmREYXRhKCk7XG4gICAgfSBlbHNlIGlmICh2ZW5kb3JJZCA9PT0gbnVsbCAmJiB1c2VyPy5pZCkge1xuICAgICAgLy8gVmVuZG9yIElEIGlzIG51bGwgYnV0IHVzZXIgZXhpc3RzIC0gdGhpcyBtZWFucyB1c2VyIGlzIG5vdCBhIHZlbmRvclxuICAgICAgY29uc29sZS5sb2coXCJVc2VyIGlzIG5vdCBhIHZlbmRvciwgc2V0dGluZyBlcnJvciBzdGF0ZVwiKTtcbiAgICAgIHNldEVycm9yKFwiVmVuZG9yIHByb2ZpbGUgbm90IGZvdW5kLiBUaGlzIGRhc2hib2FyZCBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgdmVuZG9yIGFjY291bnRzLiBJZiB5b3UgYmVsaWV2ZSB0aGlzIGlzIGFuIGVycm9yLCBwbGVhc2UgY29tcGxldGUgdmVuZG9yIG9uYm9hcmRpbmcgb3IgY29udGFjdCBzdXBwb3J0LlwiKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3ZlbmRvcklkLCBsb2FkRGFzaGJvYXJkRGF0YSwgdXNlcj8uaWRdKTtcblxuICByZXR1cm4ge1xuICAgIHZlbmRvclN0YXRzLFxuICAgIHJlY2VudElucXVpcmllcyxcbiAgICB1cGNvbWluZ0V2ZW50cyxcbiAgICBwcm9maWxlQ29tcGxldGlvbixcbiAgICBtb250aGx5R3Jvd3RoLFxuICAgIGxvYWRpbmcsXG4gICAgc3RhdHNMb2FkaW5nLFxuICAgIGlucXVpcmllc0xvYWRpbmcsXG4gICAgZXZlbnRzTG9hZGluZyxcbiAgICBwcm9maWxlTG9hZGluZyxcbiAgICBncm93dGhMb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIGRhc2hib2FyZEVycm9yLFxuICAgIHJlZmV0Y2g6IHNtYXJ0UmVmcmVzaCwgLy8gVXNlIHNtYXJ0IHJlZnJlc2ggaW5zdGVhZCBvZiBmdWxsIHJlZnJlc2hcbiAgICByZWZyZXNoU3RhdHMsXG4gICAgcmVmcmVzaElucXVpcmllcyxcbiAgICByZWZyZXNoRXZlbnRzLFxuICAgIHJlZnJlc2hQcm9maWxlRGF0YSxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwiY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IiwidXNlQXV0aCIsImhhbmRsZVN1cGFiYXNlRXJyb3IiLCJjcmVhdGVFcnJvckNvbnRleHQiLCJyZXRyeU9wZXJhdGlvbiIsIkNBQ0hFX0RVUkFUSU9OIiwidXNlVmVuZG9yRGFzaGJvYXJkIiwidXNlciIsInZlbmRvclN0YXRzIiwic2V0VmVuZG9yU3RhdHMiLCJyZWNlbnRJbnF1aXJpZXMiLCJzZXRSZWNlbnRJbnF1aXJpZXMiLCJ1cGNvbWluZ0V2ZW50cyIsInNldFVwY29taW5nRXZlbnRzIiwicHJvZmlsZUNvbXBsZXRpb24iLCJzZXRQcm9maWxlQ29tcGxldGlvbiIsIm1vbnRobHlHcm93dGgiLCJzZXRNb250aGx5R3Jvd3RoIiwic3RhdHNMb2FkaW5nIiwic2V0U3RhdHNMb2FkaW5nIiwiaW5xdWlyaWVzTG9hZGluZyIsInNldElucXVpcmllc0xvYWRpbmciLCJldmVudHNMb2FkaW5nIiwic2V0RXZlbnRzTG9hZGluZyIsInByb2ZpbGVMb2FkaW5nIiwic2V0UHJvZmlsZUxvYWRpbmciLCJncm93dGhMb2FkaW5nIiwic2V0R3Jvd3RoTG9hZGluZyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImRhc2hib2FyZEVycm9yIiwic2V0RGFzaGJvYXJkRXJyb3IiLCJjYWNoZSIsInNldENhY2hlIiwic3RhdHMiLCJpbnF1aXJpZXMiLCJ0aW1lc3RhbXAiLCJ2ZW5kb3JJZCIsInNldFZlbmRvcklkIiwic3Vic2NyaXB0aW9uc1JlZiIsInN1cGFiYXNlIiwiaXNDYWNoZVZhbGlkIiwiRGF0ZSIsIm5vdyIsImdldFZlbmRvcklkIiwiaWQiLCJjb25zb2xlIiwibG9nIiwiY29udGV4dCIsImRhdGEiLCJ1c2VyUHJvZmlsZSIsInVzZXJQcm9maWxlRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJ1c2VySWQiLCJ1c2VyX3R5cGUiLCJ2ZW5kb3JQcm9maWxlIiwicHJvZmlsZUVycm9yIiwidXNlclR5cGUiLCJlcnIiLCJmZXRjaFZlbmRvclN0YXRzIiwiZm9yY2VSZWZyZXNoIiwiY291bnQiLCJ0b3RhbElucXVpcmllcyIsImlucXVpcmllc0Vycm9yIiwiaGVhZCIsInBlbmRpbmdJbnF1aXJpZXMiLCJwZW5kaW5nRXJyb3IiLCJ0b3RhbEJvb2tlZElucXVpcmllcyIsImJvb2tlZElucXVpcmllc0Vycm9yIiwicmVzcG9uZGVkSW5xdWlyaWVzIiwicmVzcG9uZGVkRXJyb3IiLCJpbiIsInJlc3BvbnNlUmF0ZSIsIk1hdGgiLCJyb3VuZCIsInJlc3BvbnNlVGltZXMiLCJyZXNwb25zZVRpbWVzRXJyb3IiLCJub3QiLCJhdmdSZXNwb25zZVRpbWUiLCJjYWxjdWxhdGVBdmVyYWdlUmVzcG9uc2VUaW1lIiwiYW5hbHl0aWNzRGF0YSIsImFuYWx5dGljc0Vycm9yIiwiZ3RlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJvcmRlciIsImFzY2VuZGluZyIsInRvdGFsUHJvZmlsZVZpZXdzIiwicmVkdWNlIiwic3VtIiwicmVjb3JkIiwicHJvZmlsZV92aWV3cyIsIndhcm4iLCJ0b3RhbEJvb2tpbmdzIiwicHJvZmlsZVZpZXdzIiwiYnVzaW5lc3NOYW1lIiwiYnVzaW5lc3NfbmFtZSIsInByZXYiLCJ1c2VyTWVzc2FnZSIsImZldGNoUmVjZW50SW5xdWlyaWVzIiwibGVuZ3RoIiwibGltaXQiLCJmb3JtYXR0ZWRJbnF1aXJpZXMiLCJtYXAiLCJpbnF1aXJ5IiwiY2xpZW50TmFtZSIsImNsaWVudF9uYW1lIiwiZXZlbnRUeXBlIiwiZXZlbnRfdHlwZSIsImV2ZW50RGF0ZSIsImV2ZW50X2RhdGUiLCJtZXNzYWdlIiwic3RhdHVzIiwiY3JlYXRlZEF0IiwiY3JlYXRlZF9hdCIsImZldGNoVXBjb21pbmdFdmVudHMiLCJldmVudHMiLCJ0b2RheSIsImJvb2tlZElucXVpcmllcyIsImZvcm1hdHRlZEV2ZW50cyIsImNsaWVudEVtYWlsIiwiY2xpZW50X2VtYWlsIiwic3RhcnRUaW1lIiwidW5kZWZpbmVkIiwiZW5kVGltZSIsImxvY2F0aW9uIiwiZ3Vlc3RDb3VudCIsImd1ZXN0X2NvdW50IiwiYnVkZ2V0QW1vdW50IiwiYnVkZ2V0X3JhbmdlIiwicGFyc2VCdWRnZXRSYW5nZSIsIm5vdGVzIiwiY2FsY3VsYXRlUHJvZmlsZUNvbXBsZXRpb24iLCJjb21wbGV0aW9uUGVyY2VudGFnZSIsInByb2ZpbGUiLCJyZXF1aXJlZEZpZWxkcyIsImNvbXBsZXRlZEZpZWxkcyIsImZpbHRlciIsImZpZWxkIiwidmFsdWUiLCJ0b1N0cmluZyIsInRyaW0iLCJjYWxjdWxhdGVNb250aGx5R3Jvd3RoIiwiZ3Jvd3RoIiwibGFzdE1vbnRoIiwidGhpc01vbnRoIiwibGFzdE1vbnRoRGF0YSIsImxhc3RNb250aEVycm9yIiwibHQiLCJ0aGlzTW9udGhEYXRhIiwidGhpc01vbnRoRXJyb3IiLCJsYXN0TW9udGhWaWV3cyIsInRoaXNNb250aFZpZXdzIiwidG90YWxIb3VycyIsInRvdGFsIiwiY3JlYXRlZCIsInJlc3BvbmRlZCIsInJlc3BvbmRlZF9hdCIsImRpZmZIb3VycyIsImdldFRpbWUiLCJhdmdIb3VycyIsInRvRml4ZWQiLCJidWRnZXRSYW5nZSIsIm1hdGNoIiwicGFyc2VGbG9hdCIsInJlcGxhY2UiLCJzZXR1cFJlYWxUaW1lU3Vic2NyaXB0aW9ucyIsImNsZWFudXBTdWJzY3JpcHRpb25zIiwiaW5xdWlyaWVzU3Vic2NyaXB0aW9uIiwiY2hhbm5lbCIsIm9uIiwiZXZlbnQiLCJzY2hlbWEiLCJ0YWJsZSIsInBheWxvYWQiLCJzdWJzY3JpYmUiLCJib29rZWRJbnF1aXJpZXNTdWJzY3JpcHRpb24iLCJhbmFseXRpY3NTdWJzY3JpcHRpb24iLCJwcm9maWxlU3Vic2NyaXB0aW9uIiwiY3VycmVudCIsImZvckVhY2giLCJzdWJzY3JpcHRpb24iLCJyZW1vdmVDaGFubmVsIiwibG9hZERhc2hib2FyZERhdGEiLCJQcm9taXNlIiwiYWxsIiwicmVmcmVzaFN0YXRzIiwicmVmcmVzaElucXVpcmllcyIsInJlZnJlc2hFdmVudHMiLCJyZWZyZXNoUHJvZmlsZURhdGEiLCJzbWFydFJlZnJlc2giLCJpbml0aWFsaXplVmVuZG9yIiwicmVmZXRjaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useVendorDashboard.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useVendorGallery.ts":
/*!***************************************!*\
  !*** ./src/hooks/useVendorGallery.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useVendorGallery: () => (/* binding */ useVendorGallery)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n\n\nfunction useVendorGallery(param) {\n    let { vendorId } = param;\n    const [images, setImages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.createClientComponentClient)();\n    const fetchImages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorGallery.useCallback[fetchImages]\": async ()=>{\n            try {\n                setLoading(true);\n                setError(null);\n                const { data, error: fetchError } = await supabase.from(\"vendor_gallery\").select(\"*\").eq(\"vendor_id\", vendorId).order(\"display_order\", {\n                    ascending: true\n                }).order(\"created_at\", {\n                    ascending: false\n                });\n                if (fetchError) {\n                    throw fetchError;\n                }\n                setImages(data || []);\n            } catch (err) {\n                console.error(\"Error fetching gallery images:\", err);\n                setError(err instanceof Error ? err.message : \"Failed to load gallery images\");\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useVendorGallery.useCallback[fetchImages]\"], [\n        vendorId,\n        supabase\n    ]);\n    const updateImage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorGallery.useCallback[updateImage]\": async (imageId, updates)=>{\n            try {\n                const { error: updateError } = await supabase.from(\"vendor_gallery\").update({\n                    ...updates,\n                    updated_at: new Date().toISOString()\n                }).eq(\"id\", imageId);\n                if (updateError) {\n                    throw updateError;\n                }\n                // Update local state\n                setImages({\n                    \"useVendorGallery.useCallback[updateImage]\": (prev)=>prev.map({\n                            \"useVendorGallery.useCallback[updateImage]\": (img)=>img.id === imageId ? {\n                                    ...img,\n                                    ...updates\n                                } : img\n                        }[\"useVendorGallery.useCallback[updateImage]\"])\n                }[\"useVendorGallery.useCallback[updateImage]\"]);\n                return true;\n            } catch (err) {\n                console.error(\"Error updating gallery image:\", err);\n                setError(err instanceof Error ? err.message : \"Failed to update image\");\n                return false;\n            }\n        }\n    }[\"useVendorGallery.useCallback[updateImage]\"], [\n        supabase\n    ]);\n    const deleteImage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorGallery.useCallback[deleteImage]\": async (imageId)=>{\n            try {\n                const { error: deleteError } = await supabase.from(\"vendor_gallery\").delete().eq(\"id\", imageId);\n                if (deleteError) {\n                    throw deleteError;\n                }\n                // Update local state\n                setImages({\n                    \"useVendorGallery.useCallback[deleteImage]\": (prev)=>prev.filter({\n                            \"useVendorGallery.useCallback[deleteImage]\": (img)=>img.id !== imageId\n                        }[\"useVendorGallery.useCallback[deleteImage]\"])\n                }[\"useVendorGallery.useCallback[deleteImage]\"]);\n                return true;\n            } catch (err) {\n                console.error(\"Error deleting gallery image:\", err);\n                setError(err instanceof Error ? err.message : \"Failed to delete image\");\n                return false;\n            }\n        }\n    }[\"useVendorGallery.useCallback[deleteImage]\"], [\n        supabase\n    ]);\n    const reorderImages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVendorGallery.useCallback[reorderImages]\": async (imageIds)=>{\n            try {\n                // Update display_order for each image\n                const updates = imageIds.map({\n                    \"useVendorGallery.useCallback[reorderImages].updates\": (id, index)=>supabase.from(\"vendor_gallery\").update({\n                            display_order: index,\n                            updated_at: new Date().toISOString()\n                        }).eq(\"id\", id)\n                }[\"useVendorGallery.useCallback[reorderImages].updates\"]);\n                const results = await Promise.all(updates);\n                // Check if any update failed\n                const hasError = results.some({\n                    \"useVendorGallery.useCallback[reorderImages].hasError\": (result)=>result.error\n                }[\"useVendorGallery.useCallback[reorderImages].hasError\"]);\n                if (hasError) {\n                    throw new Error(\"Failed to reorder some images\");\n                }\n                // Update local state with new order\n                setImages({\n                    \"useVendorGallery.useCallback[reorderImages]\": (prev)=>{\n                        const reordered = [\n                            ...prev\n                        ];\n                        imageIds.forEach({\n                            \"useVendorGallery.useCallback[reorderImages]\": (id, index)=>{\n                                const imageIndex = reordered.findIndex({\n                                    \"useVendorGallery.useCallback[reorderImages].imageIndex\": (img)=>img.id === id\n                                }[\"useVendorGallery.useCallback[reorderImages].imageIndex\"]);\n                                if (imageIndex !== -1) {\n                                    reordered[imageIndex] = {\n                                        ...reordered[imageIndex],\n                                        display_order: index\n                                    };\n                                }\n                            }\n                        }[\"useVendorGallery.useCallback[reorderImages]\"]);\n                        return reordered.sort({\n                            \"useVendorGallery.useCallback[reorderImages]\": (a, b)=>a.display_order - b.display_order\n                        }[\"useVendorGallery.useCallback[reorderImages]\"]);\n                    }\n                }[\"useVendorGallery.useCallback[reorderImages]\"]);\n                return true;\n            } catch (err) {\n                console.error(\"Error reordering gallery images:\", err);\n                setError(err instanceof Error ? err.message : \"Failed to reorder images\");\n                return false;\n            }\n        }\n    }[\"useVendorGallery.useCallback[reorderImages]\"], [\n        supabase\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useVendorGallery.useEffect\": ()=>{\n            fetchImages();\n        }\n    }[\"useVendorGallery.useEffect\"], [\n        fetchImages\n    ]);\n    return {\n        images,\n        loading,\n        error,\n        refetch: fetchImages,\n        updateImage,\n        deleteImage,\n        reorderImages\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VWZW5kb3JHYWxsZXJ5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUQ7QUFDSTtBQW1CdEQsU0FBU0ksaUJBQWlCLEtBQW1DO1FBQW5DLEVBQUVDLFFBQVEsRUFBeUIsR0FBbkM7SUFDL0IsTUFBTSxDQUFDQyxRQUFRQyxVQUFVLEdBQUdQLCtDQUFRQSxDQUFpQixFQUFFO0lBQ3ZELE1BQU0sQ0FBQ1EsU0FBU0MsV0FBVyxHQUFHVCwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNVLE9BQU9DLFNBQVMsR0FBR1gsK0NBQVFBLENBQWdCO0lBRWxELE1BQU1ZLFdBQVdULDBFQUEyQkE7SUFFNUMsTUFBTVUsY0FBY1gsa0RBQVdBO3FEQUFDO1lBQzlCLElBQUk7Z0JBQ0ZPLFdBQVc7Z0JBQ1hFLFNBQVM7Z0JBRVQsTUFBTSxFQUFFRyxJQUFJLEVBQUVKLE9BQU9LLFVBQVUsRUFBRSxHQUFHLE1BQU1ILFNBQ3ZDSSxJQUFJLENBQUMsa0JBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsYUFBYWIsVUFDaEJjLEtBQUssQ0FBQyxpQkFBaUI7b0JBQUVDLFdBQVc7Z0JBQUssR0FDekNELEtBQUssQ0FBQyxjQUFjO29CQUFFQyxXQUFXO2dCQUFNO2dCQUUxQyxJQUFJTCxZQUFZO29CQUNkLE1BQU1BO2dCQUNSO2dCQUVBUixVQUFVTyxRQUFRLEVBQUU7WUFDdEIsRUFBRSxPQUFPTyxLQUFLO2dCQUNaQyxRQUFRWixLQUFLLENBQUMsa0NBQWtDVztnQkFDaERWLFNBQVNVLGVBQWVFLFFBQVFGLElBQUlHLE9BQU8sR0FBRztZQUNoRCxTQUFVO2dCQUNSZixXQUFXO1lBQ2I7UUFDRjtvREFBRztRQUFDSjtRQUFVTztLQUFTO0lBRXZCLE1BQU1hLGNBQWN2QixrREFBV0E7cURBQUMsT0FDOUJ3QixTQUNBQztZQUVBLElBQUk7Z0JBQ0YsTUFBTSxFQUFFakIsT0FBT2tCLFdBQVcsRUFBRSxHQUFHLE1BQU1o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QUFDQTtLQUFZO0lBRWhCLE9BQU87UUFDTFA7UUFDQUU7UUFDQUU7UUFDQWdELFNBQVM3QztRQUNUWTtRQUNBWTtRQUNBSTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZGJhbGlhbi9EZXNrdG9wL21vbWVudG1vaS12b2lkL3NyYy9ob29rcy91c2VWZW5kb3JHYWxsZXJ5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2VcIjtcbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSBcIkAvdHlwZXMvZGF0YWJhc2VcIjtcblxudHlwZSBHYWxsZXJ5SW1hZ2UgPSBEYXRhYmFzZVtcInB1YmxpY1wiXVtcIlRhYmxlc1wiXVtcInZlbmRvcl9nYWxsZXJ5XCJdW1wiUm93XCJdO1xuXG5pbnRlcmZhY2UgVXNlVmVuZG9yR2FsbGVyeVByb3BzIHtcbiAgdmVuZG9ySWQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFVzZVZlbmRvckdhbGxlcnlSZXR1cm4ge1xuICBpbWFnZXM6IEdhbGxlcnlJbWFnZVtdO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgcmVmZXRjaDogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdXBkYXRlSW1hZ2U6IChpbWFnZUlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8R2FsbGVyeUltYWdlPikgPT4gUHJvbWlzZTxib29sZWFuPjtcbiAgZGVsZXRlSW1hZ2U6IChpbWFnZUlkOiBzdHJpbmcpID0+IFByb21pc2U8Ym9vbGVhbj47XG4gIHJlb3JkZXJJbWFnZXM6IChpbWFnZUlkczogc3RyaW5nW10pID0+IFByb21pc2U8Ym9vbGVhbj47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VWZW5kb3JHYWxsZXJ5KHsgdmVuZG9ySWQgfTogVXNlVmVuZG9yR2FsbGVyeVByb3BzKTogVXNlVmVuZG9yR2FsbGVyeVJldHVybiB7XG4gIGNvbnN0IFtpbWFnZXMsIHNldEltYWdlc10gPSB1c2VTdGF0ZTxHYWxsZXJ5SW1hZ2VbXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCgpO1xuXG4gIGNvbnN0IGZldGNoSW1hZ2VzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwidmVuZG9yX2dhbGxlcnlcIilcbiAgICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgICAgLmVxKFwidmVuZG9yX2lkXCIsIHZlbmRvcklkKVxuICAgICAgICAub3JkZXIoXCJkaXNwbGF5X29yZGVyXCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG4gICAgICAgIC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG4gICAgICBpZiAoZmV0Y2hFcnJvcikge1xuICAgICAgICB0aHJvdyBmZXRjaEVycm9yO1xuICAgICAgfVxuXG4gICAgICBzZXRJbWFnZXMoZGF0YSB8fCBbXSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZ2FsbGVyeSBpbWFnZXM6XCIsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gbG9hZCBnYWxsZXJ5IGltYWdlc1wiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbdmVuZG9ySWQsIHN1cGFiYXNlXSk7XG5cbiAgY29uc3QgdXBkYXRlSW1hZ2UgPSB1c2VDYWxsYmFjayhhc3luYyAoXG4gICAgaW1hZ2VJZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8R2FsbGVyeUltYWdlPlxuICApOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwidmVuZG9yX2dhbGxlcnlcIilcbiAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgLi4udXBkYXRlcyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pXG4gICAgICAgIC5lcShcImlkXCIsIGltYWdlSWQpO1xuXG4gICAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgdXBkYXRlRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgc2V0SW1hZ2VzKChwcmV2KSA9PlxuICAgICAgICBwcmV2Lm1hcCgoaW1nKSA9PlxuICAgICAgICAgIGltZy5pZCA9PT0gaW1hZ2VJZCA/IHsgLi4uaW1nLCAuLi51cGRhdGVzIH0gOiBpbWdcbiAgICAgICAgKVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgZ2FsbGVyeSBpbWFnZTpcIiwgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byB1cGRhdGUgaW1hZ2VcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCBbc3VwYWJhc2VdKTtcblxuICBjb25zdCBkZWxldGVJbWFnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChpbWFnZUlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwidmVuZG9yX2dhbGxlcnlcIilcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcShcImlkXCIsIGltYWdlSWQpO1xuXG4gICAgICBpZiAoZGVsZXRlRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZGVsZXRlRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgc2V0SW1hZ2VzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoaW1nKSA9PiBpbWcuaWQgIT09IGltYWdlSWQpKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZ2FsbGVyeSBpbWFnZTpcIiwgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBkZWxldGUgaW1hZ2VcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCBbc3VwYWJhc2VdKTtcblxuICBjb25zdCByZW9yZGVySW1hZ2VzID0gdXNlQ2FsbGJhY2soYXN5bmMgKGltYWdlSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBVcGRhdGUgZGlzcGxheV9vcmRlciBmb3IgZWFjaCBpbWFnZVxuICAgICAgY29uc3QgdXBkYXRlcyA9IGltYWdlSWRzLm1hcCgoaWQsIGluZGV4KSA9PlxuICAgICAgICBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKFwidmVuZG9yX2dhbGxlcnlcIilcbiAgICAgICAgICAudXBkYXRlKHtcbiAgICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IGluZGV4LFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmVxKFwiaWRcIiwgaWQpXG4gICAgICApO1xuXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwodXBkYXRlcyk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGFueSB1cGRhdGUgZmFpbGVkXG4gICAgICBjb25zdCBoYXNFcnJvciA9IHJlc3VsdHMuc29tZSgocmVzdWx0KSA9PiByZXN1bHQuZXJyb3IpO1xuICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byByZW9yZGVyIHNvbWUgaW1hZ2VzXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGUgd2l0aCBuZXcgb3JkZXJcbiAgICAgIHNldEltYWdlcygocHJldikgPT4ge1xuICAgICAgICBjb25zdCByZW9yZGVyZWQgPSBbLi4ucHJldl07XG4gICAgICAgIGltYWdlSWRzLmZvckVhY2goKGlkLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGltYWdlSW5kZXggPSByZW9yZGVyZWQuZmluZEluZGV4KChpbWcpID0+IGltZy5pZCA9PT0gaWQpO1xuICAgICAgICAgIGlmIChpbWFnZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcmVvcmRlcmVkW2ltYWdlSW5kZXhdID0geyAuLi5yZW9yZGVyZWRbaW1hZ2VJbmRleF0sIGRpc3BsYXlfb3JkZXI6IGluZGV4IH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlb3JkZXJlZC5zb3J0KChhLCBiKSA9PiBhLmRpc3BsYXlfb3JkZXIgLSBiLmRpc3BsYXlfb3JkZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJlb3JkZXJpbmcgZ2FsbGVyeSBpbWFnZXM6XCIsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gcmVvcmRlciBpbWFnZXNcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCBbc3VwYWJhc2VdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoSW1hZ2VzKCk7XG4gIH0sIFtmZXRjaEltYWdlc10pO1xuXG4gIHJldHVybiB7XG4gICAgaW1hZ2VzLFxuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgcmVmZXRjaDogZmV0Y2hJbWFnZXMsXG4gICAgdXBkYXRlSW1hZ2UsXG4gICAgZGVsZXRlSW1hZ2UsXG4gICAgcmVvcmRlckltYWdlcyxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IiwidXNlVmVuZG9yR2FsbGVyeSIsInZlbmRvcklkIiwiaW1hZ2VzIiwic2V0SW1hZ2VzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwic3VwYWJhc2UiLCJmZXRjaEltYWdlcyIsImRhdGEiLCJmZXRjaEVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwib3JkZXIiLCJhc2NlbmRpbmciLCJlcnIiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIiwidXBkYXRlSW1hZ2UiLCJpbWFnZUlkIiwidXBkYXRlcyIsInVwZGF0ZUVycm9yIiwidXBkYXRlIiwidXBkYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInByZXYiLCJtYXAiLCJpbWciLCJpZCIsImRlbGV0ZUltYWdlIiwiZGVsZXRlRXJyb3IiLCJkZWxldGUiLCJmaWx0ZXIiLCJyZW9yZGVySW1hZ2VzIiwiaW1hZ2VJZHMiLCJpbmRleCIsImRpc3BsYXlfb3JkZXIiLCJyZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsImhhc0Vycm9yIiwic29tZSIsInJlc3VsdCIsInJlb3JkZXJlZCIsImZvckVhY2giLCJpbWFnZUluZGV4IiwiZmluZEluZGV4Iiwic29ydCIsImEiLCJiIiwicmVmZXRjaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useVendorGallery.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useVendorProfile.ts":
/*!***************************************!*\
  !*** ./src/hooks/useVendorProfile.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useVendorProfile: () => (/* binding */ useVendorProfile)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n\n\n\nfunction useVendorProfile() {\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__.useAuth)();\n    const [profile, setProfile] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [contacts, setContacts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [locations, setLocations] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const fetchProfile = async ()=>{\n        if (!user) return;\n        try {\n            setLoading(true);\n            setError(null);\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClientComponentClient)();\n            // Fetch vendor profile\n            const { data: profileData, error: profileError } = await supabase.from(\"vendor_profiles\").select(\"*\").eq(\"user_id\", user.id).single();\n            if (profileError) {\n                console.error(\"Error fetching vendor profile:\", profileError);\n                console.error(\"Profile error details:\", JSON.stringify(profileError, null, 2));\n                // If vendor profile doesn't exist, that's expected for new vendors\n                if (profileError.code === 'PGRST116') {\n                    console.log(\"Vendor profile doesn't exist yet - this is normal for new vendors\");\n                    setProfile(null);\n                    setContacts([]);\n                    setLocations([]);\n                    setError(null);\n                    return;\n                }\n                setError(\"Failed to load profile data\");\n                return;\n            }\n            setProfile(profileData);\n            // Fetch vendor contacts\n            const { data: contactsData, error: contactsError } = await supabase.from(\"vendor_contacts\").select(\"*\").eq(\"vendor_id\", profileData.id).order(\"is_primary\", {\n                ascending: false\n            });\n            if (contactsError) {\n            // Error fetching vendor contacts\n            } else {\n                setContacts(contactsData || []);\n            }\n            // Fetch vendor locations\n            const { data: locationsData, error: locationsError } = await supabase.from(\"vendor_locations\").select(\"*\").eq(\"vendor_id\", profileData.id);\n            if (locationsError) {\n            // Error fetching vendor locations\n            } else {\n                setLocations(locationsData || []);\n            }\n        } catch (err) {\n            setError(\"An unexpected error occurred\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    const saveProfile = async (data)=>{\n        if (!user) {\n            return {\n                success: false,\n                error: \"No user found\"\n            };\n        }\n        try {\n            const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createClientComponentClient)();\n            let vendorProfileId;\n            if (!profile) {\n                // No profile exists, create one\n                console.log(\"No vendor profile found, creating new one...\");\n                // Generate unique slug for the vendor\n                let slug;\n                try {\n                    const { generateUniqueSlug } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_slug-utils_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/lib/slug-utils */ \"(app-pages-browser)/./src/lib/slug-utils.ts\"));\n                    slug = await generateUniqueSlug(data.business_name);\n                } catch (slugError) {\n                    console.warn('Failed to generate slug, creating vendor without slug:', slugError);\n                // Continue without slug - it will use ID for routing\n                }\n                const { data: newProfile, error: createError } = await supabase.from(\"vendor_profiles\").insert({\n                    user_id: user.id,\n                    business_name: data.business_name,\n                    ...slug && {\n                        slug\n                    },\n                    description: data.description,\n                    business_category: data.business_category,\n                    event_types: data.event_types,\n                    logo_url: data.logo_url\n                }).select().single();\n                if (createError) {\n                    console.error(\"Failed to create vendor profile:\", createError);\n                    return {\n                        success: false,\n                        error: \"Failed to create profile\"\n                    };\n                }\n                vendorProfileId = newProfile.id;\n                console.log(\"Vendor profile created with ID:\", vendorProfileId);\n            } else {\n                // Profile exists, update it\n                vendorProfileId = profile.id;\n                console.log(\"Updating existing vendor profile...\");\n                // Check if business name changed and regenerate slug if needed\n                let updateData = {\n                    business_name: data.business_name,\n                    description: data.description,\n                    business_category: data.business_category,\n                    event_types: data.event_types,\n                    logo_url: data.logo_url,\n                    updated_at: new Date().toISOString()\n                };\n                if (profile.business_name !== data.business_name) {\n                    // Business name changed, regenerate slug\n                    try {\n                        const { generateUniqueSlug } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_slug-utils_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/lib/slug-utils */ \"(app-pages-browser)/./src/lib/slug-utils.ts\"));\n                        const newSlug = await generateUniqueSlug(data.business_name, profile.slug || undefined);\n                        updateData.slug = newSlug;\n                        console.log(\"Business name changed, regenerating slug: \".concat(newSlug));\n                    } catch (slugError) {\n                        console.warn('Failed to regenerate slug, keeping existing slug:', slugError);\n                    // Keep existing slug or don't update it\n                    }\n                }\n                const { data: updateResult, error: profileError } = await supabase.from(\"vendor_profiles\").update(updateData).eq(\"id\", profile.id).select();\n                if (profileError) {\n                    return {\n                        success: false,\n                        error: \"Failed to update profile\"\n                    };\n                }\n            }\n            console.log(\"🗑️ Deleting existing contacts and locations...\");\n            // Delete contacts first (only if profile existed before)\n            if (profile) {\n                const { error: deleteContactsError } = await supabase.from(\"vendor_contacts\").delete().eq(\"vendor_id\", profile.id);\n                console.log(\"📞 Contacts delete error:\", deleteContactsError);\n                if (deleteContactsError) {\n                    console.log(\"❌ Failed to delete contacts:\", deleteContactsError);\n                    return {\n                        success: false,\n                        error: \"Failed to delete existing contacts\"\n                    };\n                }\n                console.log(\"✅ Contacts deleted successfully\");\n                // Delete locations\n                const { error: deleteLocationsError } = await supabase.from(\"vendor_locations\").delete().eq(\"vendor_id\", profile.id);\n                console.log(\"📍 Locations delete error:\", deleteLocationsError);\n                if (deleteLocationsError) {\n                    console.log(\"❌ Failed to delete locations:\", deleteLocationsError);\n                    return {\n                        success: false,\n                        error: \"Failed to delete existing locations\"\n                    };\n                }\n                console.log(\"✅ Locations deleted successfully\");\n            }\n            console.log(\"📞 Inserting new contacts...\");\n            // Insert new contacts\n            if (data.contacts.length > 0) {\n                console.log(\"📋 Contacts to insert:\", data.contacts);\n                const { error: contactsError } = await supabase.from(\"vendor_contacts\").insert(data.contacts.map((contact)=>({\n                        vendor_id: vendorProfileId,\n                        contact_type: contact.contact_type,\n                        contact_value: contact.contact_value,\n                        is_primary: contact.is_primary\n                    })));\n                console.log(\"📞 Contacts insert error:\", contactsError);\n                if (contactsError) {\n                    console.log(\"❌ Failed to insert contacts:\", contactsError);\n                    return {\n                        success: false,\n                        error: \"Failed to update contacts\"\n                    };\n                }\n                console.log(\"✅ Contacts inserted successfully\");\n            } else {\n                console.log(\"ℹ️ No contacts to insert\");\n            }\n            console.log(\"📍 Inserting new locations...\");\n            // Insert new locations\n            if (data.locations.length > 0) {\n                console.log(\"🗺️ Locations to insert:\", data.locations);\n                // Validate location values\n                const validLocations = [\n                    \"nicosia\",\n                    \"limassol\",\n                    \"larnaca\",\n                    \"paphos\",\n                    \"platres\",\n                    \"paralimni_ayia_napa\",\n                    \"whole_cyprus\"\n                ];\n                const invalidLocations = data.locations.filter((location)=>!validLocations.includes(location));\n                if (invalidLocations.length > 0) {\n                    console.log(\"❌ Invalid location values:\", invalidLocations);\n                    return {\n                        success: false,\n                        error: \"Invalid location values: \".concat(invalidLocations.join(\", \"))\n                    };\n                }\n                const locationData = data.locations.map((location)=>({\n                        vendor_id: vendorProfileId,\n                        location: location\n                    }));\n                console.log(\"🗺️ Location data to insert:\", locationData);\n                const { data: insertedLocations, error: locationsError } = await supabase.from(\"vendor_locations\").insert(locationData).select();\n                console.log(\"📍 Locations insert error:\", locationsError);\n                console.log(\"📍 Inserted locations:\", insertedLocations);\n                if (locationsError) {\n                    console.log(\"❌ Failed to insert locations:\", locationsError);\n                    return {\n                        success: false,\n                        error: \"Failed to update locations\"\n                    };\n                }\n                console.log(\"✅ Locations inserted successfully\");\n            } else {\n                console.log(\"ℹ️ No locations to insert\");\n            }\n            console.log(\"🔄 Refetching profile data...\");\n            // Refetch data to update the UI\n            await fetchProfile();\n            console.log(\"🎉 Profile save completed successfully!\");\n            return {\n                success: true\n            };\n        } catch (err) {\n            console.log(\"💥 Exception in saveProfile:\", err);\n            return {\n                success: false,\n                error: \"An unexpected error occurred\"\n            };\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useVendorProfile.useEffect\": ()=>{\n            fetchProfile();\n        }\n    }[\"useVendorProfile.useEffect\"], [\n        user\n    ]);\n    return {\n        profile,\n        contacts,\n        locations,\n        loading,\n        error,\n        refetch: fetchProfile,\n        saveProfile\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VWZW5kb3JQcm9maWxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTRDO0FBQ0s7QUFDWTtBQXFEdEQsU0FBU0k7SUFDZCxNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHSCw4REFBT0E7SUFDeEIsTUFBTSxDQUFDSSxTQUFTQyxXQUFXLEdBQUdQLCtDQUFRQSxDQUF1QjtJQUM3RCxNQUFNLENBQUNRLFVBQVVDLFlBQVksR0FBR1QsK0NBQVFBLENBQWtCLEVBQUU7SUFDNUQsTUFBTSxDQUFDVSxXQUFXQyxhQUFhLEdBQUdYLCtDQUFRQSxDQUFtQixFQUFFO0lBQy9ELE1BQU0sQ0FBQ1ksU0FBU0MsV0FBVyxHQUFHYiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNjLE9BQU9DLFNBQVMsR0FBR2YsK0NBQVFBLENBQWdCO0lBRWxELE1BQU1nQixlQUFlO1FBQ25CLElBQUksQ0FBQ1gsTUFBTTtRQUVYLElBQUk7WUFDRlEsV0FBVztZQUNYRSxTQUFTO1lBQ1QsTUFBTUUsV0FBV2QsMEVBQTJCQTtZQUU1Qyx1QkFBdUI7WUFDdkIsTUFBTSxFQUFFZSxNQUFNQyxXQUFXLEVBQUVMLE9BQU9NLFlBQVksRUFBRSxHQUFHLE1BQU1ILFNBQ3RESSxJQUFJLENBQUMsbUJBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsV0FBV2xCLEtBQUttQixFQUFFLEVBQ3JCQyxNQUFNO1lBRVQsSUFBSUwsY0FBYztnQkFDaEJNLFFBQVFaLEtBQUssQ0FBQyxrQ0FBa0NNO2dCQUNoRE0sUUFBUVosS0FBSyxDQUFDLDBCQUEwQmEsS0FBS0MsU0FBUyxDQUFDUixjQUFjLE1BQU07Z0JBRTNFLG1FQUFtRTtnQkFDbkUsSUFBSUEsYUFBYVMsSUFBSSxLQUFLLFlBQVk7b0JBQ3BDSCxRQUFRSSxHQUFHLENBQUM7b0JBQ1p2QixXQUFXO29CQUNYRSxZQUFZLEVBQUU7b0JBQ2RFLGFBQWEsRUFBRTtvQkFDZkksU0FBUztvQkFD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QVM7WUFBSztRQUN6QixFQUFFLE9BQU9GLEtBQUs7WUFDWlgsUUFBUUksR0FBRyxDQUFDLGdDQUFnQ087WUFDNUMsT0FBTztnQkFBRUUsU0FBUztnQkFBT3pCLE9BQU87WUFBK0I7UUFDakU7SUFDRjtJQUVBYixnREFBU0E7c0NBQUM7WUFDUmU7UUFDRjtxQ0FBRztRQUFDWDtLQUFLO0lBRVQsT0FBTztRQUNMQztRQUNBRTtRQUNBRTtRQUNBRTtRQUNBRTtRQUNBa0UsU0FBU2hFO1FBQ1RzQjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZGJhbGlhbi9EZXNrdG9wL21vbWVudG1vaS12b2lkL3NyYy9ob29rcy91c2VWZW5kb3JQcm9maWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiQC9jb250ZXh0cy9BdXRoQ29udGV4dFwiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlXCI7XG5cbmludGVyZmFjZSBWZW5kb3JQcm9maWxlIHtcbiAgaWQ6IHN0cmluZztcbiAgdXNlcl9pZDogc3RyaW5nO1xuICBzbHVnOiBzdHJpbmcgfCBudWxsO1xuICBidXNpbmVzc19uYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBudWxsO1xuICBsb2dvX3VybDogc3RyaW5nIHwgbnVsbDtcbiAgdmVyaWZpZWQ6IGJvb2xlYW47XG4gIGJ1c2luZXNzX2NhdGVnb3J5OiBzdHJpbmc7XG4gIGV2ZW50X3R5cGVzOiBzdHJpbmdbXTtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBWZW5kb3JDb250YWN0IHtcbiAgaWQ6IHN0cmluZztcbiAgdmVuZG9yX2lkOiBzdHJpbmc7XG4gIGNvbnRhY3RfdHlwZTogXCJlbWFpbFwiIHwgXCJwaG9uZVwiO1xuICBjb250YWN0X3ZhbHVlOiBzdHJpbmc7XG4gIGlzX3ByaW1hcnk6IGJvb2xlYW47XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFZlbmRvckxvY2F0aW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgdmVuZG9yX2lkOiBzdHJpbmc7XG4gIGxvY2F0aW9uOiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFVzZVZlbmRvclByb2ZpbGVSZXR1cm4ge1xuICBwcm9maWxlOiBWZW5kb3JQcm9maWxlIHwgbnVsbDtcbiAgY29udGFjdHM6IFZlbmRvckNvbnRhY3RbXTtcbiAgbG9jYXRpb25zOiBWZW5kb3JMb2NhdGlvbltdO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgcmVmZXRjaDogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2F2ZVByb2ZpbGU6IChkYXRhOiB7XG4gICAgYnVzaW5lc3NfbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgYnVzaW5lc3NfY2F0ZWdvcnk6IHN0cmluZztcbiAgICBldmVudF90eXBlczogc3RyaW5nW107XG4gICAgY29udGFjdHM6IEFycmF5PHtcbiAgICAgIGNvbnRhY3RfdHlwZTogXCJlbWFpbFwiIHwgXCJwaG9uZVwiO1xuICAgICAgY29udGFjdF92YWx1ZTogc3RyaW5nO1xuICAgICAgaXNfcHJpbWFyeTogYm9vbGVhbjtcbiAgICB9PjtcbiAgICBsb2NhdGlvbnM6IHN0cmluZ1tdO1xuICB9KSA9PiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VWZW5kb3JQcm9maWxlKCk6IFVzZVZlbmRvclByb2ZpbGVSZXR1cm4ge1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW3Byb2ZpbGUsIHNldFByb2ZpbGVdID0gdXNlU3RhdGU8VmVuZG9yUHJvZmlsZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY29udGFjdHMsIHNldENvbnRhY3RzXSA9IHVzZVN0YXRlPFZlbmRvckNvbnRhY3RbXT4oW10pO1xuICBjb25zdCBbbG9jYXRpb25zLCBzZXRMb2NhdGlvbnNdID0gdXNlU3RhdGU8VmVuZG9yTG9jYXRpb25bXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBmZXRjaFByb2ZpbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VyKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQoKTtcblxuICAgICAgLy8gRmV0Y2ggdmVuZG9yIHByb2ZpbGVcbiAgICAgIGNvbnN0IHsgZGF0YTogcHJvZmlsZURhdGEsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwidmVuZG9yX3Byb2ZpbGVzXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgIC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAocHJvZmlsZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB2ZW5kb3IgcHJvZmlsZTpcIiwgcHJvZmlsZUVycm9yKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlByb2ZpbGUgZXJyb3IgZGV0YWlsczpcIiwgSlNPTi5zdHJpbmdpZnkocHJvZmlsZUVycm9yLCBudWxsLCAyKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB2ZW5kb3IgcHJvZmlsZSBkb2Vzbid0IGV4aXN0LCB0aGF0J3MgZXhwZWN0ZWQgZm9yIG5ldyB2ZW5kb3JzXG4gICAgICAgIGlmIChwcm9maWxlRXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2Jykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVmVuZG9yIHByb2ZpbGUgZG9lc24ndCBleGlzdCB5ZXQgLSB0aGlzIGlzIG5vcm1hbCBmb3IgbmV3IHZlbmRvcnNcIik7XG4gICAgICAgICAgc2V0UHJvZmlsZShudWxsKTtcbiAgICAgICAgICBzZXRDb250YWN0cyhbXSk7XG4gICAgICAgICAgc2V0TG9jYXRpb25zKFtdKTtcbiAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldEVycm9yKFwiRmFpbGVkIHRvIGxvYWQgcHJvZmlsZSBkYXRhXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldFByb2ZpbGUocHJvZmlsZURhdGEpO1xuXG4gICAgICAvLyBGZXRjaCB2ZW5kb3IgY29udGFjdHNcbiAgICAgIGNvbnN0IHsgZGF0YTogY29udGFjdHNEYXRhLCBlcnJvcjogY29udGFjdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2ZW5kb3JfY29udGFjdHNcIilcbiAgICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgICAgLmVxKFwidmVuZG9yX2lkXCIsIHByb2ZpbGVEYXRhLmlkKVxuICAgICAgICAub3JkZXIoXCJpc19wcmltYXJ5XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgICAgaWYgKGNvbnRhY3RzRXJyb3IpIHtcbiAgICAgICAgLy8gRXJyb3IgZmV0Y2hpbmcgdmVuZG9yIGNvbnRhY3RzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRDb250YWN0cyhjb250YWN0c0RhdGEgfHwgW10pO1xuICAgICAgfVxuXG4gICAgICAvLyBGZXRjaCB2ZW5kb3IgbG9jYXRpb25zXG4gICAgICBjb25zdCB7IGRhdGE6IGxvY2F0aW9uc0RhdGEsIGVycm9yOiBsb2NhdGlvbnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2ZW5kb3JfbG9jYXRpb25zXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgIC5lcShcInZlbmRvcl9pZFwiLCBwcm9maWxlRGF0YS5pZCk7XG5cbiAgICAgIGlmIChsb2NhdGlvbnNFcnJvcikge1xuICAgICAgICAvLyBFcnJvciBmZXRjaGluZyB2ZW5kb3IgbG9jYXRpb25zXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRMb2NhdGlvbnMobG9jYXRpb25zRGF0YSB8fCBbXSk7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNhdmVQcm9maWxlID0gYXN5bmMgKGRhdGE6IHtcbiAgICBidXNpbmVzc19uYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICBidXNpbmVzc19jYXRlZ29yeTogc3RyaW5nO1xuICAgIGV2ZW50X3R5cGVzOiBzdHJpbmdbXTtcbiAgICBsb2dvX3VybD86IHN0cmluZyB8IG51bGw7XG4gICAgY29udGFjdHM6IEFycmF5PHtcbiAgICAgIGNvbnRhY3RfdHlwZTogXCJlbWFpbFwiIHwgXCJwaG9uZVwiO1xuICAgICAgY29udGFjdF92YWx1ZTogc3RyaW5nO1xuICAgICAgaXNfcHJpbWFyeTogYm9vbGVhbjtcbiAgICB9PjtcbiAgICBsb2NhdGlvbnM6IHN0cmluZ1tdO1xuICB9KSA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gdXNlciBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50KCk7XG5cbiAgICAgIGxldCB2ZW5kb3JQcm9maWxlSWQ6IHN0cmluZztcblxuICAgICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgIC8vIE5vIHByb2ZpbGUgZXhpc3RzLCBjcmVhdGUgb25lXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdmVuZG9yIHByb2ZpbGUgZm91bmQsIGNyZWF0aW5nIG5ldyBvbmUuLi5cIik7XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgdW5pcXVlIHNsdWcgZm9yIHRoZSB2ZW5kb3JcbiAgICAgICAgbGV0IHNsdWc6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7IGdlbmVyYXRlVW5pcXVlU2x1ZyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc2x1Zy11dGlsc1wiKTtcbiAgICAgICAgICBzbHVnID0gYXdhaXQgZ2VuZXJhdGVVbmlxdWVTbHVnKGRhdGEuYnVzaW5lc3NfbmFtZSk7XG4gICAgICAgIH0gY2F0Y2ggKHNsdWdFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGdlbmVyYXRlIHNsdWcsIGNyZWF0aW5nIHZlbmRvciB3aXRob3V0IHNsdWc6Jywgc2x1Z0Vycm9yKTtcbiAgICAgICAgICAvLyBDb250aW51ZSB3aXRob3V0IHNsdWcgLSBpdCB3aWxsIHVzZSBJRCBmb3Igcm91dGluZ1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBkYXRhOiBuZXdQcm9maWxlLCBlcnJvcjogY3JlYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ2ZW5kb3JfcHJvZmlsZXNcIilcbiAgICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBidXNpbmVzc19uYW1lOiBkYXRhLmJ1c2luZXNzX25hbWUsXG4gICAgICAgICAgICAuLi4oc2x1ZyAmJiB7IHNsdWcgfSksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGJ1c2luZXNzX2NhdGVnb3J5OiBkYXRhLmJ1c2luZXNzX2NhdGVnb3J5IGFzIGFueSxcbiAgICAgICAgICAgIGV2ZW50X3R5cGVzOiBkYXRhLmV2ZW50X3R5cGVzIGFzIGFueSxcbiAgICAgICAgICAgIGxvZ29fdXJsOiBkYXRhLmxvZ29fdXJsLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmIChjcmVhdGVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIHZlbmRvciBwcm9maWxlOlwiLCBjcmVhdGVFcnJvcik7XG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byBjcmVhdGUgcHJvZmlsZVwiIH07XG4gICAgICAgIH1cblxuICAgICAgICB2ZW5kb3JQcm9maWxlSWQgPSBuZXdQcm9maWxlLmlkO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlZlbmRvciBwcm9maWxlIGNyZWF0ZWQgd2l0aCBJRDpcIiwgdmVuZG9yUHJvZmlsZUlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFByb2ZpbGUgZXhpc3RzLCB1cGRhdGUgaXRcbiAgICAgICAgdmVuZG9yUHJvZmlsZUlkID0gcHJvZmlsZS5pZDtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIGV4aXN0aW5nIHZlbmRvciBwcm9maWxlLi4uXCIpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGJ1c2luZXNzIG5hbWUgY2hhbmdlZCBhbmQgcmVnZW5lcmF0ZSBzbHVnIGlmIG5lZWRlZFxuICAgICAgICBsZXQgdXBkYXRlRGF0YTogYW55ID0ge1xuICAgICAgICAgIGJ1c2luZXNzX25hbWU6IGRhdGEuYnVzaW5lc3NfbmFtZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBidXNpbmVzc19jYXRlZ29yeTogZGF0YS5idXNpbmVzc19jYXRlZ29yeSBhcyBhbnksXG4gICAgICAgICAgZXZlbnRfdHlwZXM6IGRhdGEuZXZlbnRfdHlwZXMgYXMgYW55LFxuICAgICAgICAgIGxvZ29fdXJsOiBkYXRhLmxvZ29fdXJsLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocHJvZmlsZS5idXNpbmVzc19uYW1lICE9PSBkYXRhLmJ1c2luZXNzX25hbWUpIHtcbiAgICAgICAgICAvLyBCdXNpbmVzcyBuYW1lIGNoYW5nZWQsIHJlZ2VuZXJhdGUgc2x1Z1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGdlbmVyYXRlVW5pcXVlU2x1ZyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc2x1Zy11dGlsc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NsdWcgPSBhd2FpdCBnZW5lcmF0ZVVuaXF1ZVNsdWcoZGF0YS5idXNpbmVzc19uYW1lLCBwcm9maWxlLnNsdWcgfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHVwZGF0ZURhdGEuc2x1ZyA9IG5ld1NsdWc7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQnVzaW5lc3MgbmFtZSBjaGFuZ2VkLCByZWdlbmVyYXRpbmcgc2x1ZzogJHtuZXdTbHVnfWApO1xuICAgICAgICAgIH0gY2F0Y2ggKHNsdWdFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcmVnZW5lcmF0ZSBzbHVnLCBrZWVwaW5nIGV4aXN0aW5nIHNsdWc6Jywgc2x1Z0Vycm9yKTtcbiAgICAgICAgICAgIC8vIEtlZXAgZXhpc3Rpbmcgc2x1ZyBvciBkb24ndCB1cGRhdGUgaXRcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRhdGE6IHVwZGF0ZVJlc3VsdCwgZXJyb3I6IHByb2ZpbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcInZlbmRvcl9wcm9maWxlc1wiKVxuICAgICAgICAgIC51cGRhdGUodXBkYXRlRGF0YSlcbiAgICAgICAgICAuZXEoXCJpZFwiLCBwcm9maWxlLmlkKVxuICAgICAgICAgIC5zZWxlY3QoKTtcblxuICAgICAgICBpZiAocHJvZmlsZUVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZVwiIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCLwn5eR77iPIERlbGV0aW5nIGV4aXN0aW5nIGNvbnRhY3RzIGFuZCBsb2NhdGlvbnMuLi5cIik7XG4gICAgICBcbiAgICAgIC8vIERlbGV0ZSBjb250YWN0cyBmaXJzdCAob25seSBpZiBwcm9maWxlIGV4aXN0ZWQgYmVmb3JlKVxuICAgICAgaWYgKHByb2ZpbGUpIHtcbiAgICAgICAgY29uc3QgeyBlcnJvcjogZGVsZXRlQ29udGFjdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcInZlbmRvcl9jb250YWN0c1wiKVxuICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgIC5lcShcInZlbmRvcl9pZFwiLCBwcm9maWxlLmlkKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIvCfk54gQ29udGFjdHMgZGVsZXRlIGVycm9yOlwiLCBkZWxldGVDb250YWN0c0Vycm9yKTtcblxuICAgICAgICBpZiAoZGVsZXRlQ29udGFjdHNFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwi4p2MIEZhaWxlZCB0byBkZWxldGUgY29udGFjdHM6XCIsIGRlbGV0ZUNvbnRhY3RzRXJyb3IpO1xuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gZGVsZXRlIGV4aXN0aW5nIGNvbnRhY3RzXCIgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIENvbnRhY3RzIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gRGVsZXRlIGxvY2F0aW9uc1xuICAgICAgICBjb25zdCB7IGVycm9yOiBkZWxldGVMb2NhdGlvbnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcInZlbmRvcl9sb2NhdGlvbnNcIilcbiAgICAgICAgICAuZGVsZXRlKClcbiAgICAgICAgICAuZXEoXCJ2ZW5kb3JfaWRcIiwgcHJvZmlsZS5pZCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCLwn5ONIExvY2F0aW9ucyBkZWxldGUgZXJyb3I6XCIsIGRlbGV0ZUxvY2F0aW9uc0Vycm9yKTtcblxuICAgICAgICBpZiAoZGVsZXRlTG9jYXRpb25zRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIuKdjCBGYWlsZWQgdG8gZGVsZXRlIGxvY2F0aW9uczpcIiwgZGVsZXRlTG9jYXRpb25zRXJyb3IpO1xuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gZGVsZXRlIGV4aXN0aW5nIGxvY2F0aW9uc1wiIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBMb2NhdGlvbnMgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwi8J+TniBJbnNlcnRpbmcgbmV3IGNvbnRhY3RzLi4uXCIpO1xuICAgICAgXG4gICAgICAvLyBJbnNlcnQgbmV3IGNvbnRhY3RzXG4gICAgICBpZiAoZGF0YS5jb250YWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+TiyBDb250YWN0cyB0byBpbnNlcnQ6XCIsIGRhdGEuY29udGFjdHMpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgeyBlcnJvcjogY29udGFjdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcInZlbmRvcl9jb250YWN0c1wiKVxuICAgICAgICAgIC5pbnNlcnQoXG4gICAgICAgICAgICBkYXRhLmNvbnRhY3RzLm1hcCgoY29udGFjdCkgPT4gKHtcbiAgICAgICAgICAgICAgdmVuZG9yX2lkOiB2ZW5kb3JQcm9maWxlSWQsXG4gICAgICAgICAgICAgIGNvbnRhY3RfdHlwZTogY29udGFjdC5jb250YWN0X3R5cGUsXG4gICAgICAgICAgICAgIGNvbnRhY3RfdmFsdWU6IGNvbnRhY3QuY29udGFjdF92YWx1ZSxcbiAgICAgICAgICAgICAgaXNfcHJpbWFyeTogY29udGFjdC5pc19wcmltYXJ5LFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIvCfk54gQ29udGFjdHMgaW5zZXJ0IGVycm9yOlwiLCBjb250YWN0c0Vycm9yKTtcblxuICAgICAgICBpZiAoY29udGFjdHNFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwi4p2MIEZhaWxlZCB0byBpbnNlcnQgY29udGFjdHM6XCIsIGNvbnRhY3RzRXJyb3IpO1xuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gdXBkYXRlIGNvbnRhY3RzXCIgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIENvbnRhY3RzIGluc2VydGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi4oS577iPIE5vIGNvbnRhY3RzIHRvIGluc2VydFwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCLwn5ONIEluc2VydGluZyBuZXcgbG9jYXRpb25zLi4uXCIpO1xuICAgICAgXG4gICAgICAvLyBJbnNlcnQgbmV3IGxvY2F0aW9uc1xuICAgICAgaWYgKGRhdGEubG9jYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5e677iPIExvY2F0aW9ucyB0byBpbnNlcnQ6XCIsIGRhdGEubG9jYXRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZhbGlkYXRlIGxvY2F0aW9uIHZhbHVlc1xuICAgICAgICBjb25zdCB2YWxpZExvY2F0aW9ucyA9IFtcbiAgICAgICAgICBcIm5pY29zaWFcIiwgXCJsaW1hc3NvbFwiLCBcImxhcm5hY2FcIiwgXCJwYXBob3NcIiwgXG4gICAgICAgICAgXCJwbGF0cmVzXCIsIFwicGFyYWxpbW5pX2F5aWFfbmFwYVwiLCBcIndob2xlX2N5cHJ1c1wiXG4gICAgICAgIF07XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbnZhbGlkTG9jYXRpb25zID0gZGF0YS5sb2NhdGlvbnMuZmlsdGVyKFxuICAgICAgICAgIGxvY2F0aW9uID0+ICF2YWxpZExvY2F0aW9ucy5pbmNsdWRlcyhsb2NhdGlvbilcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpbnZhbGlkTG9jYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIuKdjCBJbnZhbGlkIGxvY2F0aW9uIHZhbHVlczpcIiwgaW52YWxpZExvY2F0aW9ucyk7XG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgSW52YWxpZCBsb2NhdGlvbiB2YWx1ZXM6ICR7aW52YWxpZExvY2F0aW9ucy5qb2luKFwiLCBcIil9YCB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsb2NhdGlvbkRhdGEgPSBkYXRhLmxvY2F0aW9ucy5tYXAoKGxvY2F0aW9uKSA9PiAoe1xuICAgICAgICAgIHZlbmRvcl9pZDogdmVuZG9yUHJvZmlsZUlkLFxuICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgfSkpO1xuICBcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5e677iPIExvY2F0aW9uIGRhdGEgdG8gaW5zZXJ0OlwiLCBsb2NhdGlvbkRhdGEpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgeyBkYXRhOiBpbnNlcnRlZExvY2F0aW9ucywgZXJyb3I6IGxvY2F0aW9uc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKFwidmVuZG9yX2xvY2F0aW9uc1wiKVxuICAgICAgICAgIC5pbnNlcnQobG9jYXRpb25EYXRhKVxuICAgICAgICAgIC5zZWxlY3QoKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIvCfk40gTG9jYXRpb25zIGluc2VydCBlcnJvcjpcIiwgbG9jYXRpb25zRXJyb3IpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCfk40gSW5zZXJ0ZWQgbG9jYXRpb25zOlwiLCBpbnNlcnRlZExvY2F0aW9ucyk7XG5cbiAgICAgICAgaWYgKGxvY2F0aW9uc0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCLinYwgRmFpbGVkIHRvIGluc2VydCBsb2NhdGlvbnM6XCIsIGxvY2F0aW9uc0Vycm9yKTtcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSBsb2NhdGlvbnNcIiB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBMb2NhdGlvbnMgaW5zZXJ0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLihLnvuI8gTm8gbG9jYXRpb25zIHRvIGluc2VydFwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCLwn5SEIFJlZmV0Y2hpbmcgcHJvZmlsZSBkYXRhLi4uXCIpO1xuICAgICAgXG4gICAgICAvLyBSZWZldGNoIGRhdGEgdG8gdXBkYXRlIHRoZSBVSVxuICAgICAgYXdhaXQgZmV0Y2hQcm9maWxlKCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwi8J+OiSBQcm9maWxlIHNhdmUgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSFcIik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCfkqUgRXhjZXB0aW9uIGluIHNhdmVQcm9maWxlOlwiLCBlcnIpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIiB9O1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoUHJvZmlsZSgpO1xuICB9LCBbdXNlcl0pO1xuXG4gIHJldHVybiB7XG4gICAgcHJvZmlsZSxcbiAgICBjb250YWN0cyxcbiAgICBsb2NhdGlvbnMsXG4gICAgbG9hZGluZyxcbiAgICBlcnJvcixcbiAgICByZWZldGNoOiBmZXRjaFByb2ZpbGUsXG4gICAgc2F2ZVByb2ZpbGUsXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VBdXRoIiwiY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IiwidXNlVmVuZG9yUHJvZmlsZSIsInVzZXIiLCJwcm9maWxlIiwic2V0UHJvZmlsZSIsImNvbnRhY3RzIiwic2V0Q29udGFjdHMiLCJsb2NhdGlvbnMiLCJzZXRMb2NhdGlvbnMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJmZXRjaFByb2ZpbGUiLCJzdXBhYmFzZSIsImRhdGEiLCJwcm9maWxlRGF0YSIsInByb2ZpbGVFcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlkIiwic2luZ2xlIiwiY29uc29sZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb2RlIiwibG9nIiwiY29udGFjdHNEYXRhIiwiY29udGFjdHNFcnJvciIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibG9jYXRpb25zRGF0YSIsImxvY2F0aW9uc0Vycm9yIiwiZXJyIiwic2F2ZVByb2ZpbGUiLCJzdWNjZXNzIiwidmVuZG9yUHJvZmlsZUlkIiwic2x1ZyIsImdlbmVyYXRlVW5pcXVlU2x1ZyIsImJ1c2luZXNzX25hbWUiLCJzbHVnRXJyb3IiLCJ3YXJuIiwibmV3UHJvZmlsZSIsImNyZWF0ZUVycm9yIiwiaW5zZXJ0IiwidXNlcl9pZCIsImRlc2NyaXB0aW9uIiwiYnVzaW5lc3NfY2F0ZWdvcnkiLCJldmVudF90eXBlcyIsImxvZ29fdXJsIiwidXBkYXRlRGF0YSIsInVwZGF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJuZXdTbHVnIiwidW5kZWZpbmVkIiwidXBkYXRlUmVzdWx0IiwidXBkYXRlIiwiZGVsZXRlQ29udGFjdHNFcnJvciIsImRlbGV0ZSIsImRlbGV0ZUxvY2F0aW9uc0Vycm9yIiwibGVuZ3RoIiwibWFwIiwiY29udGFjdCIsInZlbmRvcl9pZCIsImNvbnRhY3RfdHlwZSIsImNvbnRhY3RfdmFsdWUiLCJpc19wcmltYXJ5IiwidmFsaWRMb2NhdGlvbnMiLCJpbnZhbGlkTG9jYXRpb25zIiwiZmlsdGVyIiwibG9jYXRpb24iLCJpbmNsdWRlcyIsImpvaW4iLCJsb2NhdGlvbkRhdGEiLCJpbnNlcnRlZExvY2F0aW9ucyIsInJlZmV0Y2giXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useVendorProfile.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/error-handler.ts":
/*!**********************************!*\
  !*** ./src/lib/error-handler.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DASHBOARD_ERROR_MESSAGES: () => (/* binding */ DASHBOARD_ERROR_MESSAGES),\n/* harmony export */   categorizeError: () => (/* binding */ categorizeError),\n/* harmony export */   createErrorContext: () => (/* binding */ createErrorContext),\n/* harmony export */   formatErrorMessage: () => (/* binding */ formatErrorMessage),\n/* harmony export */   getErrorRecoveryStrategy: () => (/* binding */ getErrorRecoveryStrategy),\n/* harmony export */   handleErrorBoundaryError: () => (/* binding */ handleErrorBoundaryError),\n/* harmony export */   handleSupabaseError: () => (/* binding */ handleSupabaseError),\n/* harmony export */   logError: () => (/* binding */ logError),\n/* harmony export */   retryOperation: () => (/* binding */ retryOperation)\n/* harmony export */ });\n// Error handling utilities for the vendor dashboard\n// Error categorization\nfunction categorizeError(error, context) {\n    const errorMessage = (error === null || error === void 0 ? void 0 : error.message) || (error === null || error === void 0 ? void 0 : error.toString()) || 'Unknown error';\n    const errorCode = (error === null || error === void 0 ? void 0 : error.code) || (error === null || error === void 0 ? void 0 : error.status) || (error === null || error === void 0 ? void 0 : error.statusCode);\n    // Network errors\n    if (errorMessage.toLowerCase().includes('network') || errorMessage.toLowerCase().includes('fetch') || errorMessage.toLowerCase().includes('timeout') || errorMessage.toLowerCase().includes('connection') || errorCode === 'NETWORK_ERROR' || errorCode === 'TIMEOUT' || errorCode === 0 || errorCode === 408 || errorCode === 502 || errorCode === 503 || errorCode === 504) {\n        return {\n            type: 'network',\n            message: errorMessage,\n            userMessage: 'Unable to connect to the server. Please check your internet connection and try again.',\n            retryable: true,\n            code: errorCode,\n            details: {\n                context\n            }\n        };\n    }\n    // Authentication errors\n    if (errorMessage.toLowerCase().includes('auth') || errorMessage.toLowerCase().includes('unauthorized') || errorMessage.toLowerCase().includes('forbidden') || errorMessage.toLowerCase().includes('token') || errorMessage.toLowerCase().includes('session') || errorCode === 'UNAUTHORIZED' || errorCode === 'FORBIDDEN' || errorCode === 401 || errorCode === 403) {\n        return {\n            type: 'auth',\n            message: errorMessage,\n            userMessage: 'Your session has expired. Please log in again to continue.',\n            retryable: false,\n            code: errorCode,\n            details: {\n                context\n            }\n        };\n    }\n    // Permission errors\n    if (errorMessage.toLowerCase().includes('permission') || errorMessage.toLowerCase().includes('access denied') || errorMessage.toLowerCase().includes('not allowed') || errorCode === 'PERMISSION_DENIED' || errorCode === 403) {\n        return {\n            type: 'permission',\n            message: errorMessage,\n            userMessage: 'You don\\'t have permission to perform this action. Please contact support if you believe this is an error.',\n            retryable: false,\n            code: errorCode,\n            details: {\n                context\n            }\n        };\n    }\n    // Validation errors\n    if (errorMessage.toLowerCase().includes('validation') || errorMessage.toLowerCase().includes('invalid') || errorMessage.toLowerCase().includes('required') || errorMessage.toLowerCase().includes('format') || errorCode === 'VALIDATION_ERROR' || errorCode === 400) {\n        return {\n            type: 'validation',\n            message: errorMessage,\n            userMessage: 'The provided data is invalid. Please check your input and try again.',\n            retryable: true,\n            code: errorCode,\n            details: {\n                context\n            }\n        };\n    }\n    // Database/Data errors\n    if (errorMessage.toLowerCase().includes('database') || errorMessage.toLowerCase().includes('query') || errorMessage.toLowerCase().includes('sql') || errorMessage.toLowerCase().includes('data') || errorMessage.toLowerCase().includes('record') || errorMessage.toLowerCase().includes('not found') || errorCode === 'DATA_ERROR' || errorCode === 404 || errorCode === 500) {\n        return {\n            type: 'data',\n            message: errorMessage,\n            userMessage: 'Unable to load or save data. Please try again or contact support if the problem persists.',\n            retryable: true,\n            code: errorCode,\n            details: {\n                context\n            }\n        };\n    }\n    // Unknown errors\n    return {\n        type: 'unknown',\n        message: errorMessage,\n        userMessage: 'An unexpected error occurred. Please try again or contact support if the problem persists.',\n        retryable: true,\n        code: errorCode,\n        details: {\n            context\n        }\n    };\n}\n// Error logging\nfunction logError(error, context) {\n    const logData = {\n        ...error,\n        context: context || {},\n        timestamp: new Date().toISOString(),\n        userAgent:  true ? window.navigator.userAgent : 0,\n        url:  true ? window.location.href : 0\n    };\n    // Console logging for development\n    if (true) {\n        console.error('Dashboard Error:', logData);\n    }\n    // Production error logging (TODO: Integrate with error tracking service)\n    if (false) {}\n}\n// Error recovery strategies\nfunction getErrorRecoveryStrategy(error) {\n    switch(error.type){\n        case 'network':\n            return {\n                action: 'retry',\n                delay: 2000,\n                maxRetries: 3\n            };\n        case 'auth':\n            return {\n                action: 'redirect',\n                delay: 1000 // 1 second before redirect\n            };\n        case 'data':\n            return {\n                action: 'retry',\n                delay: 1000,\n                maxRetries: 2\n            };\n        case 'validation':\n            return {\n                action: 'retry',\n                delay: 0,\n                maxRetries: 1\n            };\n        case 'permission':\n            return {\n                action: 'contact_support'\n            };\n        case 'unknown':\n        default:\n            return {\n                action: 'retry',\n                delay: 3000,\n                maxRetries: 1\n            };\n    }\n}\n// Error message formatting\nfunction formatErrorMessage(error) {\n    let includeDetails = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    var _error_details;\n    let message = error.userMessage;\n    if (includeDetails && ((_error_details = error.details) === null || _error_details === void 0 ? void 0 : _error_details.context)) {\n        const context = error.details.context;\n        message += \" (Component: \".concat(context.component, \", Action: \").concat(context.action, \")\");\n    }\n    return message;\n}\n// Error boundary error handler\nfunction handleErrorBoundaryError(error, errorInfo, context) {\n    const dashboardError = categorizeError(error, context);\n    logError(dashboardError, context);\n    // Return the categorized error for the error boundary to handle\n    return dashboardError;\n}\n// Supabase error handling\nfunction handleSupabaseError(error, context) {\n    // Handle Supabase-specific error codes\n    if (error === null || error === void 0 ? void 0 : error.code) {\n        switch(error.code){\n            case 'PGRST116':\n                return {\n                    type: 'data',\n                    message: error.message,\n                    userMessage: 'The requested data was not found.',\n                    retryable: false,\n                    code: error.code,\n                    details: {\n                        context\n                    }\n                };\n            case 'PGRST301':\n                return {\n                    type: 'auth',\n                    message: error.message,\n                    userMessage: 'Your session has expired. Please log in again.',\n                    retryable: false,\n                    code: error.code,\n                    details: {\n                        context\n                    }\n                };\n            case 'PGRST302':\n                return {\n                    type: 'auth',\n                    message: error.message,\n                    userMessage: 'Authentication failed. Please log in again.',\n                    retryable: false,\n                    code: error.code,\n                    details: {\n                        context\n                    }\n                };\n            case 'PGRST303':\n                return {\n                    type: 'auth',\n                    message: error.message,\n                    userMessage: 'Please log in to continue.',\n                    retryable: false,\n                    code: error.code,\n                    details: {\n                        context\n                    }\n                };\n            case 'PGRST304':\n                return {\n                    type: 'permission',\n                    message: error.message,\n                    userMessage: 'You don\\'t have permission to access this data.',\n                    retryable: false,\n                    code: error.code,\n                    details: {\n                        context\n                    }\n                };\n            default:\n                return categorizeError(error, context);\n        }\n    }\n    return categorizeError(error, context);\n}\n// Retry mechanism\nasync function retryOperation(operation) {\n    let maxRetries = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3, delay = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1000, context = arguments.length > 3 ? arguments[3] : void 0;\n    let lastError;\n    for(let attempt = 1; attempt <= maxRetries; attempt++){\n        try {\n            return await operation();\n        } catch (error) {\n            lastError = error;\n            if (attempt === maxRetries) {\n                break;\n            }\n            // Wait before retrying\n            await new Promise((resolve)=>setTimeout(resolve, delay * attempt));\n        }\n    }\n    // Log the final error\n    const dashboardError = handleSupabaseError(lastError, context);\n    logError(dashboardError, context);\n    throw new Error(dashboardError.userMessage);\n}\n// Error context helpers\nfunction createErrorContext(component, action, userId, vendorId) {\n    return {\n        component,\n        action,\n        userId,\n        vendorId,\n        timestamp: new Date()\n    };\n}\n// Error message constants for common dashboard operations\nconst DASHBOARD_ERROR_MESSAGES = {\n    STATS_LOAD_FAILED: 'Unable to load dashboard statistics',\n    INQUIRIES_LOAD_FAILED: 'Unable to load recent inquiries',\n    PROFILE_LOAD_FAILED: 'Unable to load profile information',\n    GROWTH_CALC_FAILED: 'Unable to calculate growth metrics',\n    REFRESH_FAILED: 'Unable to refresh dashboard data',\n    REAL_TIME_CONNECTION_FAILED: 'Real-time updates are temporarily unavailable',\n    CACHE_LOAD_FAILED: 'Unable to load cached data',\n    VENDOR_ID_FETCH_FAILED: 'Unable to load vendor information'\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZXJyb3ItaGFuZGxlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSxvREFBb0Q7QUFtQnBELHVCQUF1QjtBQUNoQixTQUFTQSxnQkFBZ0JDLEtBQVUsRUFBRUMsT0FBc0I7SUFDaEUsTUFBTUMsZUFBZUYsQ0FBQUEsa0JBQUFBLDRCQUFBQSxNQUFPRyxPQUFPLE1BQUlILGtCQUFBQSw0QkFBQUEsTUFBT0ksUUFBUSxPQUFNO0lBQzVELE1BQU1DLFlBQVlMLENBQUFBLGtCQUFBQSw0QkFBQUEsTUFBT00sSUFBSSxNQUFJTixrQkFBQUEsNEJBQUFBLE1BQU9PLE1BQU0sTUFBSVAsa0JBQUFBLDRCQUFBQSxNQUFPUSxVQUFVO0lBRW5FLGlCQUFpQjtJQUNqQixJQUNFTixhQUFhTyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxjQUNwQ1IsYUFBYU8sV0FBVyxHQUFHQyxRQUFRLENBQUMsWUFDcENSLGFBQWFPLFdBQVcsR0FBR0MsUUFBUSxDQUFDLGNBQ3BDUixhQUFhTyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxpQkFDcENMLGNBQWMsbUJBQ2RBLGNBQWMsYUFDZEEsY0FBYyxLQUNkQSxjQUFjLE9BQ2RBLGNBQWMsT0FDZEEsY0FBYyxPQUNkQSxjQUFjLEtBQ2Q7UUFDQSxPQUFPO1lBQ0xNLE1BQU07WUFDTlIsU0FBU0Q7WUFDVFUsYUFBYTtZQUNiQyxXQUFXO1lBQ1hQLE1BQU1EO1lBQ05TLFNBQVM7Z0JBQUViO1lBQVE7UUFDckI7SUFDRjtJQUVBLHdCQUF3QjtJQUN4QixJQUNFQyxhQUFhTyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxXQUNwQ1IsYUFBYU8sV0FBVyxHQUFHQyxRQUFRLENBQUMsbUJBQ3BDUixhQUFhTyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxnQkFDcENSLGFBQWFPLFdBQVcsR0FBR0MsUUFBUSxDQUFDLFlBQ3BDUixhQUFhTyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxjQUNwQ0wsY0FBYyxrQkFDZEEs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RDtJQUNGO0lBRUEsc0JBQXNCO0lBQ3RCLE1BQU1MLGlCQUFpQkMsb0JBQW9CRyxXQUFXeEM7SUFDdERjLFNBQVNzQixnQkFBZ0JwQztJQUV6QixNQUFNLElBQUk2QyxNQUFNVCxlQUFlekIsV0FBVztBQUM1QztBQUVBLHdCQUF3QjtBQUNqQixTQUFTbUMsbUJBQW1CbEIsU0FBaUIsRUFBRUMsTUFBYyxFQUFFa0IsTUFBZSxFQUFFQyxRQUFpQjtJQUN0RyxPQUFPO1FBQ0xwQjtRQUNBQztRQUNBa0I7UUFDQUM7UUFDQWhDLFdBQVcsSUFBSUM7SUFDakI7QUFDRjtBQUVBLDBEQUEwRDtBQUNuRCxNQUFNZ0MsMkJBQTJCO0lBQ3RDQyxtQkFBbUI7SUFDbkJDLHVCQUF1QjtJQUN2QkMscUJBQXFCO0lBQ3JCQyxvQkFBb0I7SUFDcEJDLGdCQUFnQjtJQUNoQkMsNkJBQTZCO0lBQzdCQyxtQkFBbUI7SUFDbkJDLHdCQUF3QjtBQUMxQixFQUFXIiwic291cmNlcyI6WyIvVXNlcnMvZGF2aWRiYWxpYW4vRGVza3RvcC9tb21lbnRtb2ktdm9pZC9zcmMvbGliL2Vycm9yLWhhbmRsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRXJyb3IgaGFuZGxpbmcgdXRpbGl0aWVzIGZvciB0aGUgdmVuZG9yIGRhc2hib2FyZFxuXG5leHBvcnQgaW50ZXJmYWNlIERhc2hib2FyZEVycm9yIHtcbiAgdHlwZTogJ25ldHdvcmsnIHwgJ2F1dGgnIHwgJ2RhdGEnIHwgJ3ZhbGlkYXRpb24nIHwgJ3Blcm1pc3Npb24nIHwgJ3Vua25vd24nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHVzZXJNZXNzYWdlOiBzdHJpbmc7XG4gIHJldHJ5YWJsZTogYm9vbGVhbjtcbiAgY29kZT86IHN0cmluZztcbiAgZGV0YWlscz86IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFcnJvckNvbnRleHQge1xuICBjb21wb25lbnQ6IHN0cmluZztcbiAgYWN0aW9uOiBzdHJpbmc7XG4gIHVzZXJJZD86IHN0cmluZztcbiAgdmVuZG9ySWQ/OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbn1cblxuLy8gRXJyb3IgY2F0ZWdvcml6YXRpb25cbmV4cG9ydCBmdW5jdGlvbiBjYXRlZ29yaXplRXJyb3IoZXJyb3I6IGFueSwgY29udGV4dD86IEVycm9yQ29udGV4dCk6IERhc2hib2FyZEVycm9yIHtcbiAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3I/Lm1lc3NhZ2UgfHwgZXJyb3I/LnRvU3RyaW5nKCkgfHwgJ1Vua25vd24gZXJyb3InO1xuICBjb25zdCBlcnJvckNvZGUgPSBlcnJvcj8uY29kZSB8fCBlcnJvcj8uc3RhdHVzIHx8IGVycm9yPy5zdGF0dXNDb2RlO1xuICBcbiAgLy8gTmV0d29yayBlcnJvcnNcbiAgaWYgKFxuICAgIGVycm9yTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCduZXR3b3JrJykgfHxcbiAgICBlcnJvck1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZmV0Y2gnKSB8fFxuICAgIGVycm9yTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0aW1lb3V0JykgfHxcbiAgICBlcnJvck1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnY29ubmVjdGlvbicpIHx8XG4gICAgZXJyb3JDb2RlID09PSAnTkVUV09SS19FUlJPUicgfHxcbiAgICBlcnJvckNvZGUgPT09ICdUSU1FT1VUJyB8fFxuICAgIGVycm9yQ29kZSA9PT0gMCB8fFxuICAgIGVycm9yQ29kZSA9PT0gNDA4IHx8XG4gICAgZXJyb3JDb2RlID09PSA1MDIgfHxcbiAgICBlcnJvckNvZGUgPT09IDUwMyB8fFxuICAgIGVycm9yQ29kZSA9PT0gNTA0XG4gICkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnbmV0d29yaycsXG4gICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICB1c2VyTWVzc2FnZTogJ1VuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBzZXJ2ZXIuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2Fpbi4nLFxuICAgICAgcmV0cnlhYmxlOiB0cnVlLFxuICAgICAgY29kZTogZXJyb3JDb2RlLFxuICAgICAgZGV0YWlsczogeyBjb250ZXh0IH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQXV0aGVudGljYXRpb24gZXJyb3JzXG4gIGlmIChcbiAgICBlcnJvck1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYXV0aCcpIHx8XG4gICAgZXJyb3JNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3VuYXV0aG9yaXplZCcpIHx8XG4gICAgZXJyb3JNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2ZvcmJpZGRlbicpIHx8XG4gICAgZXJyb3JNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Rva2VuJykgfHxcbiAgICBlcnJvck1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnc2Vzc2lvbicpIHx8XG4gICAgZXJyb3JDb2RlID09PSAnVU5BVVRIT1JJWkVEJyB8fFxuICAgIGVycm9yQ29kZSA9PT0gJ0ZPUkJJRERFTicgfHxcbiAgICBlcnJvckNvZGUgPT09IDQwMSB8fFxuICAgIGVycm9yQ29kZSA9PT0gNDAzXG4gICkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnYXV0aCcsXG4gICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICB1c2VyTWVzc2FnZTogJ1lvdXIgc2Vzc2lvbiBoYXMgZXhwaXJlZC4gUGxlYXNlIGxvZyBpbiBhZ2FpbiB0byBjb250aW51ZS4nLFxuICAgICAgcmV0cnlhYmxlOiBmYWxzZSxcbiAgICAgIGNvZGU6IGVycm9yQ29kZSxcbiAgICAgIGRldGFpbHM6IHsgY29udGV4dCB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIFBlcm1pc3Npb24gZXJyb3JzXG4gIGlmIChcbiAgICBlcnJvck1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncGVybWlzc2lvbicpIHx8XG4gICAgZXJyb3JNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2FjY2VzcyBkZW5pZWQnKSB8fFxuICAgIGVycm9yTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdub3QgYWxsb3dlZCcpIHx8XG4gICAgZXJyb3JDb2RlID09PSAnUEVSTUlTU0lPTl9ERU5JRUQnIHx8XG4gICAgZXJyb3JDb2RlID09PSA0MDNcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdwZXJtaXNzaW9uJyxcbiAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgIHVzZXJNZXNzYWdlOiAnWW91IGRvblxcJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uIFBsZWFzZSBjb250YWN0IHN1cHBvcnQgaWYgeW91IGJlbGlldmUgdGhpcyBpcyBhbiBlcnJvci4nLFxuICAgICAgcmV0cnlhYmxlOiBmYWxzZSxcbiAgICAgIGNvZGU6IGVycm9yQ29kZSxcbiAgICAgIGRldGFpbHM6IHsgY29udGV4dCB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIFZhbGlkYXRpb24gZXJyb3JzXG4gIGlmIChcbiAgICBlcnJvck1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndmFsaWRhdGlvbicpIHx8XG4gICAgZXJyb3JNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2ludmFsaWQnKSB8fFxuICAgIGVycm9yTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdyZXF1aXJlZCcpIHx8XG4gICAgZXJyb3JNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2Zvcm1hdCcpIHx8XG4gICAgZXJyb3JDb2RlID09PSAnVkFMSURBVElPTl9FUlJPUicgfHxcbiAgICBlcnJvckNvZGUgPT09IDQwMFxuICApIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3ZhbGlkYXRpb24nLFxuICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgdXNlck1lc3NhZ2U6ICdUaGUgcHJvdmlkZWQgZGF0YSBpcyBpbnZhbGlkLiBQbGVhc2UgY2hlY2sgeW91ciBpbnB1dCBhbmQgdHJ5IGFnYWluLicsXG4gICAgICByZXRyeWFibGU6IHRydWUsXG4gICAgICBjb2RlOiBlcnJvckNvZGUsXG4gICAgICBkZXRhaWxzOiB7IGNvbnRleHQgfVxuICAgIH07XG4gIH1cblxuICAvLyBEYXRhYmFzZS9EYXRhIGVycm9yc1xuICBpZiAoXG4gICAgZXJyb3JNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2RhdGFiYXNlJykgfHxcbiAgICBlcnJvck1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncXVlcnknKSB8fFxuICAgIGVycm9yTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdzcWwnKSB8fFxuICAgIGVycm9yTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdkYXRhJykgfHxcbiAgICBlcnJvck1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncmVjb3JkJykgfHxcbiAgICBlcnJvck1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbm90IGZvdW5kJykgfHxcbiAgICBlcnJvckNvZGUgPT09ICdEQVRBX0VSUk9SJyB8fFxuICAgIGVycm9yQ29kZSA9PT0gNDA0IHx8XG4gICAgZXJyb3JDb2RlID09PSA1MDBcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdkYXRhJyxcbiAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgIHVzZXJNZXNzYWdlOiAnVW5hYmxlIHRvIGxvYWQgb3Igc2F2ZSBkYXRhLiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydCBpZiB0aGUgcHJvYmxlbSBwZXJzaXN0cy4nLFxuICAgICAgcmV0cnlhYmxlOiB0cnVlLFxuICAgICAgY29kZTogZXJyb3JDb2RlLFxuICAgICAgZGV0YWlsczogeyBjb250ZXh0IH1cbiAgICB9O1xuICB9XG5cbiAgLy8gVW5rbm93biBlcnJvcnNcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAndW5rbm93bicsXG4gICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgIHVzZXJNZXNzYWdlOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQgaWYgdGhlIHByb2JsZW0gcGVyc2lzdHMuJyxcbiAgICByZXRyeWFibGU6IHRydWUsXG4gICAgY29kZTogZXJyb3JDb2RlLFxuICAgIGRldGFpbHM6IHsgY29udGV4dCB9XG4gIH07XG59XG5cbi8vIEVycm9yIGxvZ2dpbmdcbmV4cG9ydCBmdW5jdGlvbiBsb2dFcnJvcihlcnJvcjogRGFzaGJvYXJkRXJyb3IsIGNvbnRleHQ/OiBFcnJvckNvbnRleHQpIHtcbiAgY29uc3QgbG9nRGF0YSA9IHtcbiAgICAuLi5lcnJvcixcbiAgICBjb250ZXh0OiBjb250ZXh0IHx8IHt9LFxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHVzZXJBZ2VudDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCA6ICdzZXJ2ZXInLFxuICAgIHVybDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6ICd1bmtub3duJ1xuICB9O1xuXG4gIC8vIENvbnNvbGUgbG9nZ2luZyBmb3IgZGV2ZWxvcG1lbnRcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgY29uc29sZS5lcnJvcignRGFzaGJvYXJkIEVycm9yOicsIGxvZ0RhdGEpO1xuICB9XG5cbiAgLy8gUHJvZHVjdGlvbiBlcnJvciBsb2dnaW5nIChUT0RPOiBJbnRlZ3JhdGUgd2l0aCBlcnJvciB0cmFja2luZyBzZXJ2aWNlKVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIFRPRE86IFNlbmQgdG8gZXJyb3IgdHJhY2tpbmcgc2VydmljZSAoU2VudHJ5LCBMb2dSb2NrZXQsIGV0Yy4pXG4gICAgY29uc29sZS5lcnJvcignUHJvZHVjdGlvbiBFcnJvcjonLCB7XG4gICAgICB0eXBlOiBlcnJvci50eXBlLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIHVzZXJNZXNzYWdlOiBlcnJvci51c2VyTWVzc2FnZSxcbiAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICB0aW1lc3RhbXA6IGxvZ0RhdGEudGltZXN0YW1wLFxuICAgICAgY29tcG9uZW50OiBjb250ZXh0Py5jb21wb25lbnQsXG4gICAgICBhY3Rpb246IGNvbnRleHQ/LmFjdGlvblxuICAgIH0pO1xuICB9XG59XG5cbi8vIEVycm9yIHJlY292ZXJ5IHN0cmF0ZWdpZXNcbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvclJlY292ZXJ5U3RyYXRlZ3koZXJyb3I6IERhc2hib2FyZEVycm9yKToge1xuICBhY3Rpb246ICdyZXRyeScgfCAncmVkaXJlY3QnIHwgJ3JlZnJlc2gnIHwgJ2NvbnRhY3Rfc3VwcG9ydCcgfCAnbm9uZSc7XG4gIGRlbGF5PzogbnVtYmVyO1xuICBtYXhSZXRyaWVzPzogbnVtYmVyO1xufSB7XG4gIHN3aXRjaCAoZXJyb3IudHlwZSkge1xuICAgIGNhc2UgJ25ldHdvcmsnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aW9uOiAncmV0cnknLFxuICAgICAgICBkZWxheTogMjAwMCwgLy8gMiBzZWNvbmRzXG4gICAgICAgIG1heFJldHJpZXM6IDNcbiAgICAgIH07XG4gICAgXG4gICAgY2FzZSAnYXV0aCc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY3Rpb246ICdyZWRpcmVjdCcsXG4gICAgICAgIGRlbGF5OiAxMDAwIC8vIDEgc2Vjb25kIGJlZm9yZSByZWRpcmVjdFxuICAgICAgfTtcbiAgICBcbiAgICBjYXNlICdkYXRhJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjdGlvbjogJ3JldHJ5JyxcbiAgICAgICAgZGVsYXk6IDEwMDAsXG4gICAgICAgIG1heFJldHJpZXM6IDJcbiAgICAgIH07XG4gICAgXG4gICAgY2FzZSAndmFsaWRhdGlvbic6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY3Rpb246ICdyZXRyeScsXG4gICAgICAgIGRlbGF5OiAwLFxuICAgICAgICBtYXhSZXRyaWVzOiAxXG4gICAgICB9O1xuICAgIFxuICAgIGNhc2UgJ3Blcm1pc3Npb24nOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aW9uOiAnY29udGFjdF9zdXBwb3J0J1xuICAgICAgfTtcbiAgICBcbiAgICBjYXNlICd1bmtub3duJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aW9uOiAncmV0cnknLFxuICAgICAgICBkZWxheTogMzAwMCxcbiAgICAgICAgbWF4UmV0cmllczogMVxuICAgICAgfTtcbiAgfVxufVxuXG4vLyBFcnJvciBtZXNzYWdlIGZvcm1hdHRpbmdcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRFcnJvck1lc3NhZ2UoZXJyb3I6IERhc2hib2FyZEVycm9yLCBpbmNsdWRlRGV0YWlscyA9IGZhbHNlKTogc3RyaW5nIHtcbiAgbGV0IG1lc3NhZ2UgPSBlcnJvci51c2VyTWVzc2FnZTtcbiAgXG4gIGlmIChpbmNsdWRlRGV0YWlscyAmJiBlcnJvci5kZXRhaWxzPy5jb250ZXh0KSB7XG4gICAgY29uc3QgY29udGV4dCA9IGVycm9yLmRldGFpbHMuY29udGV4dDtcbiAgICBtZXNzYWdlICs9IGAgKENvbXBvbmVudDogJHtjb250ZXh0LmNvbXBvbmVudH0sIEFjdGlvbjogJHtjb250ZXh0LmFjdGlvbn0pYDtcbiAgfVxuICBcbiAgcmV0dXJuIG1lc3NhZ2U7XG59XG5cbi8vIEVycm9yIGJvdW5kYXJ5IGVycm9yIGhhbmRsZXJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVFcnJvckJvdW5kYXJ5RXJyb3IoZXJyb3I6IEVycm9yLCBlcnJvckluZm86IFJlYWN0LkVycm9ySW5mbywgY29udGV4dD86IEVycm9yQ29udGV4dCkge1xuICBjb25zdCBkYXNoYm9hcmRFcnJvciA9IGNhdGVnb3JpemVFcnJvcihlcnJvciwgY29udGV4dCk7XG4gIGxvZ0Vycm9yKGRhc2hib2FyZEVycm9yLCBjb250ZXh0KTtcbiAgXG4gIC8vIFJldHVybiB0aGUgY2F0ZWdvcml6ZWQgZXJyb3IgZm9yIHRoZSBlcnJvciBib3VuZGFyeSB0byBoYW5kbGVcbiAgcmV0dXJuIGRhc2hib2FyZEVycm9yO1xufVxuXG4vLyBTdXBhYmFzZSBlcnJvciBoYW5kbGluZ1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVN1cGFiYXNlRXJyb3IoZXJyb3I6IGFueSwgY29udGV4dD86IEVycm9yQ29udGV4dCk6IERhc2hib2FyZEVycm9yIHtcbiAgLy8gSGFuZGxlIFN1cGFiYXNlLXNwZWNpZmljIGVycm9yIGNvZGVzXG4gIGlmIChlcnJvcj8uY29kZSkge1xuICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgY2FzZSAnUEdSU1QxMTYnOiAvLyBObyByb3dzIHJldHVybmVkXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgdXNlck1lc3NhZ2U6ICdUaGUgcmVxdWVzdGVkIGRhdGEgd2FzIG5vdCBmb3VuZC4nLFxuICAgICAgICAgIHJldHJ5YWJsZTogZmFsc2UsXG4gICAgICAgICAgY29kZTogZXJyb3IuY29kZSxcbiAgICAgICAgICBkZXRhaWxzOiB7IGNvbnRleHQgfVxuICAgICAgICB9O1xuICAgICAgXG4gICAgICBjYXNlICdQR1JTVDMwMSc6IC8vIEpXVCBleHBpcmVkXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2F1dGgnLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgdXNlck1lc3NhZ2U6ICdZb3VyIHNlc3Npb24gaGFzIGV4cGlyZWQuIFBsZWFzZSBsb2cgaW4gYWdhaW4uJyxcbiAgICAgICAgICByZXRyeWFibGU6IGZhbHNlLFxuICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgZGV0YWlsczogeyBjb250ZXh0IH1cbiAgICAgICAgfTtcbiAgICAgIFxuICAgICAgY2FzZSAnUEdSU1QzMDInOiAvLyBKV1QgaW52YWxpZFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdhdXRoJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIHVzZXJNZXNzYWdlOiAnQXV0aGVudGljYXRpb24gZmFpbGVkLiBQbGVhc2UgbG9nIGluIGFnYWluLicsXG4gICAgICAgICAgcmV0cnlhYmxlOiBmYWxzZSxcbiAgICAgICAgICBjb2RlOiBlcnJvci5jb2RlLFxuICAgICAgICAgIGRldGFpbHM6IHsgY29udGV4dCB9XG4gICAgICAgIH07XG4gICAgICBcbiAgICAgIGNhc2UgJ1BHUlNUMzAzJzogLy8gSldUIG1pc3NpbmdcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnYXV0aCcsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICB1c2VyTWVzc2FnZTogJ1BsZWFzZSBsb2cgaW4gdG8gY29udGludWUuJyxcbiAgICAgICAgICByZXRyeWFibGU6IGZhbHNlLFxuICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgZGV0YWlsczogeyBjb250ZXh0IH1cbiAgICAgICAgfTtcbiAgICAgIFxuICAgICAgY2FzZSAnUEdSU1QzMDQnOiAvLyBSTFMgcG9saWN5IHZpb2xhdGlvblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdwZXJtaXNzaW9uJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIHVzZXJNZXNzYWdlOiAnWW91IGRvblxcJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIGRhdGEuJyxcbiAgICAgICAgICByZXRyeWFibGU6IGZhbHNlLFxuICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgZGV0YWlsczogeyBjb250ZXh0IH1cbiAgICAgICAgfTtcbiAgICAgIFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGNhdGVnb3JpemVFcnJvcihlcnJvciwgY29udGV4dCk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gY2F0ZWdvcml6ZUVycm9yKGVycm9yLCBjb250ZXh0KTtcbn1cblxuLy8gUmV0cnkgbWVjaGFuaXNtXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmV0cnlPcGVyYXRpb248VD4oXG4gIG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPixcbiAgbWF4UmV0cmllczogbnVtYmVyID0gMyxcbiAgZGVsYXk6IG51bWJlciA9IDEwMDAsXG4gIGNvbnRleHQ/OiBFcnJvckNvbnRleHRcbik6IFByb21pc2U8VD4ge1xuICBsZXQgbGFzdEVycm9yOiBhbnk7XG4gIFxuICBmb3IgKGxldCBhdHRlbXB0ID0gMTsgYXR0ZW1wdCA8PSBtYXhSZXRyaWVzOyBhdHRlbXB0KyspIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IG9wZXJhdGlvbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsYXN0RXJyb3IgPSBlcnJvcjtcbiAgICAgIFxuICAgICAgaWYgKGF0dGVtcHQgPT09IG1heFJldHJpZXMpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFdhaXQgYmVmb3JlIHJldHJ5aW5nXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkgKiBhdHRlbXB0KSk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBMb2cgdGhlIGZpbmFsIGVycm9yXG4gIGNvbnN0IGRhc2hib2FyZEVycm9yID0gaGFuZGxlU3VwYWJhc2VFcnJvcihsYXN0RXJyb3IsIGNvbnRleHQpO1xuICBsb2dFcnJvcihkYXNoYm9hcmRFcnJvciwgY29udGV4dCk7XG4gIFxuICB0aHJvdyBuZXcgRXJyb3IoZGFzaGJvYXJkRXJyb3IudXNlck1lc3NhZ2UpO1xufVxuXG4vLyBFcnJvciBjb250ZXh0IGhlbHBlcnNcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFcnJvckNvbnRleHQoY29tcG9uZW50OiBzdHJpbmcsIGFjdGlvbjogc3RyaW5nLCB1c2VySWQ/OiBzdHJpbmcsIHZlbmRvcklkPzogc3RyaW5nKTogRXJyb3JDb250ZXh0IHtcbiAgcmV0dXJuIHtcbiAgICBjb21wb25lbnQsXG4gICAgYWN0aW9uLFxuICAgIHVzZXJJZCxcbiAgICB2ZW5kb3JJZCxcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgfTtcbn1cblxuLy8gRXJyb3IgbWVzc2FnZSBjb25zdGFudHMgZm9yIGNvbW1vbiBkYXNoYm9hcmQgb3BlcmF0aW9uc1xuZXhwb3J0IGNvbnN0IERBU0hCT0FSRF9FUlJPUl9NRVNTQUdFUyA9IHtcbiAgU1RBVFNfTE9BRF9GQUlMRUQ6ICdVbmFibGUgdG8gbG9hZCBkYXNoYm9hcmQgc3RhdGlzdGljcycsXG4gIElOUVVJUklFU19MT0FEX0ZBSUxFRDogJ1VuYWJsZSB0byBsb2FkIHJlY2VudCBpbnF1aXJpZXMnLFxuICBQUk9GSUxFX0xPQURfRkFJTEVEOiAnVW5hYmxlIHRvIGxvYWQgcHJvZmlsZSBpbmZvcm1hdGlvbicsXG4gIEdST1dUSF9DQUxDX0ZBSUxFRDogJ1VuYWJsZSB0byBjYWxjdWxhdGUgZ3Jvd3RoIG1ldHJpY3MnLFxuICBSRUZSRVNIX0ZBSUxFRDogJ1VuYWJsZSB0byByZWZyZXNoIGRhc2hib2FyZCBkYXRhJyxcbiAgUkVBTF9USU1FX0NPTk5FQ1RJT05fRkFJTEVEOiAnUmVhbC10aW1lIHVwZGF0ZXMgYXJlIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlJyxcbiAgQ0FDSEVfTE9BRF9GQUlMRUQ6ICdVbmFibGUgdG8gbG9hZCBjYWNoZWQgZGF0YScsXG4gIFZFTkRPUl9JRF9GRVRDSF9GQUlMRUQ6ICdVbmFibGUgdG8gbG9hZCB2ZW5kb3IgaW5mb3JtYXRpb24nXG59IGFzIGNvbnN0O1xuIl0sIm5hbWVzIjpbImNhdGVnb3JpemVFcnJvciIsImVycm9yIiwiY29udGV4dCIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJ0b1N0cmluZyIsImVycm9yQ29kZSIsImNvZGUiLCJzdGF0dXMiLCJzdGF0dXNDb2RlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInR5cGUiLCJ1c2VyTWVzc2FnZSIsInJldHJ5YWJsZSIsImRldGFpbHMiLCJsb2dFcnJvciIsImxvZ0RhdGEiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1c2VyQWdlbnQiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ1cmwiLCJsb2NhdGlvbiIsImhyZWYiLCJwcm9jZXNzIiwiZm9ybWF0RXJyb3JNZXNzYWdlIiwiY29uc29sZSIsImNvbXBvbmVudCIsImFjdGlvbiIsImdldEVycm9yUmVjb3ZlcnlTdHJhdGVneSIsImRlbGF5IiwibWF4UmV0cmllcyIsImluY2x1ZGVEZXRhaWxzIiwiaGFuZGxlRXJyb3JCb3VuZGFyeUVycm9yIiwiZXJyb3JJbmZvIiwiZGFzaGJvYXJkRXJyb3IiLCJoYW5kbGVTdXBhYmFzZUVycm9yIiwicmV0cnlPcGVyYXRpb24iLCJvcGVyYXRpb24iLCJsYXN0RXJyb3IiLCJhdHRlbXB0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJjcmVhdGVFcnJvckNvbnRleHQiLCJ1c2VySWQiLCJ2ZW5kb3JJZCIsIkRBU0hCT0FSRF9FUlJPUl9NRVNTQUdFUyIsIlNUQVRTX0xPQURfRkFJTEVEIiwiSU5RVUlSSUVTX0xPQURfRkFJTEVEIiwiUFJPRklMRV9MT0FEX0ZBSUxFRCIsIkdST1dUSF9DQUxDX0ZBSUxFRCIsIlJFRlJFU0hfRkFJTEVEIiwiUkVBTF9USU1FX0NPTk5FQ1RJT05fRkFJTEVEIiwiQ0FDSEVfTE9BRF9GQUlMRUQiLCJWRU5ET1JfSURfRkVUQ0hfRkFJTEVEIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/error-handler.ts\n"));

/***/ })

});